{"version":3,"file":"telenet-ng-lib-config.mjs","sources":["../../src/lib/config/app.config.ts","../../src/lib/config/config.constants.ts","../../src/lib/config/config.service.ts","../../src/lib/config/config.component.ts","../../src/lib/config/config.component.html","../../src/lib/config/config.module.ts","../../src/telenet-ng-lib-config.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\nimport { AppConfigInterface } from './app-config.interface';\n\nexport const APP_CONFIG = new InjectionToken<AppConfigInterface>('app.config');\n","export class ConfigConstants {\n  public static MESSAGE_GROUP = 'message-group';\n  public static OCAPI_URl = 'ocapi-url';\n  public static OMAPI_URL = 'omapi-url';\n  public static OMAPI_QUERY_URL = 'omapi-query-url';\n  public static OPENID_URL = 'openid-url';\n  public static OAUTH_CALLBACK_URL = 'oauth-callback-url';\n  public static PHP_ESHOP_URL = 'php-eshop-url';\n  public static OCAPI_QUERY_URL = 'ocapi-query-url';\n  public static OCAPI_SOCKET_URL = 'ocapi-socket-url';\n  public static GATEWAY_URL = 'gateway-url';\n  public static GSA_URL = 'gsa-url';\n  public static SOFY_URL = 'sofy-url';\n  public static IS_AUTHOR_MODE = 'is-author-mode';\n  public static BASE_AC_SYSTEMS_URL = 'base-ac-systems-url';\n  public static POST_MESSAGE_RECEIVER_ORIGIN_URL = 'kbc-post-message-receiver-origin-url';\n  public static RECAPTCHA_API_URL = 'recaptcha-api-url';\n  public static RECAPTCHA_SITE_KEY = 'recaptcha-site-key';\n  public static RECAPTCHA_V3_SITE_KEY = 'recaptcha-v3-site-key';\n  public static SEARCH_INDEX_PARAMETER = 'search-index-parameter';\n  public static SEARCH_API_URL = 'search-api-url';\n  public static PRODUCT_FINDER_URL = 'product-finder-url';\n\n  public static OPENID_AUTH_URL = 'openid-auth-url';\n  public static OPENID_CLIENT_ID = 'openid-client-id';\n  public static OCAPI_CLIENT_ID = 'ocapi-client-id';\n  public static AUTH_PROVIDER = 'auth-provider';\n}\n","// @ts-nocheck\nimport { Inject, Injectable } from '@angular/core';\nimport { Log, LogFactory } from '@telenet/ng-lib-shared';\n\n@Injectable({ providedIn: 'root' })\nexport class ConfigService {\n  private static readonly LOG: Log = LogFactory.createLogger(ConfigService);\n  private readonly defaultConfig: Config = { remoteHosts: {} };\n\n  constructor(@Inject('Window') readonly window: Window) {\n    this.window['Config'] = window['Config'] ?? this.defaultConfig;\n    ConfigService.LOG.logDebug('ConfigService Instantiating ' + new Date().toDateString(), this.window['Config']);\n  }\n\n  getAllConfig(): Config {\n    return this.window['Config'];\n  }\n\n  getConfig(key: string): string {\n    const configuration: Record<string, string> = this.window['Config'] || {};\n    ConfigService.LOG.logDebug(`ConfigService GetConfig: ${key} [${configuration[key]}]`);\n    return configuration[key] ?? '';\n  }\n\n  addRemoteHostConfig(moduleId: string, remoteModuleConfigOptions: Partial<RemoteHostConfig> | unknown): void {\n    if (this.window['Config']?.['remoteHosts']) {\n      this.window['Config']['remoteHosts'][moduleId] = remoteModuleConfigOptions;\n    }\n  }\n\n  addConfig(config: Config): void {\n    this.window['Config'] = { ...this.window['Config'], ...config };\n  }\n\n  getRemoteHostConfig(moduleId: string): Partial<RemoteHostConfig> {\n    if (this.window['Config']?.['remoteHosts']) {\n      return this.window['Config']['remoteHosts'][moduleId];\n    }\n    return undefined;\n  }\n}\n\nexport type Config = Record<string, string | Record<string, string> | boolean | undefined>;\n\nexport interface RemoteHostConfig {\n  remoteHost: string;\n  exposedModule: string;\n  moduleId: string;\n  module: string;\n  remoteEntryPath: string;\n  exposedEsModule: string;\n}\n","import { ChangeDetectionStrategy, Component, Input, OnInit } from '@angular/core';\nimport { ConfigService } from './config.service';\n\n@Component({\n  selector: 'app-config',\n  templateUrl: './config.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ConfigComponent implements OnInit {\n  public static webcomponentSelector = 'tg-config';\n\n  @Input() ocapiUrl?: string;\n\n  @Input() openidAuthUrl?: string;\n  @Input() ocapiClientId?: string;\n  @Input() openidClientId?: string;\n  @Input() authProvider?: string;\n\n  @Input() openidUrl?: string;\n  @Input() oauthCallbackUrl?: string;\n  @Input() phpEshopUrl?: string;\n  @Input() omapiQueryUrl?: string;\n  @Input() omapiUrl?: string;\n  @Input() gatewayUrl?: string;\n  @Input() gsaUrl?: string;\n  @Input() sofyUrl?: string;\n  @Input() isAuthorMode?: string;\n  @Input() baseAcSystemsUrl?: string;\n  @Input() kbcPostMessageReceiverOriginUrl?: string;\n  @Input() recaptchaApiUrl?: string;\n  @Input() recaptchaSiteKey?: string;\n  @Input() recaptchaV3SiteKey?: string;\n\n  @Input() searchIndexParameter?: string;\n  @Input() searchApiUrl?: string;\n  @Input() productFinderUrl?: string;\n\n  constructor(private readonly configService: ConfigService) {}\n\n  ngOnInit(): void {\n    this.configService.addConfig({\n      'ocapi-url': this.ocapiUrl,\n\n      'openid-auth-url': this.openidAuthUrl,\n      'ocapi-client-id': this.ocapiClientId,\n      'openid-client-id': this.openidClientId,\n      'auth-provider': this.authProvider,\n\n      'openid-url': this.openidUrl,\n      'oauth-callback-url': this.oauthCallbackUrl,\n      'php-eshop-url': this.phpEshopUrl,\n      'omapi-url': this.omapiUrl,\n      'omapi-query-url': this.omapiQueryUrl,\n      'gateway-url': this.gatewayUrl,\n      'gsa-url': this.gsaUrl,\n      'sofy-url': this.sofyUrl,\n      'is-author-mode': this.isAuthorMode,\n      'base-ac-systems-url': this.baseAcSystemsUrl,\n      'kbc-post-message-receiver-origin-url': this.kbcPostMessageReceiverOriginUrl,\n      'recaptcha-api-url': this.recaptchaApiUrl,\n      'recaptcha-site-key': this.recaptchaSiteKey,\n      'recaptcha-v3-site-key': this.recaptchaV3SiteKey,\n      'search-index-parameter': this.searchIndexParameter,\n      'search-api-url': this.searchApiUrl,\n      'product-finder-url': this.productFinderUrl,\n    });\n  }\n}\n","<div></div>\n","import { NgModule } from '@angular/core';\nimport { ConfigComponent } from './config.component';\n\n@NgModule({\n  imports: [],\n  declarations: [ConfigComponent],\n  exports: [ConfigComponent],\n})\nexport class ConfigModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i1.ConfigService"],"mappings":"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"}