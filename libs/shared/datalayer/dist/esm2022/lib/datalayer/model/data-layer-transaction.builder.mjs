import { TransactionBuilder } from 'udl';
export class DataLayerTransactionBuilder extends TransactionBuilder {
    _dataLayerAttributes;
    _resolvePromiseAfterDelay = 0;
    withDataLayerAttributes(attributes) {
        this._dataLayerAttributes = attributes;
        return this;
    }
    withDataLayerForceResolvePromiseAfterDelay(timeoutInMS) {
        this._resolvePromiseAfterDelay = timeoutInMS;
        return this;
    }
    build() {
        const transaction = super.build();
        if (this._dataLayerAttributes) {
            transaction.setAttributes(this._dataLayerAttributes);
        }
        transaction.setForceResolvePromiseAfterDelay(this._resolvePromiseAfterDelay);
        return transaction;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS1sYXllci10cmFuc2FjdGlvbi5idWlsZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9kYXRhbGF5ZXIvbW9kZWwvZGF0YS1sYXllci10cmFuc2FjdGlvbi5idWlsZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBZSxrQkFBa0IsRUFBRSxNQUFNLEtBQUssQ0FBQztBQUd0RCxNQUFNLE9BQU8sMkJBQTRCLFNBQVEsa0JBQWtCO0lBQ3pELG9CQUFvQixDQUFrQztJQUN0RCx5QkFBeUIsR0FBRyxDQUFDLENBQUM7SUFFdEMsdUJBQXVCLENBQUMsVUFBK0I7UUFDckQsSUFBSSxDQUFDLG9CQUFvQixHQUFHLFVBQVUsQ0FBQztRQUN2QyxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCwwQ0FBMEMsQ0FBQyxXQUFtQjtRQUM1RCxJQUFJLENBQUMseUJBQXlCLEdBQUcsV0FBVyxDQUFDO1FBQzdDLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVRLEtBQUs7UUFDWixNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDbEMsSUFBSSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztZQUM5QixXQUFXLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ3ZELENBQUM7UUFDRCxXQUFXLENBQUMsZ0NBQWdDLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQUM7UUFDN0UsT0FBTyxXQUFXLENBQUM7SUFDckIsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHJhbnNhY3Rpb24sIFRyYW5zYWN0aW9uQnVpbGRlciB9IGZyb20gJ3VkbCc7XG5pbXBvcnQgeyBEYXRhTGF5ZXJBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9kYXRhLWxheWVyLWF0dHJpYnV0ZXMnO1xuXG5leHBvcnQgY2xhc3MgRGF0YUxheWVyVHJhbnNhY3Rpb25CdWlsZGVyIGV4dGVuZHMgVHJhbnNhY3Rpb25CdWlsZGVyIHtcbiAgcHJpdmF0ZSBfZGF0YUxheWVyQXR0cmlidXRlczogRGF0YUxheWVyQXR0cmlidXRlcyB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfcmVzb2x2ZVByb21pc2VBZnRlckRlbGF5ID0gMDtcblxuICB3aXRoRGF0YUxheWVyQXR0cmlidXRlcyhhdHRyaWJ1dGVzOiBEYXRhTGF5ZXJBdHRyaWJ1dGVzKTogRGF0YUxheWVyVHJhbnNhY3Rpb25CdWlsZGVyIHtcbiAgICB0aGlzLl9kYXRhTGF5ZXJBdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHdpdGhEYXRhTGF5ZXJGb3JjZVJlc29sdmVQcm9taXNlQWZ0ZXJEZWxheSh0aW1lb3V0SW5NUzogbnVtYmVyKTogRGF0YUxheWVyVHJhbnNhY3Rpb25CdWlsZGVyIHtcbiAgICB0aGlzLl9yZXNvbHZlUHJvbWlzZUFmdGVyRGVsYXkgPSB0aW1lb3V0SW5NUztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIG92ZXJyaWRlIGJ1aWxkKCk6IFRyYW5zYWN0aW9uIHtcbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHN1cGVyLmJ1aWxkKCk7XG4gICAgaWYgKHRoaXMuX2RhdGFMYXllckF0dHJpYnV0ZXMpIHtcbiAgICAgIHRyYW5zYWN0aW9uLnNldEF0dHJpYnV0ZXModGhpcy5fZGF0YUxheWVyQXR0cmlidXRlcyk7XG4gICAgfVxuICAgIHRyYW5zYWN0aW9uLnNldEZvcmNlUmVzb2x2ZVByb21pc2VBZnRlckRlbGF5KHRoaXMuX3Jlc29sdmVQcm9taXNlQWZ0ZXJEZWxheSk7XG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xuICB9XG59XG4iXX0=