import { isNil } from 'lodash-es';
import { ConnectFiveConstants } from '../constants/connect-five.constants';
import { LabelUtil } from '@telenet/ng-lib-page';
export class SalesOfferPromoUtil {
    static PROMOTION_DICTIONARY = 'promotions';
    static DEFAULT_LABEL = 'default';
    static DEFAULT_PERMANENT_LABEL = 'default-permanent';
    static containsTag(promo, tag) {
        return promo.some((promo) => promo.tags.some((promoTag) => promoTag === tag));
    }
    static hasDiscount(promo) {
        return promo && promo.duration > 0 && promo.price < 0;
    }
    static getShortestPromoExcludingZeroDurations(promos) {
        const nonZeroDurationPromos = promos.filter((promo) => promo.duration > 0);
        return nonZeroDurationPromos.length === 0
            ? undefined
            : nonZeroDurationPromos.reduce((prev, curr) => (prev.duration < curr.duration ? prev : curr));
    }
    static getPromoWithZeroDurationAndZeroDiscount(promos) {
        return promos.find((promo) => promo.duration === 0 && promo.price === 0);
    }
    static getTotalDiscountWithZeroDuration(promos, sohoFlow) {
        return promos
            .filter((promo) => promo.duration === 0)
            .map((promo) => (sohoFlow ? promo.priceexclvat : promo.price))
            .reduce((curr, prev) => curr + prev, 0);
    }
    static getOverviewLabel(promo, product, translateService, isSoho, discount) {
        const labelKey = SalesOfferPromoUtil.getLabelKey([SalesOfferPromoUtil.PROMOTION_DICTIONARY, LabelUtil.normalizeKey(promo.name)], isSoho);
        const params = { amount: this.transformPrice(discount), product: product, duration: promo.duration };
        let copy = translateService.instant(labelKey, params);
        if (copy === undefined || copy === null || copy === '' || copy === labelKey) {
            copy = this.getDefaultCopy(promo, isSoho, translateService, params, labelKey);
        }
        return copy;
    }
    static getDefaultCopy(promo, isSoho, translateService, params, labelKey) {
        const defaultKeyWord = SalesOfferPromoUtil.isPermanentPromotion(promo)
            ? SalesOfferPromoUtil.DEFAULT_PERMANENT_LABEL
            : SalesOfferPromoUtil.DEFAULT_LABEL;
        const defaultLabelKey = SalesOfferPromoUtil.getLabelKey([SalesOfferPromoUtil.PROMOTION_DICTIONARY, defaultKeyWord], isSoho);
        let copy = translateService.instant(defaultLabelKey, params);
        if (copy === undefined || copy === null || copy === '' || copy === defaultLabelKey) {
            copy = labelKey;
        }
        return copy;
    }
    static getLabelKey(keyWords, isSoho) {
        if (isSoho) {
            keyWords.push(ConnectFiveConstants.SOHO_LABEL_APPENDIX);
        }
        return LabelUtil.getLabelKeyWithTypeText(keyWords.join('.'));
    }
    static isPermanentPromotion(promo) {
        return promo.duration === 0 && promo.price < 0;
    }
    static transformPrice(price) {
        return !isNil(price) ? price.toFixed(2).replace('.', ',') : '';
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2FsZXMtb2ZmZXItcHJvbW8udXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvdXRpbHMvc2FsZXMtb2ZmZXItcHJvbW8udXRpbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ2xDLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQzNFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUVqRCxNQUFNLE9BQU8sbUJBQW1CO0lBQ3RCLE1BQU0sQ0FBVSxvQkFBb0IsR0FBRyxZQUFZLENBQUM7SUFDcEQsTUFBTSxDQUFVLGFBQWEsR0FBRyxTQUFTLENBQUM7SUFDMUMsTUFBTSxDQUFVLHVCQUF1QixHQUFHLG1CQUFtQixDQUFDO0lBRS9ELE1BQU0sQ0FBQyxXQUFXLENBQUMsS0FBd0IsRUFBRSxHQUFXO1FBQzdELE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQXNCLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBZ0IsRUFBRSxFQUFFLENBQUMsUUFBUSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDekcsQ0FBQztJQUVNLE1BQU0sQ0FBQyxXQUFXLENBQUMsS0FBc0I7UUFDOUMsT0FBTyxLQUFLLElBQUksS0FBSyxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVNLE1BQU0sQ0FBQyxzQ0FBc0MsQ0FBQyxNQUF5QjtRQUM1RSxNQUFNLHFCQUFxQixHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFzQixFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRTVGLE9BQU8scUJBQXFCLENBQUMsTUFB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QUFLLEVBQUUsSUFBSSxJQUFJLEtBQUssZUFBZSxFQUFFLENBQUM7WUFDbkYsSUFBSSxHQUFHLFFBQVEsQ0FBQztRQUNsQixDQUFDO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRU8sTUFBTSxDQUFDLFdBQVcsQ0FBQyxRQUFrQixFQUFFLE1BQWU7UUFDNUQsSUFBSSxNQUFNLEVBQUUsQ0FBQztZQUNYLFFBQVEsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUMxRCxDQUFDO1FBQ0QsT0FBTyxTQUFTLENBQUMsdUJBQXVCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFFTyxNQUFNLENBQUMsb0JBQW9CLENBQUMsS0FBc0I7UUFDeEQsT0FBTyxLQUFLLENBQUMsUUFBUSxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRU8sTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFhO1FBQ3pDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ2pFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUcmFuc2xhdGVTZXJ2aWNlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5pbXBvcnQgeyBTYWxlc09mZmVyUHJvbW8gfSBmcm9tICcuLi9tb2RlbHMvcmVzcG9uc2UnO1xuaW1wb3J0IHsgaXNOaWwgfSBmcm9tICdsb2Rhc2gtZXMnO1xuaW1wb3J0IHsgQ29ubmVjdEZpdmVDb25zdGFudHMgfSBmcm9tICcuLi9jb25zdGFudHMvY29ubmVjdC1maXZlLmNvbnN0YW50cyc7XG5pbXBvcnQgeyBMYWJlbFV0aWwgfSBmcm9tICdAdGVsZW5ldC9uZy1saWItcGFnZSc7XG5cbmV4cG9ydCBjbGFzcyBTYWxlc09mZmVyUHJvbW9VdGlsIHtcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgUFJPTU9USU9OX0RJQ1RJT05BUlkgPSAncHJvbW90aW9ucyc7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IERFRkFVTFRfTEFCRUwgPSAnZGVmYXVsdCc7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IERFRkFVTFRfUEVSTUFORU5UX0xBQkVMID0gJ2RlZmF1bHQtcGVybWFuZW50JztcblxuICBwdWJsaWMgc3RhdGljIGNvbnRhaW5zVGFnKHByb21vOiBTYWxlc09mZmVyUHJvbW9bXSwgdGFnOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcHJvbW8uc29tZSgocHJvbW86IFNhbGVzT2ZmZXJQcm9tbykgPT4gcHJvbW8udGFncy5zb21lKChwcm9tb1RhZzogc3RyaW5nKSA9PiBwcm9tb1RhZyA9PT0gdGFnKSk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGhhc0Rpc2NvdW50KHByb21vOiBTYWxlc09mZmVyUHJvbW8pOiBib29sZWFuIHtcbiAgICByZXR1cm4gcHJvbW8gJiYgcHJvbW8uZHVyYXRpb24gPiAwICYmIHByb21vLnByaWNlIDwgMDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0U2hvcnRlc3RQcm9tb0V4Y2x1ZGluZ1plcm9EdXJhdGlvbnMocHJvbW9zOiBTYWxlc09mZmVyUHJvbW9bXSk6IFNhbGVzT2ZmZXJQcm9tbyB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3Qgbm9uWmVyb0R1cmF0aW9uUHJvbW9zID0gcHJvbW9zLmZpbHRlcigocHJvbW86IFNhbGVzT2ZmZXJQcm9tbykgPT4gcHJvbW8uZHVyYXRpb24gPiAwKTtcblxuICAgIHJldHVybiBub25aZXJvRHVyYXRpb25Qcm9tb3MubGVuZ3RoID09PSAwXG4gICAgICA/IHVuZGVmaW5lZFxuICAgICAgOiBub25aZXJvRHVyYXRpb25Qcm9tb3MucmVkdWNlKChwcmV2LCBjdXJyKSA9PiAocHJldi5kdXJhdGlvbiA8IGN1cnIuZHVyYXRpb24gPyBwcmV2IDogY3VycikpO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRQcm9tb1dpdGhaZXJvRHVyYXRpb25BbmRaZXJvRGlzY291bnQocHJvbW9zOiBTYWxlc09mZmVyUHJvbW9bXSk6IFNhbGVzT2ZmZXJQcm9tbyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHByb21vcy5maW5kKChwcm9tbzogU2FsZXNPZmZlclByb21vKSA9PiBwcm9tby5kdXJhdGlvbiA9PT0gMCAmJiBwcm9tby5wcmljZSA9PT0gMCk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldFRvdGFsRGlzY291bnRXaXRoWmVyb0R1cmF0aW9uKHByb21vczogU2FsZXNPZmZlclByb21vW10sIHNvaG9GbG93OiBib29sZWFuKTogbnVtYmVyIHtcbiAgICByZXR1cm4gcHJvbW9zXG4gICAgICAuZmlsdGVyKChwcm9tbzogU2FsZXNPZmZlclByb21vKSA9PiBwcm9tby5kdXJhdGlvbiA9PT0gMClcbiAgICAgIC5tYXAoKHByb21vKSA9PiAoc29ob0Zsb3cgPyBwcm9tby5wcmljZWV4Y2x2YXQgOiBwcm9tby5wcmljZSkpXG4gICAgICAucmVkdWNlKChjdXJyOiBudW1iZXIsIHByZXY6IG51bWJlcikgPT4gY3VyciArIHByZXYsIDApO1xuICB9XG5cbiAgc3RhdGljIGdldE92ZXJ2aWV3TGFiZWwoXG4gICAgcHJvbW86IFNhbGVzT2ZmZXJQcm9tbyxcbiAgICBwcm9kdWN0OiBzdHJpbmcsXG4gICAgdHJhbnNsYXRlU2VydmljZTogVHJhbnNsYXRlU2VydmljZSxcbiAgICBpc1NvaG86IGJvb2xlYW4sXG4gICAgZGlzY291bnQ6IG51bWJlclxuICApOiBzdHJpbmcge1xuICAgIGNvbnN0IGxhYmVsS2V5ID0gU2FsZXNPZmZlclByb21vVXRpbC5nZXRMYWJlbEtleShcbiAgICAgIFtTYWxlc09mZmVyUHJvbW9VdGlsLlBST01PVElPTl9ESUNUSU9OQVJZLCBMYWJlbFV0aWwubm9ybWFsaXplS2V5KHByb21vLm5hbWUpXSxcbiAgICAgIGlzU29ob1xuICAgICk7XG4gICAgY29uc3QgcGFyYW1zID0geyBhbW91bnQ6IHRoaXMudHJhbnNmb3JtUHJpY2UoZGlzY291bnQpLCBwcm9kdWN0OiBwcm9kdWN0LCBkdXJhdGlvbjogcHJvbW8uZHVyYXRpb24gfTtcblxuICAgIGxldCBjb3B5ID0gdHJhbnNsYXRlU2VydmljZS5pbnN0YW50KGxhYmVsS2V5LCBwYXJhbXMpO1xuICAgIGlmIChjb3B5ID09PSB1bmRlZmluZWQgfHwgY29weSA9PT0gbnVsbCB8fCBjb3B5ID09PSAnJyB8fCBjb3B5ID09PSBsYWJlbEtleSkge1xuICAgICAgY29weSA9IHRoaXMuZ2V0RGVmYXVsdENvcHkocHJvbW8sIGlzU29obywgdHJhbnNsYXRlU2VydmljZSwgcGFyYW1zLCBsYWJlbEtleSk7XG4gICAgfVxuICAgIHJldHVybiBjb3B5O1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0RGVmYXVsdENvcHk8VCBleHRlbmRzIG9iamVjdD4oXG4gICAgcHJvbW86IFNhbGVzT2ZmZXJQcm9tbyxcbiAgICBpc1NvaG86IGJvb2xlYW4sXG4gICAgdHJhbnNsYXRlU2VydmljZTogVHJhbnNsYXRlU2VydmljZSxcbiAgICBwYXJhbXM6IFQsXG4gICAgbGFiZWxLZXk6IHN0cmluZ1xuICApIHtcbiAgICBjb25zdCBkZWZhdWx0S2V5V29yZCA9IFNhbGVzT2ZmZXJQcm9tb1V0aWwuaXNQZXJtYW5lbnRQcm9tb3Rpb24ocHJvbW8pXG4gICAgICA/IFNhbGVzT2ZmZXJQcm9tb1V0aWwuREVGQVVMVF9QRVJNQU5FTlRfTEFCRUxcbiAgICAgIDogU2FsZXNPZmZlclByb21vVXRpbC5ERUZBVUxUX0xBQkVMO1xuICAgIGNvbnN0IGRlZmF1bHRMYWJlbEtleSA9IFNhbGVzT2ZmZXJQcm9tb1V0aWwuZ2V0TGFiZWxLZXkoXG4gICAgICBbU2FsZXNPZmZlclByb21vVXRpbC5QUk9NT1RJT05fRElDVElPTkFSWSwgZGVmYXVsdEtleVdvcmRdLFxuICAgICAgaXNTb2hvXG4gICAgKTtcbiAgICBsZXQgY29weSA9IHRyYW5zbGF0ZVNlcnZpY2UuaW5zdGFudChkZWZhdWx0TGFiZWxLZXksIHBhcmFtcyk7XG5cbiAgICBpZiAoY29weSA9PT0gdW5kZWZpbmVkIHx8IGNvcHkgPT09IG51bGwgfHwgY29weSA9PT0gJycgfHwgY29weSA9PT0gZGVmYXVsdExhYmVsS2V5KSB7XG4gICAgICBjb3B5ID0gbGFiZWxLZXk7XG4gICAgfVxuICAgIHJldHVybiBjb3B5O1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0TGFiZWxLZXkoa2V5V29yZHM6IHN0cmluZ1tdLCBpc1NvaG86IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIGlmIChpc1NvaG8pIHtcbiAgICAgIGtleVdvcmRzLnB1c2goQ29ubmVjdEZpdmVDb25zdGFudHMuU09IT19MQUJFTF9BUFBFTkRJWCk7XG4gICAgfVxuICAgIHJldHVybiBMYWJlbFV0aWwuZ2V0TGFiZWxLZXlXaXRoVHlwZVRleHQoa2V5V29yZHMuam9pbignLicpKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGlzUGVybWFuZW50UHJvbW90aW9uKHByb21vOiBTYWxlc09mZmVyUHJvbW8pOiBib29sZWFuIHtcbiAgICByZXR1cm4gcHJvbW8uZHVyYXRpb24gPT09IDAgJiYgcHJvbW8ucHJpY2UgPCAwO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgdHJhbnNmb3JtUHJpY2UocHJpY2U6IG51bWJlcik6IHN0cmluZyB7XG4gICAgcmV0dXJuICFpc05pbChwcmljZSkgPyBwcmljZS50b0ZpeGVkKDIpLnJlcGxhY2UoJy4nLCAnLCcpIDogJyc7XG4gIH1cbn1cbiJdfQ==