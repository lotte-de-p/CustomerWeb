{"version":3,"file":"pricing.js","sourceRoot":"","sources":["../../../../../../../../src/components/pricing/pricing.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Host, Prop } from '@stencil/core';\nimport { PRICING_ALIGN, LANGUAGES, PRICING_TYPES, PricingAlign, Language, PricingType } from './models/pricing.types';\n\n@Component({\n  tag: 'wink-pricing',\n  styleUrls: {\n    telenet: 'styles/brands/pricing.telenet.scss',\n    base: 'styles/brands/pricing.base.scss',\n  },\n  shadow: true,\n})\nexport class Pricing {\n  @Prop() price = '';\n  @Prop() priceStrikethrough?: string = '';\n  @Prop() startingFrom?: string = '';\n  @Prop() frequency?: string = '';\n  @Prop() duration?: string = '';\n  @Prop() appearance: PricingType = PRICING_TYPES.text;\n  @Prop() annotation: Language = LANGUAGES.nl;\n  @Prop({ mutable: true }) alignment: PricingAlign = PRICING_ALIGN.left;\n\n  private readonly normalText = '_normal';\n  private readonly strikeThroughText = '_strikethrough';\n\n  private readonly screenReaderAnnotations = new Map([\n    [LANGUAGES.nl + this.strikeThroughText, 'Normale prijs'],\n    [LANGUAGES.fr + this.strikeThroughText, 'Prix normal'],\n    [LANGUAGES.en + this.strikeThroughText, 'Normal price'],\n    [LANGUAGES.nl + this.normalText, 'Huidige prijs'],\n    [LANGUAGES.fr + this.normalText, 'Prix Maintenant'],\n    [LANGUAGES.en + this.normalText, 'Current price'],\n  ]);\n\n  private readonly pricingChild = (price: string, lang: Language, wrapperClassName: string) => {\n    const currencyAfter = lang === LANGUAGES.fr ? 'currency-after' : '';\n    const langDecimalPoint = lang !== LANGUAGES.en ? ',' : '.';\n    const inputPrice = price ? price.replace(',', '.') : '';\n    const integerPart = inputPrice.split('.')[0];\n    const fractionalPart = inputPrice.split('.')[1] !== '00' ? inputPrice.split('.')[1] : '';\n    const screenReaderText =\n      wrapperClassName === 'pricing__promo-price'\n        ? this.screenReaderAnnotations.get(lang + this.strikeThroughText)\n        : this.screenReaderAnnotations.get(lang + this.normalText);\n\n    let formatPriceHtml = (\n      <div class={`${wrapperClassName} ${currencyAfter}`}>\n        <span class=\"sr-only\">{screenReaderText}</span>\n        <i class=\"price__price-currency\">€</i>\n        <span class=\"price__price-value\">{price}</span>\n      </div>\n    );\n    if (inputPrice.includes('.')) {\n      formatPriceHtml = (\n        <div class={`${wrapperClassName} ${currencyAfter}`}>\n          <span class=\"sr-only\">{screenReaderText}</span>\n          <i class=\"price__price-currency\">€</i>\n          <span class=\"price__price-value\">\n            {integerPart}\n            {fractionalPart && <span class=\"price__price-decimal\">{langDecimalPoint + fractionalPart}</span>}\n          </span>\n        </div>\n      );\n    }\n    return formatPriceHtml;\n  };\n\n  private readonly alignmentClass = (alignment: PricingAlign) => {\n    return this.alignment !== PRICING_ALIGN.left ? `price-align__${alignment}` : '';\n  };\n\n  componentWillRender(): void {\n    if (this.appearance === PRICING_TYPES.patch) {\n      this.alignment = PRICING_ALIGN.center;\n    }\n  }\n\n  render() {\n    return (\n      <Host type=\"product price\">\n        {(this.startingFrom || this.priceStrikethrough) && (\n          <div class={`pricing__header ${this.alignmentClass(this.alignment)}`}>\n            {this.startingFrom && <div class=\"pricing__starting-from\">{this.startingFrom} </div>}\n            {this.priceStrikethrough &&\n              this.pricingChild(this.priceStrikethrough, this.annotation, 'pricing__promo-price')}\n          </div>\n        )}\n\n        {(this.price || this.frequency) && (\n          <div class={`pricing__current-price-wrapper ${this.alignmentClass(this.alignment)}`}>\n            {this.price && this.pricingChild(this.price, this.annotation, 'pricing__price-value-wrapper')}\n            {this.frequency && <div class=\"pricing__price-frequency\">{this.frequency}</div>}\n          </div>\n        )}\n\n        {this.duration && (\n          <div class={`pricing__footer ${this.alignmentClass(this.alignment)}`}>\n            <div class=\"pricing__price-promo-duration\">{this.duration}</div>\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n"]}