{"version":3,"names":["mainNavigationBaseCss","WinkMainNavigationBaseStyle0","mainNavigationTelenetCss","WinkMainNavigationTelenetStyle0","MainNavigation","undefined","mainNavigationItemClicked","handleFlyoutBackLinkClicked","e","eventType","detail","this","isOpen","ActiveLinkRef","focus","componentWillLoad","menuItems","_menuItems","JSON","parse","mainNavigationItemEmitter","item","emit","handleFlyOutOpening","index","hasSubNav","handleItemClick","activeIndex","handleItemMouseOver","MediaQueryDetector","isUntilMdHeader","NaN","name","handleKeyDownEvent","code","preventDefault","getATagCssClasses","active","render","h","key","role","map","toString","class","href","url","onClick","onMouseOver","onKeyDown","ref","el","appearance","icon","size"],"sources":["../core/src/components/global-header/_sub-comps/main-navigation/styles/brands/main-navigation.base.scss?tag=wink-main-navigation&mode=base&encapsulation=shadow","../core/src/components/global-header/_sub-comps/main-navigation/styles/brands/main-navigation.telenet.scss?tag=wink-main-navigation&mode=telenet&encapsulation=shadow","../core/src/components/global-header/_sub-comps/main-navigation/main-navigation.tsx"],"sourcesContent":["@import '../vars/vars.base';\n@import '../main-navigation.default';\n","@import '../vars/vars.telenet';\n@import '../main-navigation.default';\n","import { Component, Event, EventEmitter, h, Listen, Prop, State } from '@stencil/core';\nimport { mainNavEventEmitterDetails, MenuItem } from './models/main-navigation.types';\nimport { MediaQueryDetector } from '../../../../assets/shared/scripts/media-query-detector';\n\n@Component({\n  tag: 'wink-main-navigation',\n  styleUrls: {\n    telenet: 'styles/brands/main-navigation.telenet.scss',\n    base: 'styles/brands/main-navigation.base.scss',\n  },\n  shadow: true,\n})\nexport class MainNavigation {\n  @Prop() menuItems = '';\n\n  @State() _menuItems: MenuItem[] = [];\n  @State() isOpen = false;\n  @State() activeIndex: number | undefined = undefined;\n  @State() ActiveLinkRef: HTMLAnchorElement | undefined = undefined;\n\n  @Event() mainNavigationItemClicked: EventEmitter<mainNavEventEmitterDetails> | undefined;\n\n  @Listen('flyoutBackLinkClicked', { target: 'document' })\n  handleFlyoutBackLinkClicked(e: CustomEvent) {\n    const { eventType } = e.detail;\n\n    this.isOpen = false;\n\n    if (eventType !== 'mouse') {\n      this.ActiveLinkRef?.focus();\n    }\n  }\n\n  componentWillLoad() {\n    if (!this.menuItems) {\n      return;\n    }\n    this._menuItems = JSON.parse(this.menuItems);\n  }\n\n  private mainNavigationItemEmitter(item: mainNavEventEmitterDetails) {\n    this.mainNavigationItemClicked?.emit(item);\n  }\n\n  private handleFlyOutOpening(item: mainNavEventEmitterDetails) {\n    this.isOpen = !!this._menuItems[item.index]?.hasSubNav;\n    this.mainNavigationItemEmitter(item);\n  }\n\n  private handleItemClick(item: mainNavEventEmitterDetails) {\n    this.activeIndex = item.index;\n    this.handleFlyOutOpening(item);\n  }\n\n  private handleItemMouseOver(item: mainNavEventEmitterDetails) {\n    if (item.eventType === 'mouse' && MediaQueryDetector.isUntilMdHeader) {\n      return;\n    }\n    if (this._menuItems[item.index].hasSubNav) {\n      this.handleFlyOutOpening(item);\n      return;\n    }\n    this.isOpen = false;\n    this.mainNavigationItemEmitter({ index: NaN, name: '' });\n  }\n\n  private handleKeyDownEvent(e: KeyboardEvent, index: number, name: string) {\n    if (e.code === 'Space') {\n      e.preventDefault();\n      this.handleItemClick({ index, name });\n    }\n  }\n\n  private getATagCssClasses(index: number) {\n    return {\n      active: this.activeIndex === index,\n    };\n  }\n\n  render() {\n    return (\n      <nav role=\"navigation\">\n        <ul role=\"menu\" aria-label=\"Main navigation menu\">\n          {this._menuItems.map((item: MenuItem, index: number) => (\n            <li role=\"none\">\n              <a\n                role=\"menuitem\"\n                aria-haspopup={(!!item.hasSubNav).toString()}\n                aria-expanded={this.isOpen.toString()}\n                aria-controls={item.hasSubNav ? `flyout-${index}` : undefined}\n                class={this.getATagCssClasses(index)}\n                href={item.url}\n                onClick={() => this.handleItemClick({ index, name: item.name })}\n                onMouseOver={() => this.handleItemMouseOver({ index, name: item.name, eventType: 'mouse' })}\n                onKeyDown={(e) => this.handleKeyDownEvent(e, index, item.name)}\n                ref={(el) => this.activeIndex === index && (this.ActiveLinkRef = el)}>\n                {item.name}\n                {item.hasSubNav && <wink-icon appearance=\"default\" icon=\"chevron-right\" size=\"sm\" />}\n              </a>\n            </li>\n          ))}\n        </ul>\n      </nav>\n    );\n  }\n}\n"],"mappings":"sFAAA,MAAMA,EAAwB,i/DAC9B,MAAAC,EAAeD,ECDf,MAAME,EAA2B,i/DACjC,MAAAC,EAAeD,E,MCWFE,EAAc,M,6GACL,G,gBAEc,G,YAChB,M,iBACyBC,U,mBACaA,S,CAE/CC,0BAGT,2BAAAC,CAA4BC,GAC1B,MAAMC,UAAEA,GAAcD,EAAEE,OAExBC,KAAKC,OAAS,MAEd,GAAIH,IAAc,QAAS,CACzBE,KAAKE,eAAeC,O,EAIxB,iBAAAC,GACE,IAAKJ,KAAKK,UAAW,CACnB,M,CAEFL,KAAKM,WAAaC,KAAKC,MAAMR,KAAKK,U,CAG5B,yBAAAI,CAA0BC,GAChCV,KAAKL,2BAA2BgB,KAAKD,E,CAG/B,mBAAAE,CAAoBF,GAC1BV,KAAKC,SAAWD,KAAKM,WAAWI,EAAKG,QAAQC,UAC7Cd,KAAKS,0BAA0BC,E,CAGzB,eAAAK,CAAgBL,GACtBV,KAAKgB,YAAcN,EAAKG,MACxBb,KAAKY,oBAAoBF,E,CAGnB,mBAAAO,CAAoBP,GAC1B,GAAIA,EAAKZ,YAAc,SAAWoB,EAAmBC,gBAAiB,CACpE,M,CAEF,GAAInB,KAAKM,WAAWI,EAAKG,OAAOC,UAAW,CACzCd,KAAKY,oBAAoBF,GACzB,M,CAEFV,KAAKC,OAAS,MACdD,KAAKS,0BAA0B,CAAEI,MAAOO,IAAKC,KAAM,I,CAG7C,kBAAAC,CAAmBzB,EAAkBgB,EAAeQ,GAC1D,GAAIxB,EAAE0B,OAAS,QAAS,CACtB1B,EAAE2B,iBACFxB,KAAKe,gBAAgB,CAAEF,QAAOQ,Q,EAI1B,iBAAAI,CAAkBZ,GACxB,MAAO,CACLa,OAAQ1B,KAAKgB,cAAgBH,E,CAIjC,MAAAc,GACE,OACEC,EAAA,OAAAC,IAAA,2CAAKC,KAAK,cACRF,EAAA,MAAAC,IAAA,2CAAIC,KAAK,OAAM,aAAY,wBACxB9B,KAAKM,WAAWyB,KAAI,CAACrB,EAAgBG,IACpCe,EAAA,MAAIE,KAAK,QACPF,EAAA,KACEE,KAAK,WAAU,mBACGpB,EAAKI,WAAWkB,WAAU,gBAC7BhC,KAAKC,OAAO+B,WAAU,gBACtBtB,EAAKI,UAAY,UAAUD,IAAUnB,UACpDuC,MAAOjC,KAAKyB,kBAAkBZ,GAC9BqB,KAAMxB,EAAKyB,IACXC,QAAS,IAAMpC,KAAKe,gBAAgB,CAAEF,QAAOQ,KAAMX,EAAKW,OACxDgB,YAAa,IAAMrC,KAAKiB,oBAAoB,CAAEJ,QAAOQ,KAAMX,EAAKW,KAAMvB,UAAW,UACjFwC,UAAYzC,GAAMG,KAAKsB,mBAAmBzB,EAAGgB,EAAOH,EAAKW,MACzDkB,IAAMC,GAAOxC,KAAKgB,cAAgBH,IAAUb,KAAKE,cAAgBsC,IAChE9B,EAAKW,KACLX,EAAKI,WAAac,EAAA,aAAWa,WAAW,UAAUC,KAAK,gBAAgBC,KAAK,Y"}