{"version":3,"names":["tabsBaseCss","WinkTabsBaseStyle0","tabsTelenetCss","WinkTabsTelenetStyle0","Tabs","tabListRef","handleFocusOnButton","index","this","activeTabIndex","moveActiveTabIndicator","handleKeyDown","e","assignTheRightActiveTabIndex","key","supportedKeysMap","Map","theTabs","length","handler","get","activeTab","host","shadowRoot","querySelector","focus","style","setProperty","offsetLeft","offsetWidth","componentWillLoad","tabs","JSON","parse","render","h","Host","class","role","ref","el","map","tab","UUId","id","type","tabIndex","onFocus","onKeyDown","_","name"],"sources":["../core/src/components/tabs/styles/brands/tabs.base.scss?tag=wink-tabs&mode=base&encapsulation=shadow","../core/src/components/tabs/styles/brands/tabs.telenet.scss?tag=wink-tabs&mode=telenet&encapsulation=shadow","../core/src/components/tabs/tabs.tsx"],"sourcesContent":["@import '../vars/vars.base';\n@import '../tabs.default';\n","@import '../vars/vars.telenet';\n@import '../tabs.default';\n","import { Component, Element, h, Host, Prop, State } from '@stencil/core';\nimport { UUId } from '../../utils/utils';\n\n@Component({\n  tag: 'wink-tabs',\n  styleUrls: {\n    telenet: 'styles/brands/tabs.telenet.scss',\n    base: 'styles/brands/tabs.base.scss',\n  },\n  shadow: true,\n})\nexport class Tabs {\n  @Element() host!: HTMLWinkTabsElement;\n\n  @Prop() tabs = '';\n\n  @State() theTabs: string[] = [];\n  @State() activeTabIndex = 1;\n\n  private tabListRef!: HTMLDivElement;\n\n  private readonly handleFocusOnButton = (index: number) => {\n    this.activeTabIndex = index;\n    this.moveActiveTabIndicator();\n  };\n\n  private readonly handleKeyDown = (e: { key: string }) => {\n    this.assignTheRightActiveTabIndex(e.key);\n    this.moveActiveTabIndicator();\n  };\n\n  private assignTheRightActiveTabIndex(key: string): void {\n    const supportedKeysMap = new Map<string, () => void>([\n      [\n        'ArrowRight',\n        () => {\n          if (this.activeTabIndex === this.theTabs.length) {\n            this.activeTabIndex = 1;\n          } else {\n            this.activeTabIndex++;\n          }\n        },\n      ],\n      [\n        'ArrowLeft',\n        () => {\n          if (this.activeTabIndex === 1) {\n            this.activeTabIndex = this.theTabs.length;\n          } else {\n            this.activeTabIndex--;\n          }\n        },\n      ],\n      [\n        'Home',\n        () => {\n          if (this.activeTabIndex !== 1) {\n            this.activeTabIndex = 1;\n          }\n        },\n      ],\n      [\n        'End',\n        () => {\n          if (this.activeTabIndex !== this.theTabs.length) {\n            this.activeTabIndex = this.theTabs.length;\n          }\n        },\n      ],\n    ]);\n\n    const handler = supportedKeysMap.get(key);\n\n    if (handler) {\n      handler();\n    }\n  }\n\n  private moveActiveTabIndicator() {\n    const activeTab = this.host?.shadowRoot?.querySelector('#tab-' + this.activeTabIndex) as HTMLButtonElement;\n    activeTab.focus();\n    this.tabListRef.style.setProperty('--tablist-after-left', activeTab.offsetLeft + 'px');\n    this.tabListRef.style.setProperty('--tablist-after-width', activeTab.offsetWidth + 'px');\n  }\n\n  async componentWillLoad() {\n    if (this.tabs) {\n      this.theTabs = JSON.parse(this.tabs);\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"tabs\">\n          <div\n            class=\"tablist\"\n            role=\"tablist\"\n            aria-labelledby=\"tablist-1\"\n            ref={(el) => (this.tabListRef = el as HTMLDivElement)}>\n            {this.theTabs.map((tab: string, index: number) => {\n              return (\n                <button\n                  key={UUId()}\n                  id={`tab-${index + 1}`}\n                  type=\"button\"\n                  role=\"tab\"\n                  aria-selected={`${this.activeTabIndex === index + 1}`}\n                  aria-controls={`tabpanel-${index + 1}`}\n                  aria-describedby={`tabpanel-${index + 1}`}\n                  tabIndex={this.activeTabIndex === index + 1 ? 1 : -1}\n                  onFocus={() => this.handleFocusOnButton(index + 1)}\n                  onKeyDown={this.handleKeyDown}>\n                  {tab}\n                </button>\n              );\n            })}\n          </div>\n\n          {this.theTabs.map((_, index: number) => {\n            return (\n              <div\n                key={UUId()}\n                id={`tabpanel-${index + 1}`}\n                role=\"tabpanel\"\n                aria-labelledby={`tab-${index + 1}`}\n                tabIndex={this.activeTabIndex === index + 1 ? 1 : -1}\n                class={{ 'is-hidden': this.activeTabIndex !== index + 1 }}>\n                <slot name={`tab-${index + 1}`}></slot>\n              </div>\n            );\n          })}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"6FAAA,MAAMA,EAAc,qrCACpB,MAAAC,EAAeD,ECDf,MAAME,EAAiB,2rCACvB,MAAAC,EAAeD,E,MCUFE,EAAI,M,mCAGA,G,aAEc,G,oBACH,C,2BAElBC,WAESC,oBAAuBC,IACtCC,KAAKC,eAAiBF,EACtBC,KAAKE,wBAAwB,EAGdC,cAAiBC,IAChCJ,KAAKK,6BAA6BD,EAAEE,KACpCN,KAAKE,wBAAwB,EAGvB,4BAAAG,CAA6BC,GACnC,MAAMC,EAAmB,IAAIC,IAAwB,CACnD,CACE,aACA,KACE,GAAIR,KAAKC,iBAAmBD,KAAKS,QAAQC,OAAQ,CAC/CV,KAAKC,eAAiB,C,KACjB,CACLD,KAAKC,gB,IAIX,CACE,YACA,KACE,GAAID,KAAKC,iBAAmB,EAAG,CAC7BD,KAAKC,eAAiBD,KAAKS,QAAQC,M,KAC9B,CACLV,KAAKC,gB,IAIX,CACE,OACA,KACE,GAAID,KAAKC,iBAAmB,EAAG,CAC7BD,KAAKC,eAAiB,C,IAI5B,CACE,MACA,KACE,GAAID,KAAKC,iBAAmBD,KAAKS,QAAQC,OAAQ,CAC/CV,KAAKC,eAAiBD,KAAKS,QAAQC,M,MAM3C,MAAMC,EAAUJ,EAAiBK,IAAIN,GAErC,GAAIK,EAAS,CACXA,G,EAII,sBAAAT,GACN,MAAMW,EAAYb,KAAKc,MAAMC,YAAYC,cAAc,QAAUhB,KAAKC,gBACtEY,EAAUI,QACVjB,KAAKH,WAAWqB,MAAMC,YAAY,uBAAwBN,EAAUO,WAAa,MACjFpB,KAAKH,WAAWqB,MAAMC,YAAY,wBAAyBN,EAAUQ,YAAc,K,CAGrF,uBAAMC,GACJ,GAAItB,KAAKuB,KAAM,CACbvB,KAAKS,QAAUe,KAAKC,MAAMzB,KAAKuB,K,EAInC,MAAAG,GACE,OACEC,EAACC,EAAI,CAAAtB,IAAA,4CACHqB,EAAA,OAAArB,IAAA,2CAAKuB,MAAM,QACTF,EAAA,OAAArB,IAAA,2CACEuB,MAAM,UACNC,KAAK,UAAS,kBACE,YAChBC,IAAMC,GAAQhC,KAAKH,WAAamC,GAC/BhC,KAAKS,QAAQwB,KAAI,CAACC,EAAanC,IAE5B4B,EAAA,UACErB,IAAK6B,IACLC,GAAI,OAAOrC,EAAQ,IACnBsC,KAAK,SACLP,KAAK,MAAK,gBACK,GAAG9B,KAAKC,iBAAmBF,EAAQ,IAAG,gBACtC,YAAYA,EAAQ,IAAG,mBACpB,YAAYA,EAAQ,IACtCuC,SAAUtC,KAAKC,iBAAmBF,EAAQ,EAAI,GAAK,EACnDwC,QAAS,IAAMvC,KAAKF,oBAAoBC,EAAQ,GAChDyC,UAAWxC,KAAKG,eACf+B,MAMRlC,KAAKS,QAAQwB,KAAI,CAACQ,EAAG1C,IAElB4B,EAAA,OACErB,IAAK6B,IACLC,GAAI,YAAYrC,EAAQ,IACxB+B,KAAK,WAAU,kBACE,OAAO/B,EAAQ,IAChCuC,SAAUtC,KAAKC,iBAAmBF,EAAQ,EAAI,GAAK,EACnD8B,MAAO,CAAE,YAAa7B,KAAKC,iBAAmBF,EAAQ,IACtD4B,EAAA,QAAMe,KAAM,OAAO3C,EAAQ,U"}