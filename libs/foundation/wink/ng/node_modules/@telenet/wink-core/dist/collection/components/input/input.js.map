{"version":3,"file":"input.js","sourceRoot":"","sources":["../../../../../../../../src/components/input/input.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Fragment, Host, h, Prop, State } from '@stencil/core';\nimport {\n  INPUT_APPEARANCES,\n  INPUT_AUTOCOMPLETES,\n  INPUT_ENTERKEYHINTS,\n  INPUT_MODES,\n  INPUT_SIZES,\n  INPUT_TYPES,\n  InputAppearance,\n  InputAutocomplete,\n  InputEnterkeyhint,\n  InputMode,\n  InputSize,\n  InputType,\n} from './models/input.types';\nimport { ICON_SIZES } from '../icon/models/icon.types';\n\n@Component({\n  tag: 'wink-input',\n  styleUrls: {\n    telenet: 'styles/brands/input.telenet.scss',\n    base: 'styles/brands/input.base.scss',\n  },\n  formAssociated: true,\n  shadow: true,\n})\nexport class Input {\n  @Prop({ reflect: true }) appearance: InputAppearance = INPUT_APPEARANCES.default;\n  @Prop({ mutable: true, reflect: true }) value = '';\n  @Prop() inputId!: string;\n  @Prop() name!: string;\n  @Prop() type: InputType = INPUT_TYPES.text;\n  @Prop() placeholder = '';\n  @Prop() isRequired = false;\n  @Prop() inputModeOption: InputMode = INPUT_MODES.text;\n  @Prop() autocomplete: InputAutocomplete = INPUT_AUTOCOMPLETES.off;\n  @Prop() enterkeyhintOption: InputEnterkeyhint = INPUT_ENTERKEYHINTS.none;\n  @Prop() isReadonly = false;\n  @Prop() isDisabled = false;\n  @Prop() isAutofocused = false;\n\n  @Prop() error = '';\n\n  @Prop() prefixValue = '';\n  @Prop() postfixValue = '';\n\n  @Prop() iconLeft = '';\n  @Prop() iconRight = '';\n  @State() showIconRight = true;\n  @State() inputWidth = 0;\n\n  @Prop() label = '';\n  @Prop() helper = '';\n\n  @Prop({ reflect: true }) size: InputSize = INPUT_SIZES.md;\n\n  private getLabelId() {\n    return this.inputId + ':Label';\n  }\n  private getHelperId() {\n    return this.inputId + ':Helper';\n  }\n  private getErrorMsgId() {\n    return this.inputId + ':Error';\n  }\n\n  private getAreaDescribedby() {\n    return [\n      this.label && this.getLabelId(),\n      this.helper && this.getHelperId(),\n      this.error?.length > 0 && this.getErrorMsgId(),\n    ]\n      .filter((item) => typeof item === 'string' && item.trim().length > 0)\n      .join(' ');\n  }\n\n  private get getLabel() {\n    if (this.label) {\n      return (\n        <Fragment>\n          <label\n            htmlFor={this.inputId}\n            id={this.getLabelId()}\n            class={{ label: true, 'label-disabled': this.isDisabled }}>\n            <div class=\"label-label\">\n              {this.label}\n              {this.helper && (\n                <div class=\"label-helper\" id={this.getHelperId()}>\n                  {this.helper}\n                </div>\n              )}\n            </div>\n            {!this.isRequired && <div class=\"label-optional\">Optional</div>}\n          </label>\n        </Fragment>\n      );\n    }\n  }\n  private get getPrefix() {\n    if (this.prefixValue && !this.iconLeft) {\n      return (\n        <Fragment>\n          <div\n            class={{\n              'input-affix input-affix-prefix': true,\n              'input-affix-disabled': this.isDisabled,\n              'input-affix-readonly': this.isReadonly,\n            }}>\n            {this.prefixValue}\n          </div>\n        </Fragment>\n      );\n    }\n  }\n\n  private get getPostfix() {\n    if (this.postfixValue && !this.iconRight) {\n      return (\n        <Fragment>\n          <div\n            class={{\n              'input-affix input-affix-postfix': true,\n              'input-affix-disabled': this.isDisabled,\n              'input-affix-readonly': this.isReadonly,\n            }}>\n            {this.postfixValue}\n          </div>\n        </Fragment>\n      );\n    }\n  }\n  private getReadOnlyLength(value: string) {\n    if (this.isReadonly && value.length > 0) {\n      this.inputWidth = value.length;\n    } else {\n      this.inputWidth = 0;\n    }\n  }\n\n  private showSearchBackSpaceIcon(value: string) {\n    if (value.length === 0 && this.appearance === INPUT_APPEARANCES.search) {\n      this.showIconRight = false;\n    } else {\n      this.showIconRight = true;\n    }\n  }\n\n  private handleChange(event: Event) {\n    this.value = (event.target as HTMLInputElement).value;\n    this.showSearchBackSpaceIcon(this.value);\n    this.getReadOnlyLength(this.value);\n  }\n\n  componentDidRender() {\n    this.showSearchBackSpaceIcon(this.value);\n    this.getReadOnlyLength(this.value);\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.getLabel}\n\n        <div\n          class={{\n            'input-wrapper': true,\n            'input-with-icon-button input-with-icon-button-left': this.iconLeft?.length > 0,\n            'input-with-icon-button input-with-icon-button-right': this.iconRight?.length > 0,\n          }}>\n          {this.getPrefix}\n\n          {this.iconLeft?.length > 0 && (\n            <div class=\"input-icon-button input-icon-button-left\">\n              <button type=\"button\" aria-label={this.iconLeft} class=\"input-icon-button-button\">\n                <wink-icon appearance=\"default\" icon={this.iconLeft} size={this.size}></wink-icon>\n              </button>\n            </div>\n          )}\n\n          <input\n            onInput={(e) => this.handleChange(e)}\n            id={this.inputId}\n            name={this.name}\n            type={this.type}\n            value={this.value}\n            placeholder={this.placeholder}\n            input-mode={this.inputModeOption}\n            autocomplete={this.autocomplete}\n            autofocus={this.isAutofocused}\n            enterkeyhint={this.enterkeyhintOption}\n            required={this.isRequired}\n            readonly={this.isReadonly}\n            disabled={this.isDisabled}\n            aria-describedby={this.getAreaDescribedby()}\n            aria-invalid={this.error?.length > 0}\n            class={{\n              input: true,\n            }}\n            style={{\n              width: this.isReadonly && this.inputWidth > 0 ? `${this.inputWidth}ch` : '',\n            }}\n          />\n          {this.iconRight?.length > 0 && this.showIconRight && (\n            <div class=\"input-icon-button input-icon-button-right\">\n              <button type=\"button\" aria-label={this.iconRight} class=\"input-icon-button-button\">\n                <wink-icon appearance=\"default\" icon={this.iconRight} size={this.size}></wink-icon>\n              </button>\n            </div>\n          )}\n\n          {this.getPostfix}\n        </div>\n\n        {this.error?.length > 0 && (\n          <div id={this.getErrorMsgId()} class=\"error-msg\">\n            <wink-icon appearance=\"default\" icon=\"error-shape\" size={ICON_SIZES.md}></wink-icon>\n            <div class=\"error-label font-caption \">{this.error}</div>\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n"]}