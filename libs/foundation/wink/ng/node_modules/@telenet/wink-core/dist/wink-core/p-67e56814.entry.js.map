{"version":3,"names":["toastBaseCss","WinkToastBaseStyle0","toastTelenetCss","WinkToastTelenetStyle0","Toast","TOAST_TYPES","actionable","TARGETS","self","timer","iconsNamesMap","Map","negative","positive","watchOpenPropHandler","newValue","oldValue","this","closeToastAfterTimeout","watchThemePropHandler","changeTheme","handleKeyDown","ev","key","closeToast","componentDidLoad","currentTheme","localStorage","getItem","theme","includes","replace","isOpen","appearance","duration","clearTimeout","setTimeout","Number","render","h","Host","role","class","size","ICON_SIZES","md","icon","get","text","href","target","linkText","element","type","width","status","exportparts","onClick","bind"],"sources":["../core/src/components/toaster/_sub-comps/toast/styles/brands/toast.base.scss?tag=wink-toast&mode=base&encapsulation=shadow","../core/src/components/toaster/_sub-comps/toast/styles/brands/toast.telenet.scss?tag=wink-toast&mode=telenet&encapsulation=shadow","../core/src/components/toaster/_sub-comps/toast/toast.tsx"],"sourcesContent":["@import '../vars/vars.base';\n@import '../toast.default';\n","@import '../vars/vars.telenet';\n@import '../toast.default';\n","import { Component, h, Host, Prop, Listen, Watch } from '@stencil/core';\nimport { ToastType, TOAST_TYPES } from './models/toast.types';\nimport { Target, TARGETS } from '../../../../models/targets.types';\nimport { ICON_SIZES } from '../../../icon/models/icon.types';\n\n@Component({\n  tag: 'wink-toast',\n  styleUrls: {\n    telenet: 'styles/brands/toast.telenet.scss',\n    base: 'styles/brands/toast.base.scss',\n  },\n  shadow: true,\n})\nexport class Toast {\n  @Prop() appearance: ToastType = TOAST_TYPES.actionable;\n  @Prop() text = '';\n  @Prop() linkText?: string = 'Open Link';\n  @Prop() href?: string = '';\n  @Prop() target?: Target = TARGETS.self;\n  @Prop() duration? = 6000;\n  @Prop({ reflect: true, mutable: true }) isOpen = false;\n  @Prop({ reflect: true, mutable: true }) theme = 'telenet-light-theme';\n  @Prop({ reflect: true }) currentTheme = 'telenet-light-theme';\n\n  private timer: ReturnType<typeof setTimeout> | null = null;\n\n  private readonly iconsNamesMap = new Map([\n    [TOAST_TYPES.negative, 'cross-circle-filled'],\n    [TOAST_TYPES.positive, 'check-shape-filled'],\n  ]);\n\n  @Watch('isOpen')\n  watchOpenPropHandler(newValue: boolean, oldValue: boolean) {\n    if (newValue && !oldValue) {\n      this.closeToastAfterTimeout();\n    }\n  }\n\n  @Watch('currentTheme')\n  watchThemePropHandler(newValue: string, oldValue: string) {\n    if (newValue !== oldValue) {\n      this.changeTheme(newValue);\n    }\n  }\n\n  @Listen('keydown', {\n    passive: true,\n  })\n  handleKeyDown(ev: KeyboardEvent) {\n    if (ev.key === 'Escape') {\n      this.closeToast();\n    }\n  }\n\n  componentDidLoad() {\n    const currentTheme = localStorage.getItem('currentTheme') || 'telenet-light';\n    this.changeTheme(currentTheme + '-theme');\n    this.closeToastAfterTimeout();\n  }\n\n  private changeTheme(newValue: string) {\n    this.theme = newValue.includes('dark') ? newValue.replace('dark', 'light') : newValue.replace('light', 'dark');\n  }\n\n  private closeToast() {\n    this.isOpen = false;\n  }\n\n  private closeToastAfterTimeout() {\n    if (this.appearance !== TOAST_TYPES.actionable && this.duration && this.duration > 0) {\n      if (this.timer) {\n        clearTimeout(this.timer);\n      }\n\n      this.timer = setTimeout(() => {\n        this.closeToast();\n      }, Number(this.duration));\n    }\n  }\n\n  render() {\n    return (\n      <Host theme={this.theme} aria-hidden={this.isOpen ? 'false' : 'true'} role=\"alert\">\n        {(this.appearance === TOAST_TYPES.positive || this.appearance === TOAST_TYPES.negative) && (\n          <wink-icon\n            class={`toast-icon toast-icon-${this.appearance}`}\n            size={ICON_SIZES.md}\n            icon={this.iconsNamesMap.get(this.appearance)}></wink-icon>\n        )}\n\n        {this.text && <p class=\"toast-text\">{this.text}</p>}\n\n        {this.appearance === TOAST_TYPES.actionable && this.href && (\n          <wink-link\n            appearance=\"default\"\n            icon=\"\"\n            size=\"inherit\"\n            is-disabled=\"false\"\n            class=\"toast-link\"\n            target={this.target}\n            href={this.href}>\n            {this.linkText}\n          </wink-link>\n        )}\n\n        <wink-button\n          element=\"button\"\n          type=\"button\"\n          appearance=\"tertiary\"\n          size=\"sm\"\n          width=\"none\"\n          status=\"none\"\n          icon=\"cross\"\n          icon-position=\"center\"\n          exportparts=\"icon, icon-cross\"\n          class=\"hydrated toast-close\"\n          icon-button-aria-label=\"close toast\"\n          onClick={this.closeToast.bind(this)}></wink-button>\n      </Host>\n    );\n  }\n}\n"],"mappings":"sLAAA,MAAMA,EAAe,ixFACrB,MAAAC,EAAeD,ECDf,MAAME,EAAkB,ixFACxB,MAAAC,EAAeD,E,MCYFE,EAAK,M,yCACgBC,EAAYC,W,UAC7B,G,cACa,Y,UACJ,G,YACEC,EAAQC,K,cACd,I,YAC6B,M,WACD,sB,kBACR,qB,CAEhCC,MAA8C,KAErCC,cAAgB,IAAIC,IAAI,CACvC,CAACN,EAAYO,SAAU,uBACvB,CAACP,EAAYQ,SAAU,wBAIzB,oBAAAC,CAAqBC,EAAmBC,GACtC,GAAID,IAAaC,EAAU,CACzBC,KAAKC,wB,EAKT,qBAAAC,CAAsBJ,EAAkBC,GACtC,GAAID,IAAaC,EAAU,CACzBC,KAAKG,YAAYL,E,EAOrB,aAAAM,CAAcC,GACZ,GAAIA,EAAGC,MAAQ,SAAU,CACvBN,KAAKO,Y,EAIT,gBAAAC,GACE,MAAMC,EAAeC,aAAaC,QAAQ,iBAAmB,gBAC7DX,KAAKG,YAAYM,EAAe,UAChCT,KAAKC,wB,CAGC,WAAAE,CAAYL,GAClBE,KAAKY,MAAQd,EAASe,SAAS,QAAUf,EAASgB,QAAQ,OAAQ,SAAWhB,EAASgB,QAAQ,QAAS,O,CAGjG,UAAAP,GACNP,KAAKe,OAAS,K,CAGR,sBAAAd,GACN,GAAID,KAAKgB,aAAe5B,EAAYC,YAAcW,KAAKiB,UAAYjB,KAAKiB,SAAW,EAAG,CACpF,GAAIjB,KAAKR,MAAO,CACd0B,aAAalB,KAAKR,M,CAGpBQ,KAAKR,MAAQ2B,YAAW,KACtBnB,KAAKO,YAAY,GAChBa,OAAOpB,KAAKiB,U,EAInB,MAAAI,GACE,OACEC,EAACC,EAAI,CAAAjB,IAAA,2CAACM,MAAOZ,KAAKY,MAAK,cAAeZ,KAAKe,OAAS,QAAU,OAAQS,KAAK,UACvExB,KAAKgB,aAAe5B,EAAYQ,UAAYI,KAAKgB,aAAe5B,EAAYO,WAC5E2B,EAAA,aACEG,MAAO,yBAAyBzB,KAAKgB,aACrCU,KAAMC,EAAWC,GACjBC,KAAM7B,KAAKP,cAAcqC,IAAI9B,KAAKgB,cAGrChB,KAAK+B,MAAQT,EAAA,KAAGG,MAAM,cAAczB,KAAK+B,MAEzC/B,KAAKgB,aAAe5B,EAAYC,YAAcW,KAAKgC,MAClDV,EAAA,aACEN,WAAW,UACXa,KAAK,GACLH,KAAK,UAAS,cACF,QACZD,MAAM,aACNQ,OAAQjC,KAAKiC,OACbD,KAAMhC,KAAKgC,MACVhC,KAAKkC,UAIVZ,EAAA,eAAAhB,IAAA,2CACE6B,QAAQ,SACRC,KAAK,SACLpB,WAAW,WACXU,KAAK,KACLW,MAAM,OACNC,OAAO,OACPT,KAAK,QAAO,gBACE,SACdU,YAAY,mBACZd,MAAM,uBAAsB,yBACL,cACvBe,QAASxC,KAAKO,WAAWkC,KAAKzC,Q"}