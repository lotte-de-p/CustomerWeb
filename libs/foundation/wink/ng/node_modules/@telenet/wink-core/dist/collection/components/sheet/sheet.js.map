{"version":3,"file":"sheet.js","sourceRoot":"","sources":["../../../../../../../../src/components/sheet/sheet.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, h, State, Method, Prop, Watch } from '@stencil/core';\n\n@Component({\n  tag: 'wink-sheet',\n  styleUrls: {\n    telenet: 'styles/brands/sheet.telenet.scss',\n    base: 'styles/brands/sheet.base.scss',\n  },\n  shadow: true,\n})\nexport class Sheet {\n  @Element() host!: HTMLWinkSheetElement;\n\n  @Prop() dashboard = false;\n  @Prop() multipage = false;\n  @Prop({ reflect: true, mutable: true }) isVisible = false;\n\n  @State() isOpen = false;\n  @State() hasStickyFooter = false;\n  @State() firstPage = true;\n\n  @Watch('isVisible')\n  onIsVisibleChange() {\n    if (this.isVisible && !this.isOpen) {\n      this.openModal();\n    }\n    if (!this.isVisible && this.isOpen) {\n      this.closeModal();\n    }\n  }\n\n  @Method()\n  async open() {\n    this.openModal();\n  }\n\n  @Method()\n  async close() {\n    this.closeModal();\n  }\n\n  @Method()\n  async nextPage() {\n    this.goForward();\n  }\n\n  componentWillLoad() {\n    if (this.isVisible && !this.isOpen) {\n      this.openModal();\n    }\n\n    const stickyElements = this.host?.querySelectorAll('[slot*=\"footer\"]');\n    if (stickyElements.length > 0) {\n      this.hasStickyFooter = true;\n    }\n  }\n\n  componentDidLoad() {\n    document.addEventListener('click', this.handleOutsideClick, true);\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener('click', this.handleOutsideClick, true);\n  }\n\n  private readonly handleOutsideClick = (event: MouseEvent) => {\n    if (this.isOpen && !this.host.contains(event.target as Node)) {\n      this.closeModal();\n    }\n  };\n\n  private readonly handleButtonClick = (event: MouseEvent) => {\n    const target = event.target as HTMLElement;\n    if (target.tagName.toLowerCase() === 'wink-button') {\n      if (target.classList.contains('wink-button-forward')) {\n        this.goForward();\n      }\n\n      if (target.classList.contains('wink-button-back')) {\n        this.goBack();\n      }\n\n      if (target.classList.contains('wink-button-close')) {\n        this.close();\n      }\n    }\n  };\n\n  private openModal() {\n    if (this.isOpen) return;\n\n    this.isVisible = true;\n    this.isOpen = true;\n\n    setTimeout(() => {\n      const dialog = this.host.shadowRoot?.querySelector('dialog');\n      if (dialog) {\n        dialog.showModal();\n      }\n    }, 0);\n  }\n\n  private closeModal() {\n    if (!this.isOpen) return;\n\n    this.isVisible = false;\n    this.isOpen = false;\n    const dialog = this.host.shadowRoot?.querySelector('dialog');\n    if (dialog) {\n      dialog.close();\n    }\n  }\n\n  private goBack() {\n    this.firstPage = true;\n  }\n\n  private goForward() {\n    this.firstPage = false;\n  }\n\n  private renderFooter() {\n    if (!this.hasStickyFooter) return;\n    if (this.multipage) {\n      return (\n        <div class=\"sheet-footer\">\n          <div class={`sheet-footer-sub ${this.firstPage ? 'sheet-footer-visible' : ''}`}>\n            <slot name=\"footer\" />\n          </div>\n          <div class={`sheet-footer-sub ${!this.firstPage ? 'sheet-footer-visible' : ''}`}>\n            <slot name=\"footer-second\" />\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div class=\"sheet-footer\">\n        <slot name=\"footer\" />\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <dialog\n        onClick={this.handleButtonClick}\n        class={`sheet  ${this.hasStickyFooter ? 'sheet-margin-bottom' : ''} ${this.dashboard ? 'sheet-darker' : ''}`}\n        aria-live=\"assertive\">\n        {!this.firstPage && (\n          <wink-button\n            appearance=\"tertiary\"\n            size=\"md\"\n            icon=\"chevron-left\"\n            icon-position=\"center\"\n            class=\"sheet-icon sheet-icon-back\"\n            icon-button-aria-label=\"Terug\"\n            onClick={this.goBack.bind(this)}></wink-button>\n        )}\n\n        <wink-button\n          appearance=\"tertiary\"\n          size=\"md\"\n          icon=\"cross\"\n          icon-position=\"center\"\n          class=\"sheet-icon sheet-icon-close\"\n          icon-button-aria-label=\"Sluiten\"\n          onClick={this.closeModal.bind(this)}></wink-button>\n\n        <div class=\"sheet-content\">\n          {this.multipage ? (\n            <div class=\"sheet-content-scroll\">\n              <div\n                class={`sheet-content-page sheet-content-page-first ${this.firstPage ? 'sheet-content-page-visible' : ''}`}>\n                <slot name=\"page-first\" />\n              </div>\n              <div\n                class={`sheet-content-page sheet-content-page-second ${!this.firstPage ? 'sheet-content-page-visible' : ''} `}>\n                <slot name=\"page-second\" />\n              </div>\n              <slot />\n            </div>\n          ) : (\n            <div class=\"sheet-content-scroll\">\n              <slot />\n            </div>\n          )}\n\n          {this.renderFooter()}\n        </div>\n      </dialog>\n    );\n  }\n}\n"]}