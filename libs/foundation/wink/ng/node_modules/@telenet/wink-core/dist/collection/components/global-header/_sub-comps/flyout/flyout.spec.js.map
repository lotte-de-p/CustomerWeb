{"version":3,"file":"flyout.spec.js","sourceRoot":"","sources":["../../../../../../../../../../src/components/global-header/_sub-comps/flyout/flyout.spec.tsx"],"names":[],"mappings":"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","sourcesContent":["import { newSpecPage } from '@stencil/core/testing';\nimport { Flyout } from './flyout';\n\ndescribe('wink-flyout', () => {\n  it('should should create an instance of Flyout class component', () => {\n    const comp = new Flyout();\n\n    expect(comp).toBeInstanceOf(Flyout);\n  });\n\n  it('should set activeId and backLabel when handleMainNavigationItemClicked is triggered', async () => {\n    const comp = new Flyout();\n    comp.flyoutId = 2;\n    comp['handleMainNavigationItemClicked'](\n      new CustomEvent('mainNavigationItemClicked', { detail: { index: 1, name: 'some-name' } })\n    );\n\n    expect(comp['activeId']).toBe(1);\n    expect(comp['backLabel']).toBe('some-name');\n  });\n\n  it('should set isFlyoutOpen to true when activeId equals flyoutId', async () => {\n    const comp = new Flyout();\n    comp.flyoutId = 2;\n    comp['handleMainNavigationItemClicked'](\n      new CustomEvent('mainNavigationItemClicked', {\n        detail: { index: 2, name: 'some-other-name', eventType: 'mouse' },\n      })\n    );\n\n    expect(comp['isFlyoutOpen']).toBe(true);\n  });\n\n  it('should not call getAllFocusableElements when eventType is mouse', async () => {\n    const comp = new Flyout();\n    comp.flyoutId = 3;\n    const getAllFocusableElementsSpy = jest.spyOn(comp as any, 'getAllFocusableElements');\n    comp['handleMainNavigationItemClicked'](\n      new CustomEvent('mainNavigationItemClicked', {\n        detail: { index: 3, name: '', eventType: 'mouse' },\n      })\n    );\n\n    expect(getAllFocusableElementsSpy).not.toHaveBeenCalled();\n  });\n\n  it('should call getAllFocusableElements when eventType is not mouse and shouldFetchFocusableElements returns true', async () => {\n    const comp = new Flyout();\n    comp.flyoutId = 2;\n    comp['shouldFetchFocusableElements'] = () => true;\n    const getAllFocusableElementsSpy = jest.spyOn(comp as any, 'getAllFocusableElements');\n    comp['handleMainNavigationItemClicked'](\n      new CustomEvent('mainNavigationItemClicked', {\n        detail: { index: 2, name: '', eventType: 'keyboard' },\n      })\n    );\n\n    expect(getAllFocusableElementsSpy).toHaveBeenCalled();\n  });\n\n  it('should call resetFocusableElements when shouldFetchFocusableElements returns false', async () => {\n    const comp = new Flyout();\n    comp.flyoutId = 3;\n    comp['shouldFetchFocusableElements'] = () => false;\n    const resetFocusableElementsSpy = jest.spyOn(comp as any, 'resetFocusableElements');\n    comp['handleMainNavigationItemClicked'](\n      new CustomEvent('mainNavigationItemClicked', {\n        detail: { index: 3, name: '', eventType: 'keyboard' },\n      })\n    );\n\n    expect(resetFocusableElementsSpy).toHaveBeenCalled();\n  });\n\n  it('should reset focusableElements and focusedElementTracker when resetFocusableElements is called', () => {\n    const comp = new Flyout();\n    comp.focusableElements = ['element1', 'element2'];\n    comp.focusedElementTracker = 1;\n\n    comp['resetFocusableElements']();\n\n    expect(comp.focusableElements).toEqual([]);\n    expect(comp.focusedElementTracker).toBe(0);\n  });\n\n  it('should focus on the first focusable element when focusOnElement is called', () => {\n    const comp = new Flyout();\n    const mockElement = { focus: jest.fn() };\n    comp.focusableElements = [mockElement];\n    comp.focusedElementTracker = 0;\n\n    comp['focusOnElement']();\n\n    expect(mockElement.focus).toHaveBeenCalled();\n  });\n\n  it('should render the element wink-flyout', async () => {\n    const page = await newSpecPage({\n      components: [Flyout],\n      html: `<wink-flyout flyout-id=\"1\" open></wink-flyout>`,\n    });\n\n    expect(page.root).toEqualHtml(`\n    <wink-flyout id=\"flyout-1\" flyout-id=\"1\" aria-label=\" \" tabindex=\"-1\" open>\n      <mock:shadow-root>\n        <div class=\"container\">\n          <div class=\"content\">\n            <wink-link appearance=\"menu-back\" href=\"#\" icon=\"arrow-left\" icon-appearance=\"default\" icon-position=\"left\" is-disabled=\"false\" size=\"caption-bold\">\n              <wink-icon appearance=\"default\" exportparts=\"icon, icon-arrow-left\" icon=\"arrow-left\" size=\"md\" slot=\"link-icon\"></wink-icon>\n            </wink-link>\n            <slot name=\"col-1\"></slot>\n            <slot name=\"col-2\"></slot>\n            <slot name=\"col-3\"></slot>\n            <slot name=\"col-4\"></slot>\n         </div>\n      </mock:shadow-root>\n    </wink-flyout>\n  `);\n  });\n});\n"]}