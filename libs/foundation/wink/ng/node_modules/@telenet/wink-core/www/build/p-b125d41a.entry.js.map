{"version":3,"names":["sheetBaseCss","WinkSheetBaseStyle0","sheetTelenetCss","WinkSheetTelenetStyle0","Sheet","onIsVisibleChange","this","isVisible","isOpen","openModal","closeModal","open","close","nextPage","goForward","componentWillLoad","stickyElements","host","querySelectorAll","length","hasStickyFooter","componentDidLoad","document","addEventListener","handleOutsideClick","disconnectedCallback","removeEventListener","event","contains","target","handleButtonClick","tagName","toLowerCase","classList","goBack","setTimeout","dialog","shadowRoot","querySelector","showModal","firstPage","renderFooter","multipage","h","class","name","render","key","onClick","dashboard","appearance","size","icon","bind"],"sources":["../core/src/components/sheet/styles/brands/sheet.base.scss?tag=wink-sheet&mode=base&encapsulation=shadow","../core/src/components/sheet/styles/brands/sheet.telenet.scss?tag=wink-sheet&mode=telenet&encapsulation=shadow","../core/src/components/sheet/sheet.tsx"],"sourcesContent":["@import '../vars/vars.base';\n@import '../sheet.default';\n","@import '../vars/vars.telenet';\n@import '../sheet.default';\n","import { Component, Element, h, State, Method, Prop, Watch } from '@stencil/core';\n\n@Component({\n  tag: 'wink-sheet',\n  styleUrls: {\n    telenet: 'styles/brands/sheet.telenet.scss',\n    base: 'styles/brands/sheet.base.scss',\n  },\n  shadow: true,\n})\nexport class Sheet {\n  @Element() host!: HTMLWinkSheetElement;\n\n  @Prop() dashboard = false;\n  @Prop() multipage = false;\n  @Prop({ reflect: true, mutable: true }) isVisible = false;\n\n  @State() isOpen = false;\n  @State() hasStickyFooter = false;\n  @State() firstPage = true;\n\n  @Watch('isVisible')\n  onIsVisibleChange() {\n    if (this.isVisible && !this.isOpen) {\n      this.openModal();\n    }\n    if (!this.isVisible && this.isOpen) {\n      this.closeModal();\n    }\n  }\n\n  @Method()\n  async open() {\n    this.openModal();\n  }\n\n  @Method()\n  async close() {\n    this.closeModal();\n  }\n\n  @Method()\n  async nextPage() {\n    this.goForward();\n  }\n\n  componentWillLoad() {\n    if (this.isVisible && !this.isOpen) {\n      this.openModal();\n    }\n\n    const stickyElements = this.host?.querySelectorAll('[slot*=\"footer\"]');\n    if (stickyElements.length > 0) {\n      this.hasStickyFooter = true;\n    }\n  }\n\n  componentDidLoad() {\n    document.addEventListener('click', this.handleOutsideClick, true);\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener('click', this.handleOutsideClick, true);\n  }\n\n  private readonly handleOutsideClick = (event: MouseEvent) => {\n    if (this.isOpen && !this.host.contains(event.target as Node)) {\n      this.closeModal();\n    }\n  };\n\n  private readonly handleButtonClick = (event: MouseEvent) => {\n    const target = event.target as HTMLElement;\n    if (target.tagName.toLowerCase() === 'wink-button') {\n      if (target.classList.contains('wink-button-forward')) {\n        this.goForward();\n      }\n\n      if (target.classList.contains('wink-button-back')) {\n        this.goBack();\n      }\n\n      if (target.classList.contains('wink-button-close')) {\n        this.close();\n      }\n    }\n  };\n\n  private openModal() {\n    if (this.isOpen) return;\n\n    this.isVisible = true;\n    this.isOpen = true;\n\n    setTimeout(() => {\n      const dialog = this.host.shadowRoot?.querySelector('dialog');\n      if (dialog) {\n        dialog.showModal();\n      }\n    }, 0);\n  }\n\n  private closeModal() {\n    if (!this.isOpen) return;\n\n    this.isVisible = false;\n    this.isOpen = false;\n    const dialog = this.host.shadowRoot?.querySelector('dialog');\n    if (dialog) {\n      dialog.close();\n    }\n  }\n\n  private goBack() {\n    this.firstPage = true;\n  }\n\n  private goForward() {\n    this.firstPage = false;\n  }\n\n  private renderFooter() {\n    if (!this.hasStickyFooter) return;\n    if (this.multipage) {\n      return (\n        <div class=\"sheet-footer\">\n          <div class={`sheet-footer-sub ${this.firstPage ? 'sheet-footer-visible' : ''}`}>\n            <slot name=\"footer\" />\n          </div>\n          <div class={`sheet-footer-sub ${!this.firstPage ? 'sheet-footer-visible' : ''}`}>\n            <slot name=\"footer-second\" />\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div class=\"sheet-footer\">\n        <slot name=\"footer\" />\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <dialog\n        onClick={this.handleButtonClick}\n        class={`sheet  ${this.hasStickyFooter ? 'sheet-margin-bottom' : ''} ${this.dashboard ? 'sheet-darker' : ''}`}\n        aria-live=\"assertive\">\n        {!this.firstPage && (\n          <wink-button\n            appearance=\"tertiary\"\n            size=\"md\"\n            icon=\"chevron-left\"\n            icon-position=\"center\"\n            class=\"sheet-icon sheet-icon-back\"\n            icon-button-aria-label=\"Terug\"\n            onClick={this.goBack.bind(this)}></wink-button>\n        )}\n\n        <wink-button\n          appearance=\"tertiary\"\n          size=\"md\"\n          icon=\"cross\"\n          icon-position=\"center\"\n          class=\"sheet-icon sheet-icon-close\"\n          icon-button-aria-label=\"Sluiten\"\n          onClick={this.closeModal.bind(this)}></wink-button>\n\n        <div class=\"sheet-content\">\n          {this.multipage ? (\n            <div class=\"sheet-content-scroll\">\n              <div\n                class={`sheet-content-page sheet-content-page-first ${this.firstPage ? 'sheet-content-page-visible' : ''}`}>\n                <slot name=\"page-first\" />\n              </div>\n              <div\n                class={`sheet-content-page sheet-content-page-second ${!this.firstPage ? 'sheet-content-page-visible' : ''} `}>\n                <slot name=\"page-second\" />\n              </div>\n              <slot />\n            </div>\n          ) : (\n            <div class=\"sheet-content-scroll\">\n              <slot />\n            </div>\n          )}\n\n          {this.renderFooter()}\n        </div>\n      </dialog>\n    );\n  }\n}\n"],"mappings":"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"}