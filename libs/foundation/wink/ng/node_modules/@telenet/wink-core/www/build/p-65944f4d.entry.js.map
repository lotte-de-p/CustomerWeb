{"version":3,"names":["DROPDOWN_ALIGN","topLeft","topRight","bottomLeft","bottomRight","dropdownMenuBaseCss","WinkDropdownMenuBaseStyle0","dropdownMenuTelenetCss","WinkDropdownMenuTelenetStyle0","DropdownMenu","componentDidLoad","this","setPosition","openDropdown","_e","isExpanded","toggleDropdown","dropdownRect","host","getBoundingClientRect","viewportWidth","window","innerWidth","viewportHeight","innerHeight","spaceOnLeft","left","spaceOnRight","right","spaceOnTop","top","spaceOnBottom","bottom","positionX","Math","max","positionY","listPosition","render","allLinkChilds","Array","from","children","filter","node","nodeName","toLocaleLowerCase","map","item","setAttribute","sanitizeString","textContent","itemSelected","classList","add","h","Host","class","onMouseDown","onFocus","onBlur","exportparts","tabindex","dropdownTabIndex","name","heading","size","ICON_SIZES","sm","icon","child","key","UUId","innerHTML","outerHTML"],"sources":["../core/src/components/dropdown-menu/models/dropdown-menu.types.tsx","../core/src/components/dropdown-menu/styles/brands/dropdown-menu.base.scss?tag=wink-dropdown-menu&mode=base&encapsulation=shadow","../core/src/components/dropdown-menu/styles/brands/dropdown-menu.telenet.scss?tag=wink-dropdown-menu&mode=telenet&encapsulation=shadow","../core/src/components/dropdown-menu/dropdown-menu.tsx"],"sourcesContent":["export const DROPDOWN_ALIGN = {\n  topLeft: 'top-left',\n  topRight: 'top-right',\n  bottomLeft: 'bottom-left',\n  bottomRight: 'bottom-right',\n} as const;\nexport type DropdownAlign = (typeof DROPDOWN_ALIGN)[keyof typeof DROPDOWN_ALIGN];\n","@import '../vars/vars.base';\n@import '../dropdown-menu.default';\n","@import '../vars/vars.telenet';\n@import '../dropdown-menu.default';\n","import { Component, Element, h, Host, Prop, State } from '@stencil/core';\nimport { sanitizeString, UUId } from '../../utils/utils';\nimport { DROPDOWN_ALIGN, DropdownAlign } from './models/dropdown-menu.types';\nimport { ICON_SIZES } from '../icon/models/icon.types';\n\n@Component({\n  tag: 'wink-dropdown-menu',\n  styleUrls: {\n    telenet: 'styles/brands/dropdown-menu.telenet.scss',\n    base: 'styles/brands/dropdown-menu.base.scss',\n  },\n  shadow: true,\n})\nexport class DropdownMenu {\n  @Element() host!: HTMLWinkDropdownMenuElement;\n  @State() listPosition: DropdownAlign = DROPDOWN_ALIGN.topLeft;\n  @Prop() heading?: string = 'default-1';\n  @Prop({ mutable: true }) isExpanded?: boolean = false;\n  @Prop() dropdownTabIndex?: number = 1;\n  @Prop() itemSelected?: string;\n\n  componentDidLoad(): void {\n    this.setPosition();\n  }\n\n  private readonly openDropdown = (_e: Event) => {\n    this.setPosition();\n    this.isExpanded = true;\n  };\n\n  private readonly toggleDropdown = (_e: Event) => {\n    this.setPosition();\n    this.isExpanded = !this.isExpanded;\n  };\n\n  private readonly setPosition = () => {\n    const dropdownRect = this.host.getBoundingClientRect();\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n\n    const spaceOnLeft = dropdownRect.left;\n    const spaceOnRight = viewportWidth - dropdownRect.right;\n    const spaceOnTop = dropdownRect.top;\n    const spaceOnBottom = viewportHeight - dropdownRect.bottom;\n\n    const positionX = Math.max(spaceOnLeft, spaceOnRight) === spaceOnRight ? 'left' : 'right';\n    const positionY = Math.max(spaceOnTop, spaceOnBottom) === spaceOnBottom ? 'top' : 'bottom';\n\n    this.listPosition = `${positionY}-${positionX}`;\n  };\n\n  render() {\n    const allLinkChilds = Array.from(this.host.children)\n      .filter((node: any) => {\n        return node.nodeName.toLocaleLowerCase() === 'wink-link';\n      })\n      .map((item: any) => {\n        item.setAttribute('appearance', 'dropdown-menu-link');\n        if (sanitizeString(item.textContent) === sanitizeString(this.itemSelected)) {\n          item.classList.add('active');\n        }\n        return item;\n      });\n    return (\n      <Host\n        class={`dropdown-menu--align-list--${this.listPosition}`}\n        is-expanded={this.isExpanded}\n        onMouseDown={this.toggleDropdown}\n        onFocus={!this.isExpanded && this.openDropdown}\n        onBlur={this.isExpanded && this.toggleDropdown}\n        exportparts=\"icon, icon-chevron-down-small\">\n        <button class=\"dropdown-menu--heading\" tabindex={this.dropdownTabIndex}>\n          <slot name=\"dropdown-menu--avatar\" />\n          {this.heading}\n          <div class=\"dropdown-menu--chevron\">\n            <wink-icon size={ICON_SIZES.sm} icon=\"chevron-down-small\"></wink-icon>\n          </div>\n        </button>\n        <ul class=\"dropdown-menu--list\">\n          {allLinkChilds.map((child: any) => (\n            <li key={UUId()} innerHTML={child.outerHTML} />\n          ))}\n        </ul>\n      </Host>\n    );\n  }\n}\n"],"mappings":"gKAAO,MAAMA,EAAiB,CAC5BC,QAAS,WACTC,SAAU,YACVC,WAAY,cACZC,YAAa,gBCJf,MAAMC,EAAsB,m6DAC5B,MAAAC,EAAeD,ECDf,MAAME,EAAyB,m6DAC/B,MAAAC,EAAeD,E,MCYFE,EAAY,M,2CAEgBT,EAAeC,Q,aAC3B,Y,gBACqB,M,sBACZ,E,sDAGpC,gBAAAS,GACEC,KAAKC,a,CAGUC,aAAgBC,IAC/BH,KAAKC,cACLD,KAAKI,WAAa,IAAI,EAGPC,eAAkBF,IACjCH,KAAKC,cACLD,KAAKI,YAAcJ,KAAKI,UAAU,EAGnBH,YAAc,KAC7B,MAAMK,EAAeN,KAAKO,KAAKC,wBAC/B,MAAMC,EAAgBC,OAAOC,WAC7B,MAAMC,EAAiBF,OAAOG,YAE9B,MAAMC,EAAcR,EAAaS,KACjC,MAAMC,EAAeP,EAAgBH,EAAaW,MAClD,MAAMC,EAAaZ,EAAaa,IAChC,MAAMC,EAAgBR,EAAiBN,EAAae,OAEpD,MAAMC,EAAYC,KAAKC,IAAIV,EAAaE,KAAkBA,EAAe,OAAS,QAClF,MAAMS,EAAYF,KAAKC,IAAIN,EAAYE,KAAmBA,EAAgB,MAAQ,SAElFpB,KAAK0B,aAAe,GAAGD,KAAaH,GAAW,EAGjD,MAAAK,GACE,MAAMC,EAAgBC,MAAMC,KAAK9B,KAAKO,KAAKwB,UACxCC,QAAQC,GACAA,EAAKC,SAASC,sBAAwB,cAE9CC,KAAKC,IACJA,EAAKC,aAAa,aAAc,sBAChC,GAAIC,EAAeF,EAAKG,eAAiBD,EAAevC,KAAKyC,cAAe,CAC1EJ,EAAKK,UAAUC,IAAI,S,CAErB,OAAON,CAAI,IAEf,OACEO,EAACC,EAAI,CACHC,MAAO,8BAA8B9C,KAAK0B,eAAc,cAC3C1B,KAAKI,WAClB2C,YAAa/C,KAAKK,eAClB2C,SAAUhD,KAAKI,YAAcJ,KAAKE,aAClC+C,OAAQjD,KAAKI,YAAcJ,KAAKK,eAChC6C,YAAY,iCACZN,EAAA,UAAQE,MAAM,yBAAyBK,SAAUnD,KAAKoD,kBACpDR,EAAA,QAAMS,KAAK,0BACVrD,KAAKsD,QACNV,EAAA,OAAKE,MAAM,0BACTF,EAAA,aAAWW,KAAMC,EAAWC,GAAIC,KAAK,yBAGzCd,EAAA,MAAIE,MAAM,uBACPlB,EAAcQ,KAAKuB,GAClBf,EAAA,MAAIgB,IAAKC,IAAQC,UAAWH,EAAMI,e"}