<div class="mobile-usage-limits">
  <div class="pt--xl--md pt--l pr-0">
    <care-billing-mobile-usage-limits-premium-limits-notification
      [currentPremiumLimit]="currentPremiumLimit"></care-billing-mobile-usage-limits-premium-limits-notification>
  </div>

  <tg-slide-menu
    [showMenu]="showPremiumServices"
    (closeMenu)="handlePremiumLimitUpdate(false)"
    [isStickyFooter]="true"
    [hideCloseButton]="false"
    [title]="'ng.mobile-usage-limits.title.manage-premium-services-limit' | translate"
    [attr.data-cy]="'mobile-usage-limits-premium-services-slider'">
    <header>
      <div class="input-v2--wrapper mb--l px--m">
        <p
          [attr.data-cy]="'mobile-usage-limits-premium-services-subscription'"
          class="form-item__input__label mb--l color-shade_72">
          {{ 'ng.mobile-usage-limits.lbl.manage-premium-services-description' | translate }}
        </p>
        <label for="input-id" id="input-id:Label" class="label-v2">
          <div [attr.data-cy]="'mobile-usage-limits-premium-services-enter-limit'" class="label-v2__label">
            {{ 'ng.mobile-usage-limits.lbl.enter-premium-services-limit' | translate }}
            <div
              [attr.data-cy]="'mobile-usage-limits-premium-services-max-allowed'"
              class="label-v2__helper"
              id="input-id:Helper">
              {{ 'ng.mobile-usage-limits.lbl.max-limit-premium-services' | translate }}
            </div>
          </div>
        </label>
        <form [formGroup]="thirdPartyServicesForm" class="form-group">
          <div class="display--flex width--full">
            <div class="input-v2__affix input-v2__affix--prefix">â‚¬</div>
            <input
              [min]="0"
              [max]="300"
              [attr.data-cy]="'premium-limit-value'"
              [mask]="'000'"
              required
              formControlName="premiumLimit"
              id="input-id"
              type="number"
              inputmode=""
              placeholder="XXX"
              value=""
              autocomplete="off"
              class="input-v2" />
          </div>
          <div
            class="formErrorInput Form__input__invalid-message"
            *ngIf="
              thirdPartyServicesForm.controls['premiumLimit'].hasError('min') ||
              thirdPartyServicesForm.controls['premiumLimit'].hasError('max')
            ">
            {{ 'ng.mobile-usage-limits.lbl.inputfield-limit-premium-services-max-error' | translate }}
          </div>
          <div
            class="formErrorInput Form__input__invalid-message"
            *ngIf="thirdPartyServicesForm.controls['premiumLimit'].hasError('required')">
            {{ 'ng.mobile-usage-limits.lbl.inputfield-limit-premium-services-mandatory-error' | translate }}
          </div>
        </form>
      </div>
    </header>

    <footer>
      <care-billing-mobile-usage-limits-update-mobile-usage-limits (clickEvent)="handlePremiumLimitUpdate($event)">
      </care-billing-mobile-usage-limits-update-mobile-usage-limits>
    </footer>
  </tg-slide-menu>
</div>
