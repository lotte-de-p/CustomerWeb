{"version":3,"file":"libs_install_return-devices_data-access_src_index_ts-_4f961.js","mappings":"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","sources":["./libs/install/return-devices/data-access/src/index.ts","./libs/install/return-devices/data-access/src/lib/+state/return-devices-ngrx.module.ts","./libs/install/return-devices/data-access/src/lib/+state/return-devices.actions.ts","./libs/install/return-devices/data-access/src/lib/+state/return-devices.effects.ts","./libs/install/return-devices/data-access/src/lib/+state/return-devices.reducer.ts","./libs/install/return-devices/data-access/src/lib/+state/return-devices.selectors.ts","./libs/install/return-devices/data-access/src/lib/+state/return-devices.state.ts","./libs/install/return-devices/data-access/src/lib/entities/device.model.ts","./libs/install/return-devices/data-access/src/lib/facade/return-devices.facade.ts","./libs/install/return-devices/data-access/src/lib/mapper/return-devices-address-selector.mapper.ts","./libs/install/return-devices/data-access/src/lib/mapper/return-devices.mapper.ts","./libs/install/return-devices/data-access/src/lib/mapper/return-label.mapper.ts","./libs/install/return-devices/data-access/src/lib/pipes/format-address.pipe.ts","./libs/install/return-devices/data-access/src/lib/services/pdf.service.ts","./libs/install/return-devices/data-access/src/lib/services/return-devices.service.ts","./node_modules/immer/dist/immer.mjs"],"sourcesContent":["export { ReturnDevicesFacade } from './lib/facade/return-devices.facade';\nexport { ReturnDevicesNgrxModule } from './lib/+state/return-devices-ngrx.module';\nexport { Device, ReturnStatusEnum } from './lib/entities/device.model';\nexport { PdfService } from './lib/services/pdf.service';\nexport { AddressSelectorModel } from './lib/entities/address-selector.model';\nexport { RawAddressSelectorModel } from './lib/entities/raw-address-selector.model';\nexport { FormatAddressPipe } from './lib/pipes/format-address.pipe';\n","import { NgModule } from '@angular/core';\nimport { EffectsModule } from '@ngrx/effects';\nimport { StoreModule } from '@ngrx/store';\nimport { ReturnDevicesEffects } from './return-devices.effects';\nimport { returnDevicesFeature } from './return-devices.reducer';\n\n@NgModule({\n  imports: [EffectsModule.forFeature([ReturnDevicesEffects]), StoreModule.forFeature(returnDevicesFeature)],\n})\nexport class ReturnDevicesNgrxModule {}\n","import { createAction, emptyProps, props } from '@ngrx/store';\nimport { Device } from '../entities/device.model';\nimport { ReturnLabel } from '../entities/return-label.model';\nimport { AddressSelectorModel } from '../entities/address-selector.model';\n\nexport const getReturnLabel = createAction('[return-devices] get return label', props<{ addressId: string }>());\n\nexport const getReturnLabelSuccess = createAction(\n  '[return-devices] get return label success',\n  props<{ returnLabel: ReturnLabel }>()\n);\n\nexport const getReturnLabelFailure = createAction(\n  '[return-devices] get return label failure',\n  props<{\n    error: Error;\n  }>()\n);\n\nexport const toggleDevice = createAction('[return-devices] toggle device success', props<{ device: Device }>());\n\nexport const getReturnDevicesAndAddressLineDetails = createAction(\n  '[return-devices] get return device and address selector list',\n  emptyProps\n);\n\nexport const getReturnDevicesAndAddressLineDetailsSuccess = createAction(\n  '[return-devices] get return device and address selector list success',\n  props<{ addressLines: AddressSelectorModel[]; devices: Device[] }>()\n);\n\nexport const getReturnDevicesAndAddressLineDetailsFailure = createAction(\n  '[return-devices] get return device and address selector list failure',\n  props<{\n    error: Error;\n  }>()\n);\n\nexport const selectedAddress = createAction(\n  '[return-devices] set selected address',\n  props<{ selectedAddressLine: AddressSelectorModel | null }>()\n);\n","import { inject, Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { catchError, map, mergeMap } from 'rxjs/operators';\nimport { combineLatest, of } from 'rxjs';\nimport {\n  getReturnDevicesAndAddressLineDetails,\n  getReturnDevicesAndAddressLineDetailsFailure,\n  getReturnDevicesAndAddressLineDetailsSuccess,\n  getReturnLabel,\n  getReturnLabelFailure,\n  getReturnLabelSuccess,\n} from './return-devices.actions';\nimport { ReturnDevicesService } from '../services/return-devices.service';\nimport { ReturnLabel } from '../entities/return-label.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ReturnDevicesEffects {\n  actions$ = inject(Actions);\n  returnDevicesService = inject(ReturnDevicesService);\n\n  returnLabel$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(getReturnLabel),\n      mergeMap((request) => {\n        return this.returnDevicesService.getReturnLabel(request.addressId);\n      }),\n      map((returnLabel: ReturnLabel) => getReturnLabelSuccess({ returnLabel: returnLabel })),\n      catchError((error) => of(getReturnLabelFailure({ error: error })))\n    )\n  );\n\n  returnDevicesAndAddressLineDetails$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(getReturnDevicesAndAddressLineDetails),\n      mergeMap(() =>\n        combineLatest([this.returnDevicesService.getAddressSelector(), this.returnDevicesService.getReturnDevices()])\n      ),\n      map((result) => getReturnDevicesAndAddressLineDetailsSuccess({ addressLines: result[0], devices: result[1] })),\n      catchError((error) => of(getReturnDevicesAndAddressLineDetailsFailure({ error: error })))\n    )\n  );\n}\n","import { Action, createFeature, createReducer, on } from '@ngrx/store';\nimport { produce } from 'immer';\nimport { defaultReturnDevicesState, ReturnDevicesState } from './return-devices.state';\nimport {\n  getReturnDevicesAndAddressLineDetailsFailure,\n  getReturnDevicesAndAddressLineDetailsSuccess,\n  getReturnLabelFailure,\n  getReturnLabelSuccess,\n  selectedAddress,\n  toggleDevice,\n} from './return-devices.actions';\nimport { Device } from '../entities/device.model';\nimport { ReturnLabel } from '../entities/return-label.model';\nimport { AddressSelectorModel } from '../entities/address-selector.model';\n\nexport const reducer = createReducer(\n  defaultReturnDevicesState,\n  on(getReturnLabelSuccess, (state: ReturnDevicesState, action: { returnLabel: ReturnLabel }) => ({\n    ...state,\n    returnLabel: action.returnLabel.label,\n  })),\n  on(getReturnLabelFailure, (state: ReturnDevicesState, action: { error: Error }) => ({\n    ...state,\n    error: action.error,\n  })),\n  on(toggleDevice, (state: ReturnDevicesState, action: { device: Device }) =>\n    produce(state, (draft: ReturnDevicesState) => {\n      draft.selectedDevicesList.forEach((device) => {\n        device.isToggled = false;\n      });\n\n      const deviceToToggle = draft.selectedDevicesList.find(\n        (device) => device.serialNumber === action.device.serialNumber\n      );\n      if (deviceToToggle) {\n        deviceToToggle.isToggled = !action.device.isToggled;\n      }\n    })\n  ),\n  on(\n    getReturnDevicesAndAddressLineDetailsSuccess,\n    (state: ReturnDevicesState, action: { addressLines: AddressSelectorModel[]; devices: Device[] }) => ({\n      ...state,\n      deviceDetailsLoaded: true,\n      addressLines: action.addressLines,\n      selectedAddressLine: action.addressLines[0],\n      devices: getSortedReturnDevices(action.devices),\n    })\n  ),\n  on(getReturnDevicesAndAddressLineDetailsFailure, (state: ReturnDevicesState, action: { error: Error }) => ({\n    ...state,\n    deviceDetailsLoaded: true,\n    error: action.error,\n  })),\n  on(selectedAddress, (state: ReturnDevicesState, action: { selectedAddressLine: AddressSelectorModel | null }) => ({\n    ...state,\n    selectedDevicesList: filterReturnDevices(action.selectedAddressLine, state.devices),\n    selectedAddressLine: action.selectedAddressLine,\n  }))\n);\n\nfunction filterReturnDevices(selectedReturnDevicesAddressLine: AddressSelectorModel | null, devices: Device[]) {\n  const deviceList = devices.filter((device) => device.addressId === selectedReturnDevicesAddressLine?.id);\n  return getSortedReturnDevices(deviceList);\n}\n\nfunction getSortedReturnDevices(devices: Device[]): Device[] {\n  return devices.slice().sort((device1, device2) => {\n    const date1 = device1.returnDueDate ? Date.parse(device1.returnDueDate) : Infinity;\n    const date2 = device2.returnDueDate ? Date.parse(device2.returnDueDate) : Infinity;\n    return date1 - date2;\n  });\n}\n\nexport function returnDevicesReducer(\n  state: ReturnDevicesState = defaultReturnDevicesState,\n  action: Action\n): ReturnDevicesState {\n  return reducer(state, action);\n}\n\nexport const returnDevicesFeature = createFeature({\n  name: 'returnDevicesFeature',\n  reducer: returnDevicesReducer,\n});\n","import { createFeatureSelector, createSelector } from '@ngrx/store';\nimport { ReturnDevicesState } from './return-devices.state';\n\nexport const returnDevicesFeatureState = createFeatureSelector<ReturnDevicesState>('returnDevicesFeature');\n\nexport const selectReturnDevices = createSelector(\n  returnDevicesFeatureState,\n  (state: ReturnDevicesState) => state.devices\n);\n\nexport const selectReturnLabel = createSelector(\n  returnDevicesFeatureState,\n  (state: ReturnDevicesState) => state.returnLabel\n);\n\nexport const selectReturnDevicesFailure = createSelector(\n  returnDevicesFeatureState,\n  (state: ReturnDevicesState) => state.error\n);\n\nexport const selectReturnDeviceAddressLines = createSelector(returnDevicesFeatureState, (state) => state.addressLines);\n\nexport const selectedAddressLine = createSelector(returnDevicesFeatureState, (state) => state.selectedAddressLine);\n\nexport const selectedDevicesList = createSelector(returnDevicesFeatureState, (state) => state.selectedDevicesList);\n\nexport const selectDeviceDetailsLoaded = createSelector(\n  returnDevicesFeatureState,\n  (state) => state.deviceDetailsLoaded\n);\n","import { Device } from '../entities/device.model';\nimport { AddressSelectorModel } from '../entities/address-selector.model';\n\nexport interface ReturnDevicesState {\n  devices: Device[];\n  returnLabel: string | undefined;\n  addressLines: AddressSelectorModel[];\n  selectedAddressLine: AddressSelectorModel | null;\n  selectedDevicesList: Device[];\n  error: Error | undefined;\n  deviceDetailsLoaded: boolean;\n}\n\nexport const defaultReturnDevicesState: ReturnDevicesState = {\n  devices: [],\n  returnLabel: undefined,\n  addressLines: [],\n  selectedAddressLine: null,\n  selectedDevicesList: [],\n  error: undefined,\n  deviceDetailsLoaded: false,\n};\n\nexport interface ReturnDevicesSlice {\n  ['returnDevicesFeature']: ReturnDevicesState;\n}\n","export interface Device {\n  name: string;\n  type: string;\n  typeImageName: string;\n  addressId: string;\n  locationId: string;\n  serialNumber: string;\n  parentId: string;\n  returnDueDate: string;\n  lateFee: number;\n  status: string;\n  returnStatus: ReturnStatusEnum;\n  isToggled?: boolean;\n}\n\nexport enum ReturnStatusEnum {\n  EXPIRED = 'expired',\n  URGENT = 'urgent',\n  TO_BE_EXPECTED = 'to-be-expected',\n}\n","import { inject, Injectable } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport {\n  getReturnDevicesAndAddressLineDetails,\n  getReturnLabel,\n  selectedAddress,\n  toggleDevice,\n} from '../+state/return-devices.actions';\nimport { ReturnDevicesSlice } from '../+state/return-devices.state';\nimport {\n  selectDeviceDetailsLoaded,\n  selectedAddressLine,\n  selectedDevicesList,\n  selectReturnDeviceAddressLines,\n  selectReturnDevices,\n  selectReturnDevicesFailure,\n  selectReturnLabel,\n} from '../+state/return-devices.selectors';\nimport { PdfService } from '../services/pdf.service';\nimport { Device } from '../entities/device.model';\nimport { AddressSelectorModel } from '../entities/address-selector.model';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ReturnDevicesFacade {\n  private readonly store = inject(Store<ReturnDevicesSlice>);\n  private readonly pdfService = inject(PdfService);\n\n  readonly returnDevices$ = this.store.select(selectReturnDevices);\n  readonly returnLabel$ = this.store.select(selectReturnLabel);\n  readonly returnDevicesFailure$ = this.store.select(selectReturnDevicesFailure);\n  readonly returnLabelByteArray$ = this.returnLabel$.pipe(\n    map((returnLabelByte: string | undefined) => this.convertToByteArray(returnLabelByte))\n  );\n  readonly returnDevicesAddressLines$ = this.store.select(selectReturnDeviceAddressLines);\n  readonly selectedAddressLine$ = this.store.select(selectedAddressLine);\n  readonly selectedDevicesList$ = this.store.select(selectedDevicesList);\n  readonly selectDeviceDetailsLoaded$ = this.store.select(selectDeviceDetailsLoaded);\n\n  loadReturnLabel(addressId: string): void {\n    this.store.dispatch(getReturnLabel({ addressId }));\n  }\n\n  toggleDevice(device: Device): void {\n    this.store.dispatch(toggleDevice({ device }));\n  }\n\n  private convertToByteArray(returnLabel: string | undefined): Uint8Array {\n    if (!returnLabel) {\n      return new Uint8Array();\n    }\n\n    return this.pdfService.convertBase64ToByteArray(returnLabel);\n  }\n\n  getAddressSelector(): void {\n    this.store.dispatch(getReturnDevicesAndAddressLineDetails());\n  }\n\n  selectedAddress(selectedAddressLine: AddressSelectorModel | null): void {\n    this.store.dispatch(selectedAddress({ selectedAddressLine }));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { RawAddressSelectorModel } from '../entities/raw-address-selector.model';\nimport { AddressSelectorModel } from '../entities/address-selector.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ReturnDevicesAddressSelectorMapper {\n  toModel(rawAddressSelector: RawAddressSelectorModel[]): AddressSelectorModel[] {\n    return rawAddressSelector.map((rawAddressSelector: RawAddressSelectorModel) => ({\n      id: rawAddressSelector.id,\n      country: rawAddressSelector.country,\n      countryCode: rawAddressSelector.countryCode,\n      city: rawAddressSelector.city,\n      postalCode: rawAddressSelector.postalCode,\n      street: rawAddressSelector.street,\n      houseNumber: rawAddressSelector.houseNumber,\n    }));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { RawDevice } from '../entities/raw-device.model';\nimport { Device, ReturnStatusEnum } from '../entities/device.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ReturnDevicesMapper {\n  toModel(rawDevices: RawDevice[]): Device[] {\n    return rawDevices.map((raw: RawDevice) => ({\n      name: raw.name,\n      type: raw.type,\n      typeImageName: this.mapTypeImageName(raw.type),\n      addressId: raw.addressId,\n      locationId: raw.locationId,\n      serialNumber: raw.serialNumber,\n      parentId: raw.parentId,\n      returnDueDate: raw.returnDueDate,\n      lateFee: raw.lateFee,\n      status: raw.status,\n      returnStatus: this.mapReturnStatus(raw.returnDueDate),\n      isToggled: false,\n    }));\n  }\n\n  private mapReturnStatus(returnDueDate: string): ReturnStatusEnum {\n    if (!returnDueDate) {\n      return ReturnStatusEnum.TO_BE_EXPECTED;\n    }\n\n    const currentDate = new Date();\n    const dueDateTime = new Date(returnDueDate);\n    const timeDifference = dueDateTime.getTime() - currentDate.getTime();\n    const daysDifference = Math.ceil(timeDifference / (1000 * 3600 * 24));\n\n    if (daysDifference < 0) {\n      return ReturnStatusEnum.EXPIRED;\n    }\n    if (daysDifference <= 31) {\n      return ReturnStatusEnum.URGENT;\n    }\n    return ReturnStatusEnum.TO_BE_EXPECTED;\n  }\n\n  private mapTypeImageName(type: string): string {\n    switch (type) {\n      case 'Access Points':\n        return 'access_point';\n      case 'DTV Box':\n        return 'dtvbox';\n      case 'Modem':\n        return 'modem';\n      case 'Modem Accessories':\n        return 'modem_accessories';\n      case 'Powerlines':\n        return 'powerline';\n\n      default:\n        return 'return-device-default';\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ReturnLabel, RawReturnLabel } from '../entities/return-label.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ReturnLabelMapper {\n  toModel(rawLabel: RawReturnLabel): ReturnLabel {\n    return {\n      label: rawLabel.label,\n    };\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { AddressSelectorModel } from '../entities/address-selector.model';\n\n@Pipe({\n  name: 'formatAddress',\n  standalone: true,\n})\nexport class FormatAddressPipe implements PipeTransform {\n  transform(address: AddressSelectorModel): string {\n    const { street, houseNumber, postalCode, city } = address;\n    return `${street} ${houseNumber}, ${postalCode} ${city}`;\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PdfService {\n  convertBase64ToByteArray(base64: string): Uint8Array {\n    return this.createByteArray(base64);\n  }\n\n  convertByteArrayToBlob(byteArray: Uint8Array): Blob {\n    return new Blob([byteArray], { type: 'application/pdf' });\n  }\n\n  private createByteArray(base64: string): Uint8Array {\n    const bytes = atob(base64);\n    const byteNumbers = new Array(bytes.length);\n\n    for (let i = 0; i < bytes.length; i++) {\n      byteNumbers[i] = bytes.charCodeAt(i);\n    }\n\n    return new Uint8Array(byteNumbers);\n  }\n}\n","import { inject, Injectable } from '@angular/core';\nimport { OcapiCallConfig, OcapiService } from '@telenet/ng-lib-ocapi';\nimport { Observable } from 'rxjs';\nimport { Device } from '../entities/device.model';\nimport { RawDevice } from '../entities/raw-device.model';\nimport { ReturnDevicesMapper } from '../mapper/return-devices.mapper';\nimport { RawReturnLabel, ReturnLabel } from '../entities/return-label.model';\nimport { ReturnLabelMapper } from '../mapper/return-label.mapper';\nimport { ReturnDevicesAddressSelectorMapper } from '../mapper/return-devices-address-selector.mapper';\nimport { AddressSelectorModel } from '../entities/address-selector.model';\nimport { RawAddressSelectorModel } from '../entities/raw-address-selector.model';\n\n@Injectable({ providedIn: 'root' })\nexport class ReturnDevicesService {\n  private readonly messageGroup = 'return-devices';\n  private readonly endpoint = '/public/api/return-devices-service/v1/';\n  private readonly ocapiService = inject(OcapiService);\n  private readonly returnDevicesMapper = inject(ReturnDevicesMapper);\n  private readonly returnLabelMapper = inject(ReturnLabelMapper);\n  private readonly returnDevicesAddressSelectorMapper = inject(ReturnDevicesAddressSelectorMapper);\n\n  getReturnDevices(): Observable<Device[]> {\n    return this.ocapiService.doGet(\n      new OcapiCallConfig<RawDevice[], Device[]>(\n        this.messageGroup,\n        this.endpoint + 'return-devices',\n        this.returnDevicesMapper\n      )\n    );\n  }\n\n  getReturnLabel(addressId: string): Observable<ReturnLabel> {\n    return this.ocapiService.doPost(\n      new OcapiCallConfig<RawReturnLabel, ReturnLabel>(\n        this.messageGroup,\n        this.endpoint + 'return-labels',\n        this.returnLabelMapper,\n        {\n          addressId: addressId,\n        }\n      )\n    );\n  }\n\n  getAddressSelector(): Observable<AddressSelectorModel[]> {\n    return this.ocapiService.doGet(\n      new OcapiCallConfig<RawAddressSelectorModel[], AddressSelectorModel[]>(\n        this.messageGroup,\n        this.endpoint + 'addresses',\n        this.returnDevicesAddressSelectorMapper\n      )\n    );\n  }\n}\n","// src/utils/env.ts\nvar NOTHING = Symbol.for(\"immer-nothing\");\nvar DRAFTABLE = Symbol.for(\"immer-draftable\");\nvar DRAFT_STATE = Symbol.for(\"immer-state\");\n\n// src/utils/errors.ts\nvar errors = process.env.NODE_ENV !== \"production\" ? [\n  // All error codes, starting by 0:\n  function(plugin) {\n    return `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`;\n  },\n  function(thing) {\n    return `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`;\n  },\n  \"This object has been frozen and should not be mutated\",\n  function(data) {\n    return \"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + data;\n  },\n  \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n  \"Immer forbids circular references\",\n  \"The first or second argument to `produce` must be a function\",\n  \"The third argument to `produce` must be a function or undefined\",\n  \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n  \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n  function(thing) {\n    return `'current' expects a draft, got: ${thing}`;\n  },\n  \"Object.defineProperty() cannot be used on an Immer draft\",\n  \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n  \"Immer only supports deleting array indices\",\n  \"Immer only supports setting array indices and the 'length' property\",\n  function(thing) {\n    return `'original' expects a draft, got: ${thing}`;\n  }\n  // Note: if more errors are added, the errorOffset in Patches.ts should be increased\n  // See Patches.ts for additional errors\n] : [];\nfunction die(error, ...args) {\n  if (process.env.NODE_ENV !== \"production\") {\n    const e = errors[error];\n    const msg = typeof e === \"function\" ? e.apply(null, args) : e;\n    throw new Error(`[Immer] ${msg}`);\n  }\n  throw new Error(\n    `[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`\n  );\n}\n\n// src/utils/common.ts\nvar getPrototypeOf = Object.getPrototypeOf;\nfunction isDraft(value) {\n  return !!value && !!value[DRAFT_STATE];\n}\nfunction isDraftable(value) {\n  if (!value)\n    return false;\n  return isPlainObject(value) || Array.isArray(value) || !!value[DRAFTABLE] || !!value.constructor?.[DRAFTABLE] || isMap(value) || isSet(value);\n}\nvar objectCtorString = Object.prototype.constructor.toString();\nfunction isPlainObject(value) {\n  if (!value || typeof value !== \"object\")\n    return false;\n  const proto = getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n  const Ctor = Object.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  if (Ctor === Object)\n    return true;\n  return typeof Ctor == \"function\" && Function.toString.call(Ctor) === objectCtorString;\n}\nfunction original(value) {\n  if (!isDraft(value))\n    die(15, value);\n  return value[DRAFT_STATE].base_;\n}\nfunction each(obj, iter) {\n  if (getArchtype(obj) === 0 /* Object */) {\n    Object.entries(obj).forEach(([key, value]) => {\n      iter(key, value, obj);\n    });\n  } else {\n    obj.forEach((entry, index) => iter(index, entry, obj));\n  }\n}\nfunction getArchtype(thing) {\n  const state = thing[DRAFT_STATE];\n  return state ? state.type_ : Array.isArray(thing) ? 1 /* Array */ : isMap(thing) ? 2 /* Map */ : isSet(thing) ? 3 /* Set */ : 0 /* Object */;\n}\nfunction has(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.has(prop) : Object.prototype.hasOwnProperty.call(thing, prop);\n}\nfunction get(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.get(prop) : thing[prop];\n}\nfunction set(thing, propOrOldValue, value) {\n  const t = getArchtype(thing);\n  if (t === 2 /* Map */)\n    thing.set(propOrOldValue, value);\n  else if (t === 3 /* Set */) {\n    thing.add(value);\n  } else\n    thing[propOrOldValue] = value;\n}\nfunction is(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\nfunction isMap(target) {\n  return target instanceof Map;\n}\nfunction isSet(target) {\n  return target instanceof Set;\n}\nfunction latest(state) {\n  return state.copy_ || state.base_;\n}\nfunction shallowCopy(base, strict) {\n  if (isMap(base)) {\n    return new Map(base);\n  }\n  if (isSet(base)) {\n    return new Set(base);\n  }\n  if (Array.isArray(base))\n    return Array.prototype.slice.call(base);\n  if (!strict && isPlainObject(base)) {\n    if (!getPrototypeOf(base)) {\n      const obj = /* @__PURE__ */ Object.create(null);\n      return Object.assign(obj, base);\n    }\n    return { ...base };\n  }\n  const descriptors = Object.getOwnPropertyDescriptors(base);\n  delete descriptors[DRAFT_STATE];\n  let keys = Reflect.ownKeys(descriptors);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    const desc = descriptors[key];\n    if (desc.writable === false) {\n      desc.writable = true;\n      desc.configurable = true;\n    }\n    if (desc.get || desc.set)\n      descriptors[key] = {\n        configurable: true,\n        writable: true,\n        // could live with !!desc.set as well here...\n        enumerable: desc.enumerable,\n        value: base[key]\n      };\n  }\n  return Object.create(getPrototypeOf(base), descriptors);\n}\nfunction freeze(obj, deep = false) {\n  if (isFrozen(obj) || isDraft(obj) || !isDraftable(obj))\n    return obj;\n  if (getArchtype(obj) > 1) {\n    obj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections;\n  }\n  Object.freeze(obj);\n  if (deep)\n    each(obj, (_key, value) => freeze(value, true), true);\n  return obj;\n}\nfunction dontMutateFrozenCollections() {\n  die(2);\n}\nfunction isFrozen(obj) {\n  return Object.isFrozen(obj);\n}\n\n// src/utils/plugins.ts\nvar plugins = {};\nfunction getPlugin(pluginKey) {\n  const plugin = plugins[pluginKey];\n  if (!plugin) {\n    die(0, pluginKey);\n  }\n  return plugin;\n}\nfunction loadPlugin(pluginKey, implementation) {\n  if (!plugins[pluginKey])\n    plugins[pluginKey] = implementation;\n}\n\n// src/core/scope.ts\nvar currentScope;\nfunction getCurrentScope() {\n  return currentScope;\n}\nfunction createScope(parent_, immer_) {\n  return {\n    drafts_: [],\n    parent_,\n    immer_,\n    // Whenever the modified draft contains a draft from another scope, we\n    // need to prevent auto-freezing so the unowned draft can be finalized.\n    canAutoFreeze_: true,\n    unfinalizedDrafts_: 0\n  };\n}\nfunction usePatchesInScope(scope, patchListener) {\n  if (patchListener) {\n    getPlugin(\"Patches\");\n    scope.patches_ = [];\n    scope.inversePatches_ = [];\n    scope.patchListener_ = patchListener;\n  }\n}\nfunction revokeScope(scope) {\n  leaveScope(scope);\n  scope.drafts_.forEach(revokeDraft);\n  scope.drafts_ = null;\n}\nfunction leaveScope(scope) {\n  if (scope === currentScope) {\n    currentScope = scope.parent_;\n  }\n}\nfunction enterScope(immer2) {\n  return currentScope = createScope(currentScope, immer2);\n}\nfunction revokeDraft(draft) {\n  const state = draft[DRAFT_STATE];\n  if (state.type_ === 0 /* Object */ || state.type_ === 1 /* Array */)\n    state.revoke_();\n  else\n    state.revoked_ = true;\n}\n\n// src/core/finalize.ts\nfunction processResult(result, scope) {\n  scope.unfinalizedDrafts_ = scope.drafts_.length;\n  const baseDraft = scope.drafts_[0];\n  const isReplaced = result !== void 0 && result !== baseDraft;\n  if (isReplaced) {\n    if (baseDraft[DRAFT_STATE].modified_) {\n      revokeScope(scope);\n      die(4);\n    }\n    if (isDraftable(result)) {\n      result = finalize(scope, result);\n      if (!scope.parent_)\n        maybeFreeze(scope, result);\n    }\n    if (scope.patches_) {\n      getPlugin(\"Patches\").generateReplacementPatches_(\n        baseDraft[DRAFT_STATE].base_,\n        result,\n        scope.patches_,\n        scope.inversePatches_\n      );\n    }\n  } else {\n    result = finalize(scope, baseDraft, []);\n  }\n  revokeScope(scope);\n  if (scope.patches_) {\n    scope.patchListener_(scope.patches_, scope.inversePatches_);\n  }\n  return result !== NOTHING ? result : void 0;\n}\nfunction finalize(rootScope, value, path) {\n  if (isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  if (!state) {\n    each(\n      value,\n      (key, childValue) => finalizeProperty(rootScope, state, value, key, childValue, path),\n      true\n      // See #590, don't recurse into non-enumerable of non drafted objects\n    );\n    return value;\n  }\n  if (state.scope_ !== rootScope)\n    return value;\n  if (!state.modified_) {\n    maybeFreeze(rootScope, state.base_, true);\n    return state.base_;\n  }\n  if (!state.finalized_) {\n    state.finalized_ = true;\n    state.scope_.unfinalizedDrafts_--;\n    const result = state.copy_;\n    let resultEach = result;\n    let isSet2 = false;\n    if (state.type_ === 3 /* Set */) {\n      resultEach = new Set(result);\n      result.clear();\n      isSet2 = true;\n    }\n    each(\n      resultEach,\n      (key, childValue) => finalizeProperty(rootScope, state, result, key, childValue, path, isSet2)\n    );\n    maybeFreeze(rootScope, result, false);\n    if (path && rootScope.patches_) {\n      getPlugin(\"Patches\").generatePatches_(\n        state,\n        path,\n        rootScope.patches_,\n        rootScope.inversePatches_\n      );\n    }\n  }\n  return state.copy_;\n}\nfunction finalizeProperty(rootScope, parentState, targetObject, prop, childValue, rootPath, targetIsSet) {\n  if (process.env.NODE_ENV !== \"production\" && childValue === targetObject)\n    die(5);\n  if (isDraft(childValue)) {\n    const path = rootPath && parentState && parentState.type_ !== 3 /* Set */ && // Set objects are atomic since they have no keys.\n    !has(parentState.assigned_, prop) ? rootPath.concat(prop) : void 0;\n    const res = finalize(rootScope, childValue, path);\n    set(targetObject, prop, res);\n    if (isDraft(res)) {\n      rootScope.canAutoFreeze_ = false;\n    } else\n      return;\n  } else if (targetIsSet) {\n    targetObject.add(childValue);\n  }\n  if (isDraftable(childValue) && !isFrozen(childValue)) {\n    if (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n      return;\n    }\n    finalize(rootScope, childValue);\n    if (!parentState || !parentState.scope_.parent_)\n      maybeFreeze(rootScope, childValue);\n  }\n}\nfunction maybeFreeze(scope, value, deep = false) {\n  if (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n    freeze(value, deep);\n  }\n}\n\n// src/core/proxy.ts\nfunction createProxyProxy(base, parent) {\n  const isArray = Array.isArray(base);\n  const state = {\n    type_: isArray ? 1 /* Array */ : 0 /* Object */,\n    // Track which produce call this is associated with.\n    scope_: parent ? parent.scope_ : getCurrentScope(),\n    // True for both shallow and deep changes.\n    modified_: false,\n    // Used during finalization.\n    finalized_: false,\n    // Track which properties have been assigned (true) or deleted (false).\n    assigned_: {},\n    // The parent draft state.\n    parent_: parent,\n    // The base state.\n    base_: base,\n    // The base proxy.\n    draft_: null,\n    // set below\n    // The base copy with any updated values.\n    copy_: null,\n    // Called by the `produce` function.\n    revoke_: null,\n    isManual_: false\n  };\n  let target = state;\n  let traps = objectTraps;\n  if (isArray) {\n    target = [state];\n    traps = arrayTraps;\n  }\n  const { revoke, proxy } = Proxy.revocable(target, traps);\n  state.draft_ = proxy;\n  state.revoke_ = revoke;\n  return proxy;\n}\nvar objectTraps = {\n  get(state, prop) {\n    if (prop === DRAFT_STATE)\n      return state;\n    const source = latest(state);\n    if (!has(source, prop)) {\n      return readPropFromProto(state, source, prop);\n    }\n    const value = source[prop];\n    if (state.finalized_ || !isDraftable(value)) {\n      return value;\n    }\n    if (value === peek(state.base_, prop)) {\n      prepareCopy(state);\n      return state.copy_[prop] = createProxy(value, state);\n    }\n    return value;\n  },\n  has(state, prop) {\n    return prop in latest(state);\n  },\n  ownKeys(state) {\n    return Reflect.ownKeys(latest(state));\n  },\n  set(state, prop, value) {\n    const desc = getDescriptorFromProto(latest(state), prop);\n    if (desc?.set) {\n      desc.set.call(state.draft_, value);\n      return true;\n    }\n    if (!state.modified_) {\n      const current2 = peek(latest(state), prop);\n      const currentState = current2?.[DRAFT_STATE];\n      if (currentState && currentState.base_ === value) {\n        state.copy_[prop] = value;\n        state.assigned_[prop] = false;\n        return true;\n      }\n      if (is(value, current2) && (value !== void 0 || has(state.base_, prop)))\n        return true;\n      prepareCopy(state);\n      markChanged(state);\n    }\n    if (state.copy_[prop] === value && // special case: handle new props with value 'undefined'\n    (value !== void 0 || prop in state.copy_) || // special case: NaN\n    Number.isNaN(value) && Number.isNaN(state.copy_[prop]))\n      return true;\n    state.copy_[prop] = value;\n    state.assigned_[prop] = true;\n    return true;\n  },\n  deleteProperty(state, prop) {\n    if (peek(state.base_, prop) !== void 0 || prop in state.base_) {\n      state.assigned_[prop] = false;\n      prepareCopy(state);\n      markChanged(state);\n    } else {\n      delete state.assigned_[prop];\n    }\n    if (state.copy_) {\n      delete state.copy_[prop];\n    }\n    return true;\n  },\n  // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n  // the same guarantee in ES5 mode.\n  getOwnPropertyDescriptor(state, prop) {\n    const owner = latest(state);\n    const desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n    if (!desc)\n      return desc;\n    return {\n      writable: true,\n      configurable: state.type_ !== 1 /* Array */ || prop !== \"length\",\n      enumerable: desc.enumerable,\n      value: owner[prop]\n    };\n  },\n  defineProperty() {\n    die(11);\n  },\n  getPrototypeOf(state) {\n    return getPrototypeOf(state.base_);\n  },\n  setPrototypeOf() {\n    die(12);\n  }\n};\nvar arrayTraps = {};\neach(objectTraps, (key, fn) => {\n  arrayTraps[key] = function() {\n    arguments[0] = arguments[0][0];\n    return fn.apply(this, arguments);\n  };\n});\narrayTraps.deleteProperty = function(state, prop) {\n  if (process.env.NODE_ENV !== \"production\" && isNaN(parseInt(prop)))\n    die(13);\n  return arrayTraps.set.call(this, state, prop, void 0);\n};\narrayTraps.set = function(state, prop, value) {\n  if (process.env.NODE_ENV !== \"production\" && prop !== \"length\" && isNaN(parseInt(prop)))\n    die(14);\n  return objectTraps.set.call(this, state[0], prop, value, state[0]);\n};\nfunction peek(draft, prop) {\n  const state = draft[DRAFT_STATE];\n  const source = state ? latest(state) : draft;\n  return source[prop];\n}\nfunction readPropFromProto(state, source, prop) {\n  const desc = getDescriptorFromProto(source, prop);\n  return desc ? `value` in desc ? desc.value : (\n    // This is a very special case, if the prop is a getter defined by the\n    // prototype, we should invoke it with the draft as context!\n    desc.get?.call(state.draft_)\n  ) : void 0;\n}\nfunction getDescriptorFromProto(source, prop) {\n  if (!(prop in source))\n    return void 0;\n  let proto = getPrototypeOf(source);\n  while (proto) {\n    const desc = Object.getOwnPropertyDescriptor(proto, prop);\n    if (desc)\n      return desc;\n    proto = getPrototypeOf(proto);\n  }\n  return void 0;\n}\nfunction markChanged(state) {\n  if (!state.modified_) {\n    state.modified_ = true;\n    if (state.parent_) {\n      markChanged(state.parent_);\n    }\n  }\n}\nfunction prepareCopy(state) {\n  if (!state.copy_) {\n    state.copy_ = shallowCopy(\n      state.base_,\n      state.scope_.immer_.useStrictShallowCopy_\n    );\n  }\n}\n\n// src/core/immerClass.ts\nvar Immer2 = class {\n  constructor(config) {\n    this.autoFreeze_ = true;\n    this.useStrictShallowCopy_ = false;\n    /**\n     * The `produce` function takes a value and a \"recipe function\" (whose\n     * return value often depends on the base state). The recipe function is\n     * free to mutate its first argument however it wants. All mutations are\n     * only ever applied to a __copy__ of the base state.\n     *\n     * Pass only a function to create a \"curried producer\" which relieves you\n     * from passing the recipe function every time.\n     *\n     * Only plain objects and arrays are made mutable. All other objects are\n     * considered uncopyable.\n     *\n     * Note: This function is __bound__ to its `Immer` instance.\n     *\n     * @param {any} base - the initial state\n     * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n     * @param {Function} patchListener - optional function that will be called with all the patches produced here\n     * @returns {any} a new state, or the initial state if nothing was modified\n     */\n    this.produce = (base, recipe, patchListener) => {\n      if (typeof base === \"function\" && typeof recipe !== \"function\") {\n        const defaultBase = recipe;\n        recipe = base;\n        const self = this;\n        return function curriedProduce(base2 = defaultBase, ...args) {\n          return self.produce(base2, (draft) => recipe.call(this, draft, ...args));\n        };\n      }\n      if (typeof recipe !== \"function\")\n        die(6);\n      if (patchListener !== void 0 && typeof patchListener !== \"function\")\n        die(7);\n      let result;\n      if (isDraftable(base)) {\n        const scope = enterScope(this);\n        const proxy = createProxy(base, void 0);\n        let hasError = true;\n        try {\n          result = recipe(proxy);\n          hasError = false;\n        } finally {\n          if (hasError)\n            revokeScope(scope);\n          else\n            leaveScope(scope);\n        }\n        usePatchesInScope(scope, patchListener);\n        return processResult(result, scope);\n      } else if (!base || typeof base !== \"object\") {\n        result = recipe(base);\n        if (result === void 0)\n          result = base;\n        if (result === NOTHING)\n          result = void 0;\n        if (this.autoFreeze_)\n          freeze(result, true);\n        if (patchListener) {\n          const p = [];\n          const ip = [];\n          getPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip);\n          patchListener(p, ip);\n        }\n        return result;\n      } else\n        die(1, base);\n    };\n    this.produceWithPatches = (base, recipe) => {\n      if (typeof base === \"function\") {\n        return (state, ...args) => this.produceWithPatches(state, (draft) => base(draft, ...args));\n      }\n      let patches, inversePatches;\n      const result = this.produce(base, recipe, (p, ip) => {\n        patches = p;\n        inversePatches = ip;\n      });\n      return [result, patches, inversePatches];\n    };\n    if (typeof config?.autoFreeze === \"boolean\")\n      this.setAutoFreeze(config.autoFreeze);\n    if (typeof config?.useStrictShallowCopy === \"boolean\")\n      this.setUseStrictShallowCopy(config.useStrictShallowCopy);\n  }\n  createDraft(base) {\n    if (!isDraftable(base))\n      die(8);\n    if (isDraft(base))\n      base = current(base);\n    const scope = enterScope(this);\n    const proxy = createProxy(base, void 0);\n    proxy[DRAFT_STATE].isManual_ = true;\n    leaveScope(scope);\n    return proxy;\n  }\n  finishDraft(draft, patchListener) {\n    const state = draft && draft[DRAFT_STATE];\n    if (!state || !state.isManual_)\n      die(9);\n    const { scope_: scope } = state;\n    usePatchesInScope(scope, patchListener);\n    return processResult(void 0, scope);\n  }\n  /**\n   * Pass true to automatically freeze all copies created by Immer.\n   *\n   * By default, auto-freezing is enabled.\n   */\n  setAutoFreeze(value) {\n    this.autoFreeze_ = value;\n  }\n  /**\n   * Pass true to enable strict shallow copy.\n   *\n   * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n   */\n  setUseStrictShallowCopy(value) {\n    this.useStrictShallowCopy_ = value;\n  }\n  applyPatches(base, patches) {\n    let i;\n    for (i = patches.length - 1; i >= 0; i--) {\n      const patch = patches[i];\n      if (patch.path.length === 0 && patch.op === \"replace\") {\n        base = patch.value;\n        break;\n      }\n    }\n    if (i > -1) {\n      patches = patches.slice(i + 1);\n    }\n    const applyPatchesImpl = getPlugin(\"Patches\").applyPatches_;\n    if (isDraft(base)) {\n      return applyPatchesImpl(base, patches);\n    }\n    return this.produce(\n      base,\n      (draft) => applyPatchesImpl(draft, patches)\n    );\n  }\n};\nfunction createProxy(value, parent) {\n  const draft = isMap(value) ? getPlugin(\"MapSet\").proxyMap_(value, parent) : isSet(value) ? getPlugin(\"MapSet\").proxySet_(value, parent) : createProxyProxy(value, parent);\n  const scope = parent ? parent.scope_ : getCurrentScope();\n  scope.drafts_.push(draft);\n  return draft;\n}\n\n// src/core/current.ts\nfunction current(value) {\n  if (!isDraft(value))\n    die(10, value);\n  return currentImpl(value);\n}\nfunction currentImpl(value) {\n  if (!isDraftable(value) || isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  let copy;\n  if (state) {\n    if (!state.modified_)\n      return state.base_;\n    state.finalized_ = true;\n    copy = shallowCopy(value, state.scope_.immer_.useStrictShallowCopy_);\n  } else {\n    copy = shallowCopy(value, true);\n  }\n  each(copy, (key, childValue) => {\n    set(copy, key, currentImpl(childValue));\n  });\n  if (state) {\n    state.finalized_ = false;\n  }\n  return copy;\n}\n\n// src/plugins/patches.ts\nfunction enablePatches() {\n  const errorOffset = 16;\n  if (process.env.NODE_ENV !== \"production\") {\n    errors.push(\n      'Sets cannot have \"replace\" patches.',\n      function(op) {\n        return \"Unsupported patch operation: \" + op;\n      },\n      function(path) {\n        return \"Cannot apply patch, path doesn't resolve: \" + path;\n      },\n      \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n    );\n  }\n  const REPLACE = \"replace\";\n  const ADD = \"add\";\n  const REMOVE = \"remove\";\n  function generatePatches_(state, basePath, patches, inversePatches) {\n    switch (state.type_) {\n      case 0 /* Object */:\n      case 2 /* Map */:\n        return generatePatchesFromAssigned(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n      case 1 /* Array */:\n        return generateArrayPatches(state, basePath, patches, inversePatches);\n      case 3 /* Set */:\n        return generateSetPatches(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n    }\n  }\n  function generateArrayPatches(state, basePath, patches, inversePatches) {\n    let { base_, assigned_ } = state;\n    let copy_ = state.copy_;\n    if (copy_.length < base_.length) {\n      ;\n      [base_, copy_] = [copy_, base_];\n      [patches, inversePatches] = [inversePatches, patches];\n    }\n    for (let i = 0; i < base_.length; i++) {\n      if (assigned_[i] && copy_[i] !== base_[i]) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REPLACE,\n          path,\n          // Need to maybe clone it, as it can in fact be the original value\n          // due to the base/copy inversion at the start of this function\n          value: clonePatchValueIfNeeded(copy_[i])\n        });\n        inversePatches.push({\n          op: REPLACE,\n          path,\n          value: clonePatchValueIfNeeded(base_[i])\n        });\n      }\n    }\n    for (let i = base_.length; i < copy_.length; i++) {\n      const path = basePath.concat([i]);\n      patches.push({\n        op: ADD,\n        path,\n        // Need to maybe clone it, as it can in fact be the original value\n        // due to the base/copy inversion at the start of this function\n        value: clonePatchValueIfNeeded(copy_[i])\n      });\n    }\n    for (let i = copy_.length - 1; base_.length <= i; --i) {\n      const path = basePath.concat([i]);\n      inversePatches.push({\n        op: REMOVE,\n        path\n      });\n    }\n  }\n  function generatePatchesFromAssigned(state, basePath, patches, inversePatches) {\n    const { base_, copy_ } = state;\n    each(state.assigned_, (key, assignedValue) => {\n      const origValue = get(base_, key);\n      const value = get(copy_, key);\n      const op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD;\n      if (origValue === value && op === REPLACE)\n        return;\n      const path = basePath.concat(key);\n      patches.push(op === REMOVE ? { op, path } : { op, path, value });\n      inversePatches.push(\n        op === ADD ? { op: REMOVE, path } : op === REMOVE ? { op: ADD, path, value: clonePatchValueIfNeeded(origValue) } : { op: REPLACE, path, value: clonePatchValueIfNeeded(origValue) }\n      );\n    });\n  }\n  function generateSetPatches(state, basePath, patches, inversePatches) {\n    let { base_, copy_ } = state;\n    let i = 0;\n    base_.forEach((value) => {\n      if (!copy_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REMOVE,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: ADD,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n    i = 0;\n    copy_.forEach((value) => {\n      if (!base_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: ADD,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: REMOVE,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n  }\n  function generateReplacementPatches_(baseValue, replacement, patches, inversePatches) {\n    patches.push({\n      op: REPLACE,\n      path: [],\n      value: replacement === NOTHING ? void 0 : replacement\n    });\n    inversePatches.push({\n      op: REPLACE,\n      path: [],\n      value: baseValue\n    });\n  }\n  function applyPatches_(draft, patches) {\n    patches.forEach((patch) => {\n      const { path, op } = patch;\n      let base = draft;\n      for (let i = 0; i < path.length - 1; i++) {\n        const parentType = getArchtype(base);\n        let p = path[i];\n        if (typeof p !== \"string\" && typeof p !== \"number\") {\n          p = \"\" + p;\n        }\n        if ((parentType === 0 /* Object */ || parentType === 1 /* Array */) && (p === \"__proto__\" || p === \"constructor\"))\n          die(errorOffset + 3);\n        if (typeof base === \"function\" && p === \"prototype\")\n          die(errorOffset + 3);\n        base = get(base, p);\n        if (typeof base !== \"object\")\n          die(errorOffset + 2, path.join(\"/\"));\n      }\n      const type = getArchtype(base);\n      const value = deepClonePatchValue(patch.value);\n      const key = path[path.length - 1];\n      switch (op) {\n        case REPLACE:\n          switch (type) {\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              die(errorOffset);\n            default:\n              return base[key] = value;\n          }\n        case ADD:\n          switch (type) {\n            case 1 /* Array */:\n              return key === \"-\" ? base.push(value) : base.splice(key, 0, value);\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              return base.add(value);\n            default:\n              return base[key] = value;\n          }\n        case REMOVE:\n          switch (type) {\n            case 1 /* Array */:\n              return base.splice(key, 1);\n            case 2 /* Map */:\n              return base.delete(key);\n            case 3 /* Set */:\n              return base.delete(patch.value);\n            default:\n              return delete base[key];\n          }\n        default:\n          die(errorOffset + 1, op);\n      }\n    });\n    return draft;\n  }\n  function deepClonePatchValue(obj) {\n    if (!isDraftable(obj))\n      return obj;\n    if (Array.isArray(obj))\n      return obj.map(deepClonePatchValue);\n    if (isMap(obj))\n      return new Map(\n        Array.from(obj.entries()).map(([k, v]) => [k, deepClonePatchValue(v)])\n      );\n    if (isSet(obj))\n      return new Set(Array.from(obj).map(deepClonePatchValue));\n    const cloned = Object.create(getPrototypeOf(obj));\n    for (const key in obj)\n      cloned[key] = deepClonePatchValue(obj[key]);\n    if (has(obj, DRAFTABLE))\n      cloned[DRAFTABLE] = obj[DRAFTABLE];\n    return cloned;\n  }\n  function clonePatchValueIfNeeded(obj) {\n    if (isDraft(obj)) {\n      return deepClonePatchValue(obj);\n    } else\n      return obj;\n  }\n  loadPlugin(\"Patches\", {\n    applyPatches_,\n    generatePatches_,\n    generateReplacementPatches_\n  });\n}\n\n// src/plugins/mapset.ts\nfunction enableMapSet() {\n  class DraftMap extends Map {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 2 /* Map */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        assigned_: void 0,\n        base_: target,\n        draft_: this,\n        isManual_: false,\n        revoked_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(key) {\n      return latest(this[DRAFT_STATE]).has(key);\n    }\n    set(key, value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!latest(state).has(key) || latest(state).get(key) !== value) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_.set(key, true);\n        state.copy_.set(key, value);\n        state.assigned_.set(key, true);\n      }\n      return this;\n    }\n    delete(key) {\n      if (!this.has(key)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareMapCopy(state);\n      markChanged(state);\n      if (state.base_.has(key)) {\n        state.assigned_.set(key, false);\n      } else {\n        state.assigned_.delete(key);\n      }\n      state.copy_.delete(key);\n      return true;\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_ = /* @__PURE__ */ new Map();\n        each(state.base_, (key) => {\n          state.assigned_.set(key, false);\n        });\n        state.copy_.clear();\n      }\n    }\n    forEach(cb, thisArg) {\n      const state = this[DRAFT_STATE];\n      latest(state).forEach((_value, key, _map) => {\n        cb.call(thisArg, this.get(key), key, this);\n      });\n    }\n    get(key) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      const value = latest(state).get(key);\n      if (state.finalized_ || !isDraftable(value)) {\n        return value;\n      }\n      if (value !== state.base_.get(key)) {\n        return value;\n      }\n      const draft = createProxy(value, state);\n      prepareMapCopy(state);\n      state.copy_.set(key, draft);\n      return draft;\n    }\n    keys() {\n      return latest(this[DRAFT_STATE]).keys();\n    }\n    values() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.values(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value\n          };\n        }\n      };\n    }\n    entries() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.entries(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value: [r.value, value]\n          };\n        }\n      };\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.entries();\n    }\n  }\n  function proxyMap_(target, parent) {\n    return new DraftMap(target, parent);\n  }\n  function prepareMapCopy(state) {\n    if (!state.copy_) {\n      state.assigned_ = /* @__PURE__ */ new Map();\n      state.copy_ = new Map(state.base_);\n    }\n  }\n  class DraftSet extends Set {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 3 /* Set */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        base_: target,\n        draft_: this,\n        drafts_: /* @__PURE__ */ new Map(),\n        revoked_: false,\n        isManual_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!state.copy_) {\n        return state.base_.has(value);\n      }\n      if (state.copy_.has(value))\n        return true;\n      if (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value)))\n        return true;\n      return false;\n    }\n    add(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!this.has(value)) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.add(value);\n      }\n      return this;\n    }\n    delete(value) {\n      if (!this.has(value)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      markChanged(state);\n      return state.copy_.delete(value) || (state.drafts_.has(value) ? state.copy_.delete(state.drafts_.get(value)) : (\n        /* istanbul ignore next */\n        false\n      ));\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.clear();\n      }\n    }\n    values() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.values();\n    }\n    entries() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.entries();\n    }\n    keys() {\n      return this.values();\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.values();\n    }\n    forEach(cb, thisArg) {\n      const iterator = this.values();\n      let result = iterator.next();\n      while (!result.done) {\n        cb.call(thisArg, result.value, result.value, this);\n        result = iterator.next();\n      }\n    }\n  }\n  function proxySet_(target, parent) {\n    return new DraftSet(target, parent);\n  }\n  function prepareSetCopy(state) {\n    if (!state.copy_) {\n      state.copy_ = /* @__PURE__ */ new Set();\n      state.base_.forEach((value) => {\n        if (isDraftable(value)) {\n          const draft = createProxy(value, state);\n          state.drafts_.set(value, draft);\n          state.copy_.add(draft);\n        } else {\n          state.copy_.add(value);\n        }\n      });\n    }\n  }\n  function assertUnrevoked(state) {\n    if (state.revoked_)\n      die(3, JSON.stringify(latest(state)));\n  }\n  loadPlugin(\"MapSet\", { proxyMap_, proxySet_ });\n}\n\n// src/immer.ts\nvar immer = new Immer2();\nvar produce = immer.produce;\nvar produceWithPatches = immer.produceWithPatches.bind(\n  immer\n);\nvar setAutoFreeze = immer.setAutoFreeze.bind(immer);\nvar setUseStrictShallowCopy = immer.setUseStrictShallowCopy.bind(immer);\nvar applyPatches = immer.applyPatches.bind(immer);\nvar createDraft = immer.createDraft.bind(immer);\nvar finishDraft = immer.finishDraft.bind(immer);\nfunction castDraft(value) {\n  return value;\n}\nfunction castImmutable(value) {\n  return value;\n}\nexport {\n  Immer2 as Immer,\n  applyPatches,\n  castDraft,\n  castImmutable,\n  createDraft,\n  current,\n  enableMapSet,\n  enablePatches,\n  finishDraft,\n  freeze,\n  DRAFTABLE as immerable,\n  isDraft,\n  isDraftable,\n  NOTHING as nothing,\n  original,\n  produce,\n  produceWithPatches,\n  setAutoFreeze,\n  setUseStrictShallowCopy\n};\n"],"names":["ReturnDevicesFacade","ReturnDevicesNgrxModule","ReturnStatusEnum","PdfService","FormatAddressPipe","EffectsModule","StoreModule","ReturnDevicesEffects","returnDevicesFeature","_","_2","_3","forFeature","imports","i1","EffectsFeatureModule","i2","StoreFeatureModule","createAction","emptyProps","props","getReturnLabel","getReturnLabelSuccess","getReturnLabelFailure","toggleDevice","getReturnDevicesAndAddressLineDetails","getReturnDevicesAndAddressLineDetailsSuccess","getReturnDevicesAndAddressLineDetailsFailure","selectedAddress","inject","Actions","createEffect","ofType","catchError","map","mergeMap","combineLatest","of","ReturnDevicesService","constructor","actions$","returnDevicesService","returnLabel$","pipe","request","addressId","returnLabel","error","returnDevicesAndAddressLineDetails$","getAddressSelector","getReturnDevices","result","addressLines","devices","factory","ɵfac","providedIn","createFeature","createReducer","on","produce","defaultReturnDevicesState","reducer","state","action","label","draft","selectedDevicesList","forEach","device","isToggled","deviceToToggle","find","serialNumber","deviceDetailsLoaded","selectedAddressLine","getSortedReturnDevices","filterReturnDevices","selectedReturnDevicesAddressLine","deviceList","filter","id","slice","sort","device1","device2","date1","returnDueDate","Date","parse","Infinity","date2","returnDevicesReducer","name","createFeatureSelector","createSelector","returnDevicesFeatureState","selectReturnDevices","selectReturnLabel","selectReturnDevicesFailure","selectReturnDeviceAddressLines","selectDeviceDetailsLoaded","undefined","Store","store","pdfService","returnDevices$","select","returnDevicesFailure$","returnLabelByteArray$","returnLabelByte","convertToByteArray","returnDevicesAddressLines$","selectedAddressLine$","selectedDevicesList$","selectDeviceDetailsLoaded$","loadReturnLabel","dispatch","Uint8Array","convertBase64ToByteArray","ReturnDevicesAddressSelectorMapper","toModel","rawAddressSelector","country","countryCode","city","postalCode","street","houseNumber","ReturnDevicesMapper","rawDevices","raw","type","typeImageName","mapTypeImageName","locationId","parentId","lateFee","status","returnStatus","mapReturnStatus","TO_BE_EXPECTED","currentDate","dueDateTime","timeDifference","getTime","daysDifference","Math","ceil","EXPIRED","URGENT","ReturnLabelMapper","rawLabel","transform","address","pure","standalone","base64","createByteArray","convertByteArrayToBlob","byteArray","Blob","bytes","atob","byteNumbers","Array","length","i","charCodeAt","OcapiCallConfig","OcapiService","messageGroup","endpoint","ocapiService","returnDevicesMapper","returnLabelMapper","returnDevicesAddressSelectorMapper","doGet","doPost","NOTHING","Symbol","for","DRAFTABLE","DRAFT_STATE","errors","process","env","NODE_ENV","plugin","thing","data","die","args","e","msg","apply","Error","getPrototypeOf","Object","isDraft","value","isDraftable","isPlainObject","isArray","isMap","isSet","objectCtorString","prototype","toString","proto","Ctor","hasOwnProperty","call","Function","original","base_","each","obj","iter","getArchtype","entries","key","entry","index","type_","has","prop","get","set","propOrOldValue","t","add","is","x","y","target","Map","Set","latest","copy_","shallowCopy","base","strict","create","assign","descriptors","getOwnPropertyDescriptors","keys","Reflect","ownKeys","desc","writable","configurable","enumerable","freeze","deep","isFrozen","clear","delete","dontMutateFrozenCollections","_key","plugins","getPlugin","pluginKey","loadPlugin","implementation","currentScope","getCurrentScope","createScope","parent_","immer_","drafts_","canAutoFreeze_","unfinalizedDrafts_","usePatchesInScope","scope","patchListener","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","revokeDraft","enterScope","immer2","revoke_","revoked_","processResult","baseDraft","isReplaced","modified_","finalize","maybeFreeze","generateReplacementPatches_","rootScope","path","childValue","finalizeProperty","scope_","finalized_","resultEach","isSet2","generatePatches_","parentState","targetObject","rootPath","targetIsSet","assigned_","concat","res","autoFreeze_","createProxyProxy","parent","draft_","isManual_","traps","objectTraps","arrayTraps","revoke","proxy","Proxy","revocable","source","readPropFromProto","peek","prepareCopy","createProxy","getDescriptorFromProto","current2","currentState","markChanged","Number","isNaN","deleteProperty","getOwnPropertyDescriptor","owner","defineProperty","setPrototypeOf","fn","arguments","parseInt","useStrictShallowCopy_","Immer2","config","recipe","defaultBase","self","curriedProduce","base2","hasError","p","ip","produceWithPatches","patches","inversePatches","autoFreeze","setAutoFreeze","useStrictShallowCopy","setUseStrictShallowCopy","createDraft","current","finishDraft","applyPatches","patch","op","applyPatchesImpl","applyPatches_","proxyMap_","proxySet_","push","currentImpl","copy","enablePatches","errorOffset","REPLACE","ADD","REMOVE","basePath","generatePatchesFromAssigned","generateArrayPatches","generateSetPatches","clonePatchValueIfNeeded","assignedValue","origValue","unshift","baseValue","replacement","parentType","join","deepClonePatchValue","splice","from","k","v","cloned","enableMapSet","DraftMap","size","assertUnrevoked","prepareMapCopy","cb","thisArg","_value","_map","values","iterator","next","r","done","DraftSet","prepareSetCopy","JSON","stringify","immer","bind","castDraft","castImmutable","Immer","immerable","nothing"],"sourceRoot":"webpack:///","x_google_ignoreList":[15]}