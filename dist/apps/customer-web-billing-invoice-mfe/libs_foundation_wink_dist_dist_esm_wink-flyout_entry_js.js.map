{"version":3,"file":"libs_foundation_wink_dist_dist_esm_wink-flyout_entry_js.js","mappings":"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","sources":["./libs/foundation/wink/dist/dist/core/src/assets/shared/scripts/media-query-detector.ts","./libs/foundation/wink/dist/dist/core/src/components/global-header/_sub-comps/flyout/styles/brands/flyout.base.scss","./libs/foundation/wink/dist/dist/core/src/components/global-header/_sub-comps/flyout/styles/brands/flyout.telenet.scss","./libs/foundation/wink/dist/dist/core/src/components/global-header/_sub-comps/flyout/flyout.tsx"],"sourcesContent":["export const BREAKPOINTS = {\n  SM: 576,\n  MD: 769,\n  LG: 1192,\n} as const;\ntype Breakpoint = keyof typeof BREAKPOINTS;\n\nexport const HEADER_BREAKPOINTS = {\n  MD: 1024,\n} as const;\ntype HeaderBreakpoint = keyof typeof HEADER_BREAKPOINTS;\n\nexport const BREAKPOINT_TYPES = {\n  DEFAULT: BREAKPOINTS,\n  HEADER: HEADER_BREAKPOINTS,\n} as const;\ntype BreakpointType = keyof typeof BREAKPOINT_TYPES;\n\nexport class MediaQueryDetector {\n  private static mediaQueryMatch(\n    size: Breakpoint | HeaderBreakpoint,\n    minOrMax: 'min' | 'max',\n    breakpointType: BreakpointType = 'DEFAULT'\n  ): boolean {\n    const breakpoints = BREAKPOINT_TYPES[breakpointType];\n    const pixels = minOrMax === 'min' ? breakpoints[size] : breakpoints[size] - 1;\n    return window.matchMedia(`(${minOrMax}-width: ${pixels}px)`).matches;\n  }\n\n  static get isFromSm(): boolean {\n    return MediaQueryDetector.mediaQueryMatch('SM', 'min');\n  }\n\n  static get isFromMd(): boolean {\n    return MediaQueryDetector.mediaQueryMatch('MD', 'min');\n  }\n\n  static get isFromLg(): boolean {\n    return MediaQueryDetector.mediaQueryMatch('LG', 'min');\n  }\n\n  static get isUntilSm(): boolean {\n    return MediaQueryDetector.mediaQueryMatch('SM', 'max');\n  }\n\n  static get isUntilMd(): boolean {\n    return MediaQueryDetector.mediaQueryMatch('MD', 'max');\n  }\n\n  static get isUntilLg(): boolean {\n    return MediaQueryDetector.mediaQueryMatch('LG', 'max');\n  }\n\n  static get isFromMdHeader(): boolean {\n    return MediaQueryDetector.mediaQueryMatch('MD', 'min', 'HEADER');\n  }\n\n  static get isUntilMdHeader(): boolean {\n    return MediaQueryDetector.mediaQueryMatch('MD', 'max', 'HEADER');\n  }\n}\n","@import '../vars/vars.base';\n@import '../flyout.default';\n","@import '../vars/vars.telenet';\n@import '../flyout.default';\n","import {\n  Component,\n  ComponentInterface,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Prop,\n  State,\n} from '@stencil/core';\nimport { MediaQueryDetector } from '../../../../assets/shared/scripts/media-query-detector';\nimport { mainNavEventEmitterDetails } from '../main-navigation/models/main-navigation.types';\n\n@Component({\n  tag: 'wink-flyout',\n  styleUrls: {\n    telenet: 'styles/brands/flyout.telenet.scss',\n    base: 'styles/brands/flyout.base.scss',\n  },\n  shadow: true,\n})\nexport class Flyout implements ComponentInterface {\n  @Element() host!: HTMLWinkFlyoutElement;\n\n  @Prop() flyoutId: number | undefined = undefined;\n\n  @State() activeId: number | undefined = undefined;\n  @State() backLabel: string | undefined = undefined;\n  @State() isFlyoutOpen = false;\n  @State() focusableElements: any[] = [];\n  @State() focusedElementTracker = 0;\n\n  @Event() flyoutBackLinkClicked: EventEmitter<{ eventType: 'mouse' | 'keyboard' }> | undefined;\n\n  @Listen('mainNavigationItemClicked', { target: 'document' })\n  handleMainNavigationItemClicked(event: CustomEvent<mainNavEventEmitterDetails>) {\n    this.activeId = event.detail.index;\n    this.backLabel = event.detail.name;\n    this.isFlyoutOpen = this.flyoutId === this.activeId;\n\n    if (event.detail.eventType === 'mouse') {\n      return;\n    }\n\n    if (this.shouldFetchFocusableElements()) {\n      this.getAllFocusableElements();\n    } else {\n      this.resetFocusableElements();\n    }\n\n    this.focusOnElement();\n  }\n\n  private shouldFetchFocusableElements() {\n    return (\n      !this.focusableElements.length &&\n      MediaQueryDetector.isFromMdHeader &&\n      this.isFlyoutOpen &&\n      !this.host.getAttribute('slot')?.includes('mobile')\n    );\n  }\n\n  private resetFocusableElements() {\n    this.focusableElements = [];\n    this.focusedElementTracker = 0;\n  }\n\n  private focusOnElement() {\n    if (this.focusableElements.length) {\n      this.focusableElements[this.focusedElementTracker].focus();\n    }\n  }\n\n  private getAllFocusableElements() {\n    const focusableQuery = 'a, button, [tabindex]:not([tabindex=\"-1\"])';\n\n    this.host.querySelectorAll('wink-navigation-list')?.forEach((list: any) => {\n      list.shadowRoot.querySelectorAll('wink-navigation-list-item').forEach((item: any) => {\n        this.focusableElements.push(item.shadowRoot.querySelector(focusableQuery));\n      });\n    });\n  }\n\n  @Listen('keydown', {})\n  handleKeyDown(e: KeyboardEvent) {\n    const { code, shiftKey } = e;\n    const { length } = this.focusableElements;\n\n    if (code === 'Escape') {\n      this.closeFlyout();\n      this.resetFlyout();\n    }\n\n    if (code === 'ArrowDown' || code === 'ArrowUp' || code === 'Tab') {\n      e.preventDefault();\n      this.focusedElementTracker += code === 'ArrowDown' || (code === 'Tab' && !shiftKey) ? 1 : -1;\n      this.focusedElementTracker = (this.focusedElementTracker + length) % length;\n      (this.focusableElements[this.focusedElementTracker] as HTMLElement).focus();\n    }\n  }\n\n  private resetFlyout() {\n    this.activeId = undefined;\n    this.isFlyoutOpen = false;\n    this.focusableElements = [];\n    this.focusedElementTracker = 0;\n  }\n\n  private closeFlyout() {\n    this.resetFlyout();\n    this.flyoutBackLinkClicked?.emit({ eventType: 'keyboard' });\n  }\n\n  private handleFlyoutMouseLeave() {\n    if (MediaQueryDetector.isUntilMdHeader) {\n      return;\n    }\n\n    this.resetFlyout();\n    this.flyoutBackLinkClicked?.emit({ eventType: 'mouse' });\n  }\n\n  render() {\n    return (\n      <Host\n        id={`flyout-${this.flyoutId}`}\n        tabindex=\"-1\"\n        aria-label={this.flyoutId === this.activeId ? this.backLabel : ' '}\n        onMouseLeave={this.handleFlyoutMouseLeave.bind(this)}\n        {...{ open: this.isFlyoutOpen }}>\n        <div class=\"container\">\n          <div class=\"content\">\n            <wink-link\n              onClick={this.closeFlyout.bind(this)}\n              appearance=\"menu-back\"\n              icon=\"arrow-left\"\n              size=\"caption-bold\"\n              icon-position=\"left\"\n              icon-appearance=\"default\"\n              is-disabled=\"false\"\n              href=\"#\">\n              <wink-icon\n                slot=\"link-icon\"\n                appearance=\"default\"\n                icon=\"arrow-left\"\n                size=\"md\"\n                exportparts=\"icon, icon-arrow-left\"\n              />\n              {this.backLabel}\n            </wink-link>\n\n            {Array.from({ length: 4 }).map((_, index) => (\n              <slot name={`col-${index + 1}`} />\n            ))}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"names":["BREAKPOINTS","SM","MD","LG","HEADER_BREAKPOINTS","BREAKPOINT_TYPES","DEFAULT","HEADER","MediaQueryDetector","mediaQueryMatch","size","minOrMax","breakpointType","breakpoints","pixels","window","matchMedia","matches","isFromSm","isFromMd","isFromLg","isUntilSm","isUntilMd","isUntilLg","isFromMdHeader","isUntilMdHeader","flyoutBaseCss","WinkFlyoutBaseStyle0","flyoutTelenetCss","WinkFlyoutTelenetStyle0","Flyout","undefined","flyoutBackLinkClicked","handleMainNavigationItemClicked","event","activeId","detail","index","backLabel","name","isFlyoutOpen","flyoutId","eventType","shouldFetchFocusableElements","getAllFocusableElements","resetFocusableElements","focusOnElement","focusableElements","length","host","getAttribute","includes","focusedElementTracker","focus","focusableQuery","querySelectorAll","forEach","list","shadowRoot","item","push","querySelector","handleKeyDown","e","code","shiftKey","closeFlyout","resetFlyout","preventDefault","emit","handleFlyoutMouseLeave","render","h","Host","key","id","tabindex","onMouseLeave","bind","open","class","onClick","appearance","icon","href","slot","exportparts","Array","from","map","_"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}