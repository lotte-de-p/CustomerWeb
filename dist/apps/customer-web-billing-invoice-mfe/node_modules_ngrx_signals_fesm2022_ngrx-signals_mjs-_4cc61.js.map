{"version":3,"file":"node_modules_ngrx_signals_fesm2022_ngrx-signals_mjs-_4cc61.js","mappings":"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","sources":["./node_modules/@ngrx/signals/fesm2022/ngrx-signals.mjs"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { untracked, isSignal, computed, signal, DestroyRef, inject, Injectable } from '@angular/core';\n\nconst STATE_SIGNAL = Symbol('STATE_SIGNAL');\n\nfunction getState(stateSignal) {\n    return stateSignal[STATE_SIGNAL]();\n}\n\nfunction patchState(stateSignal, ...updaters) {\n    stateSignal[STATE_SIGNAL].update((currentState) => updaters.reduce((nextState, updater) => ({\n        ...nextState,\n        ...(typeof updater === 'function' ? updater(nextState) : updater),\n    }), currentState));\n}\n\nfunction toDeepSignal(signal) {\n    const value = untracked(() => signal());\n    if (!isRecord(value)) {\n        return signal;\n    }\n    return new Proxy(signal, {\n        get(target, prop) {\n            if (!(prop in value)) {\n                return target[prop];\n            }\n            if (!isSignal(target[prop])) {\n                Object.defineProperty(target, prop, {\n                    value: computed(() => target()[prop]),\n                    configurable: true,\n                });\n            }\n            return toDeepSignal(target[prop]);\n        },\n    });\n}\nfunction isRecord(value) {\n    return value?.constructor === Object;\n}\n\nfunction signalState(initialState) {\n    const stateSignal = signal(initialState);\n    const deepSignal = toDeepSignal(stateSignal.asReadonly());\n    Object.defineProperty(deepSignal, STATE_SIGNAL, {\n        value: stateSignal,\n    });\n    return deepSignal;\n}\n\nfunction signalStore(...args) {\n    const signalStoreArgs = [...args];\n    const config = 'providedIn' in signalStoreArgs[0]\n        ? signalStoreArgs.shift()\n        : {};\n    const features = signalStoreArgs;\n    class SignalStore {\n        constructor() {\n            const innerStore = features.reduce((store, feature) => feature(store), getInitialInnerStore());\n            const { slices, signals, methods, hooks } = innerStore;\n            const props = { ...slices, ...signals, ...methods };\n            this[STATE_SIGNAL] = innerStore[STATE_SIGNAL];\n            for (const key in props) {\n                this[key] = props[key];\n            }\n            const { onInit, onDestroy } = hooks;\n            if (onInit) {\n                onInit();\n            }\n            if (onDestroy) {\n                inject(DestroyRef).onDestroy(onDestroy);\n            }\n        }\n        /** @nocollapse */ static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.0.0\", ngImport: i0, type: SignalStore, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n        /** @nocollapse */ static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"17.0.0\", ngImport: i0, type: SignalStore, providedIn: config.providedIn || null });\n    }\n    i0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.0.0\", ngImport: i0, type: SignalStore, decorators: [{\n                type: Injectable,\n                args: [{ providedIn: config.providedIn || null }]\n            }], ctorParameters: () => [] });\n    return SignalStore;\n}\nfunction getInitialInnerStore() {\n    return {\n        [STATE_SIGNAL]: signal({}),\n        slices: {},\n        signals: {},\n        methods: {},\n        hooks: {},\n    };\n}\n\nfunction signalStoreFeature(featureOrInput, ...restFeatures) {\n    const features = typeof featureOrInput === 'function'\n        ? [featureOrInput, ...restFeatures]\n        : restFeatures;\n    return (inputStore) => features.reduce((store, feature) => feature(store), inputStore);\n}\nfunction type() {\n    return undefined;\n}\n\nfunction excludeKeys(obj, keys) {\n    return Object.keys(obj).reduce((acc, key) => (keys.includes(key) ? acc : { ...acc, [key]: obj[key] }), {});\n}\n\nfunction withComputed(signalsFactory) {\n    return (store) => {\n        const signals = signalsFactory({ ...store.slices, ...store.signals });\n        const signalsKeys = Object.keys(signals);\n        const slices = excludeKeys(store.slices, signalsKeys);\n        const methods = excludeKeys(store.methods, signalsKeys);\n        return {\n            ...store,\n            slices,\n            signals: { ...store.signals, ...signals },\n            methods,\n        };\n    };\n}\n\nfunction withHooks(hooksOrFactory) {\n    return (store) => {\n        const storeProps = {\n            [STATE_SIGNAL]: store[STATE_SIGNAL],\n            ...store.slices,\n            ...store.signals,\n            ...store.methods,\n        };\n        const hooks = typeof hooksOrFactory === 'function'\n            ? hooksOrFactory(storeProps)\n            : hooksOrFactory;\n        const createHook = (name) => {\n            const hook = hooks[name];\n            const currentHook = store.hooks[name];\n            return hook\n                ? () => {\n                    if (currentHook) {\n                        currentHook();\n                    }\n                    hook(storeProps);\n                }\n                : currentHook;\n        };\n        return {\n            ...store,\n            hooks: {\n                onInit: createHook('onInit'),\n                onDestroy: createHook('onDestroy'),\n            },\n        };\n    };\n}\n\nfunction withMethods(methodsFactory) {\n    return (store) => {\n        const methods = methodsFactory({\n            [STATE_SIGNAL]: store[STATE_SIGNAL],\n            ...store.slices,\n            ...store.signals,\n            ...store.methods,\n        });\n        const methodsKeys = Object.keys(methods);\n        const slices = excludeKeys(store.slices, methodsKeys);\n        const signals = excludeKeys(store.signals, methodsKeys);\n        return {\n            ...store,\n            slices,\n            signals,\n            methods: { ...store.methods, ...methods },\n        };\n    };\n}\n\nfunction withState(stateOrFactory) {\n    return (store) => {\n        const state = typeof stateOrFactory === 'function' ? stateOrFactory() : stateOrFactory;\n        const stateKeys = Object.keys(state);\n        store[STATE_SIGNAL].update((currentState) => ({\n            ...currentState,\n            ...state,\n        }));\n        const slices = stateKeys.reduce((acc, key) => {\n            const slice = computed(() => store[STATE_SIGNAL]()[key]);\n            return { ...acc, [key]: toDeepSignal(slice) };\n        }, {});\n        const signals = excludeKeys(store.signals, stateKeys);\n        const methods = excludeKeys(store.methods, stateKeys);\n        return {\n            ...store,\n            slices: { ...store.slices, ...slices },\n            signals,\n            methods,\n        };\n    };\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { getState, patchState, signalState, signalStore, signalStoreFeature, type, withComputed, withHooks, withMethods, withState };\n"],"names":["i0","untracked","isSignal","computed","signal","DestroyRef","inject","Injectable","STATE_SIGNAL","Symbol","getState","stateSignal","patchState","updaters","update","currentState","reduce","nextState","updater","toDeepSignal","value","isRecord","Proxy","get","target","prop","Object","defineProperty","configurable","constructor","signalState","initialState","deepSignal","asReadonly","signalStore","args","signalStoreArgs","config","shift","features","SignalStore","innerStore","store","feature","getInitialInnerStore","slices","signals","methods","hooks","props","key","onInit","onDestroy","ɵfac","SignalStore_Factory","t","ɵprov","ɵɵdefineInjectable","token","factory","providedIn","ngDevMode","ɵsetClassMetadata","type","signalStoreFeature","featureOrInput","restFeatures","inputStore","undefined","excludeKeys","obj","keys","acc","includes","withComputed","signalsFactory","signalsKeys","withHooks","hooksOrFactory","storeProps","createHook","name","hook","currentHook","withMethods","methodsFactory","methodsKeys","withState","stateOrFactory","state","stateKeys","slice"],"sourceRoot":"webpack:///","x_google_ignoreList":[0]}