{"version":3,"file":"libs_foundation_wink_dist_dist_esm_wink-dropdown-menu_entry_js.js","mappings":"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","sources":["./libs/foundation/wink/dist/dist/core/src/components/icon/models/icon.types.tsx","./libs/foundation/wink/dist/dist/core/src/models/sizes.types.tsx","./libs/foundation/wink/dist/dist/core/src/components/dropdown-menu/models/dropdown-menu.types.tsx","./libs/foundation/wink/dist/dist/core/src/components/dropdown-menu/styles/brands/dropdown-menu.base.scss","./libs/foundation/wink/dist/dist/core/src/components/dropdown-menu/styles/brands/dropdown-menu.telenet.scss","./libs/foundation/wink/dist/dist/core/src/components/dropdown-menu/dropdown-menu.tsx"],"sourcesContent":["import { SIZES } from '../../../models/sizes.types';\n\nexport const ICON_TYPES_BASIS = {\n  default: 'default',\n  primary: 'primary',\n  secondary: 'secondary',\n} as const;\nexport type IconTypeBasis = (typeof ICON_TYPES_BASIS)[keyof typeof ICON_TYPES_BASIS];\n\nexport const ICON_TYPES = {\n  ...ICON_TYPES_BASIS,\n  transparent: 'transparent',\n} as const;\nexport type IconType = (typeof ICON_TYPES)[keyof typeof ICON_TYPES];\n\nexport const ICON_SIZES = {\n  sm: SIZES.sm,\n  md: SIZES.md,\n  lg: SIZES.lg,\n  xl: SIZES.xl,\n} as const;\nexport type IconSize = (typeof ICON_SIZES)[keyof typeof ICON_SIZES];\n","export const SIZES = {\n  sm: 'sm',\n  md: 'md',\n  lg: 'lg',\n  xl: 'xl',\n  '3xs': '3xs',\n  '2xs': '2xs',\n  xs: 'xs',\n  s: 's',\n  m: 'm',\n  l: 'l',\n  none: 'none',\n  full: 'full',\n};\nexport type Size = (typeof SIZES)[keyof typeof SIZES];\n\nexport const WIDTHS = {};\nexport type Width = (typeof WIDTHS)[keyof typeof WIDTHS];\n","export const DROPDOWN_ALIGN = {\n  topLeft: 'top-left',\n  topRight: 'top-right',\n  bottomLeft: 'bottom-left',\n  bottomRight: 'bottom-right',\n} as const;\nexport type DropdownAlign = (typeof DROPDOWN_ALIGN)[keyof typeof DROPDOWN_ALIGN];\n","@import '../vars/vars.base';\n@import '../dropdown-menu.default';\n","@import '../vars/vars.telenet';\n@import '../dropdown-menu.default';\n","import { Component, Element, h, Host, Listen, Prop, State } from '@stencil/core';\nimport { DROPDOWN_ALIGN, DropdownAlign } from './models/dropdown-menu.types';\nimport { ICON_SIZES } from '../icon/models/icon.types';\n\n@Component({\n  tag: 'wink-dropdown-menu',\n  styleUrls: {\n    telenet: 'styles/brands/dropdown-menu.telenet.scss',\n    base: 'styles/brands/dropdown-menu.base.scss',\n  },\n  shadow: true,\n})\nexport class DropdownMenu {\n  @Element() host!: HTMLWinkDropdownMenuElement;\n\n  @Prop() heading?: string = 'default-1';\n  @Prop({ mutable: true }) isExpanded?: boolean = false;\n  @Prop() dropdownTabIndex?: number = 1;\n  @Prop() itemSelected?: string;\n\n  @State() listPosition: DropdownAlign = DROPDOWN_ALIGN.topLeft;\n  @State() focusableItem = NaN;\n\n  componentDidLoad(): void {\n    this.setPosition();\n    for (let i = 0; i < this.getDropdownItems().length; i++) {\n      if (this.getDropdownItems()[i].innerText === this.itemSelected) {\n        this.getDropdownItems()[i].classList.add('active');\n      }\n    }\n  }\n\n  @Listen('keydown', {\n    passive: true,\n  })\n  handleKeyDown(ev: KeyboardEvent) {\n    switch (ev.key) {\n      case ' ':\n      case 'Enter': {\n        const element = ev?.target as HTMLElement;\n        if (element.tagName.toUpperCase() === 'WINK-LINK') {\n          element?.shadowRoot?.querySelector('a')?.click();\n        } else {\n          this.toggleDropdown(ev);\n        }\n        break;\n      }\n      case 'Tab': {\n        if (ev.target === this.getDropdownItems()[this.getDropdownItems().length - 1]) {\n          this.toggleDropdown(ev);\n        }\n        break;\n      }\n      case 'ArrowDown': {\n        if (Number.isNaN(this.focusableItem) || this.focusableItem === this.getDropdownItems().length - 1) {\n          this.focusableItem = 0;\n        } else {\n          this.focusableItem++;\n        }\n        this.focusOnItem(this.focusableItem);\n        break;\n      }\n      case 'ArrowUp': {\n        if (!this.focusableItem || this.focusableItem === -1) {\n          this.focusableItem = this.getDropdownItems().length - 1;\n        } else {\n          this.focusableItem--;\n        }\n        this.focusOnItem(this.focusableItem);\n        break;\n      }\n      case 'Escape': {\n        this.isExpanded = false;\n        this.host.shadowRoot?.querySelector('button')?.focus();\n        break;\n      }\n      case 'Home': {\n        this.focusableItem = 0;\n        this.focusOnItem(this.focusableItem);\n        break;\n      }\n      case 'End': {\n        this.focusableItem = this.getDropdownItems().length - 1;\n        this.focusOnItem(this.focusableItem);\n        break;\n      }\n    }\n  }\n\n  private focusOnItem(focusItem: number) {\n    const itemToFocus = this.getDropdownItems()[focusItem];\n    if (itemToFocus instanceof HTMLElement) {\n      return itemToFocus?.shadowRoot?.querySelector('a')?.focus();\n    }\n  }\n\n  private getDropdownItems() {\n    return this.host.querySelectorAll('wink-link');\n  }\n\n  private readonly toggleDropdown = (_e: Event) => {\n    this.setPosition();\n    this.isExpanded = !this.isExpanded;\n  };\n\n  private readonly setPosition = () => {\n    const dropdownRect = this.host.getBoundingClientRect();\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n\n    const spaceOnLeft = dropdownRect.left;\n    const spaceOnRight = viewportWidth - dropdownRect.right;\n    const spaceOnTop = dropdownRect.top;\n    const spaceOnBottom = viewportHeight - dropdownRect.bottom;\n\n    const positionX = Math.max(spaceOnLeft, spaceOnRight) === spaceOnRight ? 'left' : 'right';\n    const positionY = Math.max(spaceOnTop, spaceOnBottom) === spaceOnBottom ? 'top' : 'bottom';\n\n    this.listPosition = `${positionY}-${positionX}`;\n  };\n\n  render() {\n    return (\n      <Host\n        class={`dropdown-menu--align-list--${this.listPosition}`}\n        is-expanded={this.isExpanded}\n        onMouseDown={this.toggleDropdown}\n        exportparts=\"icon, icon-chevron-down-small\">\n        <button class=\"dropdown-menu--heading\" tabindex={this.dropdownTabIndex}>\n          <slot name=\"dropdown-menu--avatar\" />\n          {this.heading}\n          <div class=\"dropdown-menu--chevron\">\n            <wink-icon size={ICON_SIZES.sm} icon=\"chevron-down-small\"></wink-icon>\n          </div>\n        </button>\n        <ul class=\"dropdown-menu--list\">\n          <slot></slot>\n        </ul>\n      </Host>\n    );\n  }\n}\n"],"names":["ICON_TYPES_BASIS","default","primary","secondary","ICON_TYPES","transparent","ICON_SIZES","sm","SIZES","md","lg","xl","xs","s","m","l","none","full","DROPDOWN_ALIGN","topLeft","topRight","bottomLeft","bottomRight","dropdownMenuBaseCss","WinkDropdownMenuBaseStyle0","dropdownMenuTelenetCss","WinkDropdownMenuTelenetStyle0","DropdownMenu","NaN","componentDidLoad","setPosition","i","getDropdownItems","length","innerText","itemSelected","classList","add","handleKeyDown","ev","key","element","target","tagName","toUpperCase","shadowRoot","querySelector","click","toggleDropdown","Number","isNaN","focusableItem","focusOnItem","isExpanded","host","focus","focusItem","itemToFocus","HTMLElement","querySelectorAll","_e","dropdownRect","getBoundingClientRect","viewportWidth","window","innerWidth","viewportHeight","innerHeight","spaceOnLeft","left","spaceOnRight","right","spaceOnTop","top","spaceOnBottom","bottom","positionX","Math","max","positionY","listPosition","render","h","Host","class","onMouseDown","exportparts","tabindex","dropdownTabIndex","name","heading","size","icon"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}