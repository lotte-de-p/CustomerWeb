{"version":3,"file":"libs_foundation_demo_billing_data-access_src_index_ts-_604d1.js","mappings":"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","sources":["./libs/foundation/demo/billing/data-access/src/index.ts","./libs/foundation/demo/billing/data-access/src/lib/+state/billing.store.ts","./libs/foundation/demo/billing/data-access/src/lib/entities/models/invoice.model.ts","./libs/foundation/demo/billing/data-access/src/lib/facade/billing.facade.ts","./libs/foundation/demo/billing/data-access/src/lib/infrastructure/invoice.service.ts","./node_modules/@ngrx/signals/fesm2022/ngrx-signals.mjs"],"sourcesContent":["export { BillingFacade } from './lib/facade/billing.facade';\nexport { Invoice, InvoiceStatus } from './lib/entities/models/invoice.model';\nexport { BillingStore } from './lib/+state/billing.store';\n","import { patchState, signalStore, withMethods, withState } from '@ngrx/signals';\nimport { Invoice } from '../entities/models/invoice.model';\nimport { inject, Signal } from '@angular/core';\nimport { InvoiceService } from '../infrastructure/invoice.service';\n\nexport interface BillingState {\n  billingEntries: Invoice[];\n}\n\nexport const initialState: BillingState = {\n  billingEntries: [],\n};\n\nexport const BillingStore = signalStore(\n  { providedIn: 'root' },\n  withState(initialState),\n  withMethods((store, billingService = inject(InvoiceService)) => ({\n    async getInvoices() {\n      const billingEntries = await billingService.getBillingEntries();\n      patchState(store, (state) => ({ ...state, billingEntries }));\n    },\n    payInvoice(invoice: Invoice) {\n      console.log(`PAYED invoice ${invoice.id}`);\n    },\n  }))\n);\n\nexport interface BillingStoreType {\n  billingEntries: Signal<Invoice[]>;\n  getInvoices: () => Promise<void>;\n  payInvoice: (invoice: Invoice) => void;\n}\n","export enum InvoiceStatus {\n  OPEN = 'open',\n  OVERDUE = 'overdue',\n  PAID = 'paid',\n}\n\nexport interface Invoice {\n  status: InvoiceStatus;\n  amount: number;\n  id: string;\n  companyName: string;\n  expirationDate: Date;\n  description: string;\n  invoiceDate: Date;\n  openFileLink: string;\n}\n","import { inject, Injectable } from '@angular/core';\nimport { BillingStore } from '../+state/billing.store';\nimport { Invoice } from '../entities/models/invoice.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class BillingFacade {\n  private readonly store = inject(BillingStore);\n\n  readonly invoices = this.store.billingEntries;\n\n  async loadInvoices() {\n    await this.store.getInvoices();\n  }\n\n  payInvoice(invoice: Invoice): void {\n    this.store.payInvoice(invoice);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { firstValueFrom, of } from 'rxjs';\nimport { Invoice, InvoiceStatus } from '../entities/models/invoice.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class InvoiceService {\n  getBillingEntries(): Promise<Invoice[]> {\n    const companyName = 'Stad Oostende';\n    return firstValueFrom(\n      of([\n        {\n          status: InvoiceStatus.OPEN,\n          amount: 968.52,\n          id: 'Mar23 - 25695',\n          companyName,\n          expirationDate: new Date('03/30/2023'),\n          description:\n            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin varius condimentum nibh. Integer nulla diam, mattis eu semper in, ultricies.',\n          invoiceDate: new Date('03/01/2023'),\n          openFileLink: 'invoice.openFileLink1',\n        },\n        {\n          status: InvoiceStatus.PAID,\n          amount: 132.23,\n          id: 'Feb23 - 25694',\n          companyName,\n          expirationDate: new Date('02/28/2023'),\n          description:\n            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin varius condimentum nibh. Integer nulla diam, mattis eu semper in, ultricies.',\n          invoiceDate: new Date('02/01/2023'),\n          openFileLink: 'invoice.openFileLink2',\n        },\n        {\n          status: InvoiceStatus.OVERDUE,\n          amount: 2.5,\n          id: 'Jan23 - 25693',\n          companyName,\n          expirationDate: new Date('01/30/2023'),\n          description: 'Too late',\n          invoiceDate: new Date('01/01/2023'),\n          openFileLink: 'invoice.openFileLink3',\n        },\n      ])\n    );\n  }\n}\n","import * as i0 from '@angular/core';\nimport { untracked, isSignal, computed, signal, DestroyRef, inject, Injectable } from '@angular/core';\n\nconst STATE_SIGNAL = Symbol('STATE_SIGNAL');\n\nfunction getState(stateSignal) {\n    return stateSignal[STATE_SIGNAL]();\n}\n\nfunction patchState(stateSignal, ...updaters) {\n    stateSignal[STATE_SIGNAL].update((currentState) => updaters.reduce((nextState, updater) => ({\n        ...nextState,\n        ...(typeof updater === 'function' ? updater(nextState) : updater),\n    }), currentState));\n}\n\nfunction toDeepSignal(signal) {\n    const value = untracked(() => signal());\n    if (!isRecord(value)) {\n        return signal;\n    }\n    return new Proxy(signal, {\n        get(target, prop) {\n            if (!(prop in value)) {\n                return target[prop];\n            }\n            if (!isSignal(target[prop])) {\n                Object.defineProperty(target, prop, {\n                    value: computed(() => target()[prop]),\n                    configurable: true,\n                });\n            }\n            return toDeepSignal(target[prop]);\n        },\n    });\n}\nfunction isRecord(value) {\n    return value?.constructor === Object;\n}\n\nfunction signalState(initialState) {\n    const stateSignal = signal(initialState);\n    const deepSignal = toDeepSignal(stateSignal.asReadonly());\n    Object.defineProperty(deepSignal, STATE_SIGNAL, {\n        value: stateSignal,\n    });\n    return deepSignal;\n}\n\nfunction signalStore(...args) {\n    const signalStoreArgs = [...args];\n    const config = 'providedIn' in signalStoreArgs[0]\n        ? signalStoreArgs.shift()\n        : {};\n    const features = signalStoreArgs;\n    class SignalStore {\n        constructor() {\n            const innerStore = features.reduce((store, feature) => feature(store), getInitialInnerStore());\n            const { slices, signals, methods, hooks } = innerStore;\n            const props = { ...slices, ...signals, ...methods };\n            this[STATE_SIGNAL] = innerStore[STATE_SIGNAL];\n            for (const key in props) {\n                this[key] = props[key];\n            }\n            const { onInit, onDestroy } = hooks;\n            if (onInit) {\n                onInit();\n            }\n            if (onDestroy) {\n                inject(DestroyRef).onDestroy(onDestroy);\n            }\n        }\n        /** @nocollapse */ static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.0.0\", ngImport: i0, type: SignalStore, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n        /** @nocollapse */ static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"17.0.0\", ngImport: i0, type: SignalStore, providedIn: config.providedIn || null });\n    }\n    i0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.0.0\", ngImport: i0, type: SignalStore, decorators: [{\n                type: Injectable,\n                args: [{ providedIn: config.providedIn || null }]\n            }], ctorParameters: () => [] });\n    return SignalStore;\n}\nfunction getInitialInnerStore() {\n    return {\n        [STATE_SIGNAL]: signal({}),\n        slices: {},\n        signals: {},\n        methods: {},\n        hooks: {},\n    };\n}\n\nfunction signalStoreFeature(featureOrInput, ...restFeatures) {\n    const features = typeof featureOrInput === 'function'\n        ? [featureOrInput, ...restFeatures]\n        : restFeatures;\n    return (inputStore) => features.reduce((store, feature) => feature(store), inputStore);\n}\nfunction type() {\n    return undefined;\n}\n\nfunction excludeKeys(obj, keys) {\n    return Object.keys(obj).reduce((acc, key) => (keys.includes(key) ? acc : { ...acc, [key]: obj[key] }), {});\n}\n\nfunction withComputed(signalsFactory) {\n    return (store) => {\n        const signals = signalsFactory({ ...store.slices, ...store.signals });\n        const signalsKeys = Object.keys(signals);\n        const slices = excludeKeys(store.slices, signalsKeys);\n        const methods = excludeKeys(store.methods, signalsKeys);\n        return {\n            ...store,\n            slices,\n            signals: { ...store.signals, ...signals },\n            methods,\n        };\n    };\n}\n\nfunction withHooks(hooksOrFactory) {\n    return (store) => {\n        const storeProps = {\n            [STATE_SIGNAL]: store[STATE_SIGNAL],\n            ...store.slices,\n            ...store.signals,\n            ...store.methods,\n        };\n        const hooks = typeof hooksOrFactory === 'function'\n            ? hooksOrFactory(storeProps)\n            : hooksOrFactory;\n        const createHook = (name) => {\n            const hook = hooks[name];\n            const currentHook = store.hooks[name];\n            return hook\n                ? () => {\n                    if (currentHook) {\n                        currentHook();\n                    }\n                    hook(storeProps);\n                }\n                : currentHook;\n        };\n        return {\n            ...store,\n            hooks: {\n                onInit: createHook('onInit'),\n                onDestroy: createHook('onDestroy'),\n            },\n        };\n    };\n}\n\nfunction withMethods(methodsFactory) {\n    return (store) => {\n        const methods = methodsFactory({\n            [STATE_SIGNAL]: store[STATE_SIGNAL],\n            ...store.slices,\n            ...store.signals,\n            ...store.methods,\n        });\n        const methodsKeys = Object.keys(methods);\n        const slices = excludeKeys(store.slices, methodsKeys);\n        const signals = excludeKeys(store.signals, methodsKeys);\n        return {\n            ...store,\n            slices,\n            signals,\n            methods: { ...store.methods, ...methods },\n        };\n    };\n}\n\nfunction withState(stateOrFactory) {\n    return (store) => {\n        const state = typeof stateOrFactory === 'function' ? stateOrFactory() : stateOrFactory;\n        const stateKeys = Object.keys(state);\n        store[STATE_SIGNAL].update((currentState) => ({\n            ...currentState,\n            ...state,\n        }));\n        const slices = stateKeys.reduce((acc, key) => {\n            const slice = computed(() => store[STATE_SIGNAL]()[key]);\n            return { ...acc, [key]: toDeepSignal(slice) };\n        }, {});\n        const signals = excludeKeys(store.signals, stateKeys);\n        const methods = excludeKeys(store.methods, stateKeys);\n        return {\n            ...store,\n            slices: { ...store.slices, ...slices },\n            signals,\n            methods,\n        };\n    };\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { getState, patchState, signalState, signalStore, signalStoreFeature, type, withComputed, withHooks, withMethods, withState };\n"],"names":["BillingFacade","InvoiceStatus","BillingStore","patchState","signalStore","withMethods","withState","inject","InvoiceService","initialState","billingEntries","providedIn","store","billingService","getInvoices","_asyncToGenerator","getBillingEntries","state","payInvoice","invoice","console","log","id","constructor","invoices","loadInvoices","_this","_","_2","factory","ɵfac","firstValueFrom","of","companyName","status","OPEN","amount","expirationDate","Date","description","invoiceDate","openFileLink","PAID","OVERDUE","i0","untracked","isSignal","computed","signal","DestroyRef","Injectable","STATE_SIGNAL","Symbol","getState","stateSignal","updaters","update","currentState","reduce","nextState","updater","toDeepSignal","value","isRecord","Proxy","get","target","prop","Object","defineProperty","configurable","signalState","deepSignal","asReadonly","args","signalStoreArgs","config","shift","features","SignalStore","innerStore","feature","getInitialInnerStore","slices","signals","methods","hooks","props","key","onInit","onDestroy","SignalStore_Factory","t","ɵprov","ɵɵdefineInjectable","token","ngDevMode","ɵsetClassMetadata","type","signalStoreFeature","featureOrInput","restFeatures","inputStore","undefined","excludeKeys","obj","keys","acc","includes","withComputed","signalsFactory","signalsKeys","withHooks","hooksOrFactory","storeProps","createHook","name","hook","currentHook","methodsFactory","methodsKeys","stateOrFactory","stateKeys","slice"],"sourceRoot":"webpack:///","x_google_ignoreList":[5]}