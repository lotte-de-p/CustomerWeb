{"version":3,"file":"libs_foundation_general_search_data-access_src_index_ts-_52880.js","mappings":"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AAEA;AACA,wCAAwC,4BAA4B;AACpE,CAAC;AACD;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP,2CAA2C;AAC3C;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,8CAA8C;AACnE;AACA;AACA,qBAAqB,aAAa;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,SAAS,gBAAgB;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAC","sources":["./libs/foundation/general/search/data-access/src/index.ts","./libs/foundation/general/search/data-access/src/lib/+state/search-ngrx.module.ts","./libs/foundation/general/search/data-access/src/lib/+state/search.actions.ts","./libs/foundation/general/search/data-access/src/lib/+state/search.effects.ts","./libs/foundation/general/search/data-access/src/lib/+state/search.reducer.ts","./libs/foundation/general/search/data-access/src/lib/+state/search.selectors.ts","./libs/foundation/general/search/data-access/src/lib/+state/search.state.ts","./libs/foundation/general/search/data-access/src/lib/entities/badge.ts","./libs/foundation/general/search/data-access/src/lib/entities/facets.ts","./libs/foundation/general/search/data-access/src/lib/entities/product-plan.ts","./libs/foundation/general/search/data-access/src/lib/entities/product.ts","./libs/foundation/general/search/data-access/src/lib/entities/search-result-item.ts","./libs/foundation/general/search/data-access/src/lib/entities/search-results.ts","./libs/foundation/general/search/data-access/src/lib/entities/suggestion-item.ts","./libs/foundation/general/search/data-access/src/lib/entities/suggestions.ts","./libs/foundation/general/search/data-access/src/lib/facade/search-facade.service.ts","./libs/foundation/general/search/data-access/src/lib/index.ts","./libs/foundation/general/search/data-access/src/lib/keyboard-navigation.directive.ts","./libs/foundation/general/search/data-access/src/lib/providers.ts","./libs/foundation/general/search/data-access/src/lib/services/analytics.service.ts","./libs/foundation/general/search/data-access/src/lib/services/elastic-search-service.interface.ts","./libs/foundation/general/search/data-access/src/lib/services/elastic-search.service.ts","./libs/foundation/general/search/data-access/src/lib/services/hardware-plan.service.ts","./libs/foundation/general/search/data-access/src/lib/services/keyboard-navigation.service.ts","./libs/foundation/general/search/data-access/src/lib/services/mock-elastic-search.service.ts","./libs/foundation/general/search/data-access/src/lib/services/search-api-service.provider.ts","./libs/foundation/general/search/data-access/src/lib/types/action-initiator.ts","./libs/foundation/general/search/data-access/src/lib/types/analytics-eventinfo.ts","./libs/foundation/general/search/data-access/src/lib/types/badge-color.ts","./libs/foundation/general/search/data-access/src/lib/types/search-types.ts","./node_modules/rxjs/dist/esm/internal/NotificationFactories.js","./node_modules/rxjs/dist/esm/internal/Observable.js","./node_modules/rxjs/dist/esm/internal/Subscriber.js","./node_modules/rxjs/dist/esm/internal/Subscription.js","./node_modules/rxjs/dist/esm/internal/config.js","./node_modules/rxjs/dist/esm/internal/lastValueFrom.js","./node_modules/rxjs/dist/esm/internal/observable/from.js","./node_modules/rxjs/dist/esm/internal/observable/innerFrom.js","./node_modules/rxjs/dist/esm/internal/operators/OperatorSubscriber.js","./node_modules/rxjs/dist/esm/internal/operators/observeOn.js","./node_modules/rxjs/dist/esm/internal/operators/subscribeOn.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleArray.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleAsyncIterable.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleIterable.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleObservable.js","./node_modules/rxjs/dist/esm/internal/scheduled/schedulePromise.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleReadableStreamLike.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduled.js","./node_modules/rxjs/dist/esm/internal/scheduler/timeoutProvider.js","./node_modules/rxjs/dist/esm/internal/symbol/iterator.js","./node_modules/rxjs/dist/esm/internal/symbol/observable.js","./node_modules/rxjs/dist/esm/internal/util/EmptyError.js","./node_modules/rxjs/dist/esm/internal/util/UnsubscriptionError.js","./node_modules/rxjs/dist/esm/internal/util/arrRemove.js","./node_modules/rxjs/dist/esm/internal/util/createErrorClass.js","./node_modules/rxjs/dist/esm/internal/util/errorContext.js","./node_modules/rxjs/dist/esm/internal/util/executeSchedule.js","./node_modules/rxjs/dist/esm/internal/util/identity.js","./node_modules/rxjs/dist/esm/internal/util/isArrayLike.js","./node_modules/rxjs/dist/esm/internal/util/isAsyncIterable.js","./node_modules/rxjs/dist/esm/internal/util/isFunction.js","./node_modules/rxjs/dist/esm/internal/util/isInteropObservable.js","./node_modules/rxjs/dist/esm/internal/util/isIterable.js","./node_modules/rxjs/dist/esm/internal/util/isPromise.js","./node_modules/rxjs/dist/esm/internal/util/isReadableStreamLike.js","./node_modules/rxjs/dist/esm/internal/util/lift.js","./node_modules/rxjs/dist/esm/internal/util/noop.js","./node_modules/rxjs/dist/esm/internal/util/pipe.js","./node_modules/rxjs/dist/esm/internal/util/reportUnhandledError.js","./node_modules/rxjs/dist/esm/internal/util/throwUnobservableError.js","./node_modules/tslib/tslib.es6.mjs"],"sourcesContent":["export * from './lib';\n","import { NgModule } from '@angular/core';\nimport { MetaReducer, StoreModule } from '@ngrx/store';\nimport { searchFeature } from './search.reducer';\nimport { EffectsModule } from '@ngrx/effects';\nimport { SearchEffects } from './search.effects';\nimport { SearchState } from './search.state';\nimport { createStorageMetaReducer } from '@telenet/ng-lib-shared';\n\nconst storageReducer = createStorageMetaReducer('__unifiedSearch_storage__', ['header', 'eventData']);\nconst metaReducers: MetaReducer<SearchState>[] = [storageReducer];\n\n@NgModule({\n  imports: [\n    EffectsModule.forFeature([SearchEffects]),\n    StoreModule.forFeature(searchFeature.name, searchFeature.reducer, {\n      metaReducers,\n    }),\n  ],\n})\nexport class SearchNgrxModule {}\n","import { createAction, props } from '@ngrx/store';\nimport { Suggestions } from '../entities/suggestions';\nimport { SuggestionItem } from '../entities/suggestion-item';\nimport { SearchResults } from '../entities/search-results';\nimport { Collection, FacetGroup } from '../entities/facets';\nimport { Type } from '../services/elastic-search-service.interface';\nimport { ActionInitiator } from '../types/action-initiator';\nimport { SearchResultItem } from '../entities/search-result-item';\n\nexport const getContentPagesAction = createAction('[search] Initiates a search for pages');\n\nexport const getContentPagesSuccessAction = createAction(\n  '[search] get content pages success response',\n  props<{ searchResults: SearchResults }>()\n);\n\nexport const getHardwareAction = createAction('[search] Initiates a search for hardware');\n\nexport const getHardwareSuccessAction = createAction(\n  '[search] get hardware success response',\n  props<{ searchResults: SearchResults }>()\n);\n\nexport const getFacetsAction = createAction(\n  '[search] Initiates the facets',\n  props<{ collection: string; tags: string[]; includeHardwareResults: boolean; initiator?: ActionInitiator }>()\n);\n\nexport const getFacetsSuccessAction = createAction(\n  '[search] Initiates the facets success response',\n  props<{ facetGroups: FacetGroup[]; includeHardwareResults: boolean; initiator?: ActionInitiator }>()\n);\n\nexport const selectFacetAction = createAction(\n  '[search] select a facet',\n  props<{ groupIndex: number; facetIndex: number; includeHardwareResults: boolean }>()\n);\n\nexport const clearFacetsAction = createAction(\n  '[search] clears all facets',\n  props<{ includeHardwareResults: boolean }>()\n);\n\nexport const selectFacetSuccessAction = createAction(\n  '[search] select a facet success response',\n  props<{ facetGroups: FacetGroup[]; includeHardwareResults: boolean }>()\n);\nexport const updateFacetsSuccessAction = createAction(\n  '[search] update facets success response',\n  props<{ facetGroups: FacetGroup[] }>()\n);\n\nexport const setActiveCollectionAction = createAction(\n  '[search] sets collection in store',\n  props<{ collection: string }>()\n);\nexport const setActiveCollectionSuccessAction = createAction(\n  '[search] sets collection success response',\n  props<{ collection: string }>()\n);\nexport const selectCollectionAction = createAction(\n  '[search] select a collection',\n  props<{ collectionIndex: number; includeHardwareResults: boolean }>()\n);\n\nexport const selectCollectionSuccessAction = createAction(\n  '[search] select a collection success response',\n  props<{ collections: FacetGroup; includeHardwareResults: boolean; activeCollection?: string }>()\n);\n\nexport const getCollectionsAndTagsAction = createAction(\n  '[search] Initiates the collections and tags',\n  props<{ collections: Collection[]; tags: string[] }>()\n);\n\nexport const getCollectionsAndTagsSuccessAction = createAction(\n  '[search] Initiates the collections and tags success reponse',\n  props<{ collections: FacetGroup }>()\n);\n\nexport const setQueryAction = createAction('[search] sets query in store', props<{ query: string }>());\n\nexport const setQuerySuccessAction = createAction('[search] get query success response', props<{ query: string }>());\n\nexport const setHeaderExpandedAction = createAction(\n  '[search] the state of the search header in store',\n  props<{ expanded: boolean }>()\n);\n\nexport const setHeaderExpandedSuccessAction = createAction(\n  '[search] get search header state success response',\n  props<{ expanded: boolean }>()\n);\n\nexport const getSuggestionsAction = createAction(\n  '[search] get suggestions',\n  props<{ query: string; suggestionsFieldName: string; includeHardwareResults: boolean }>()\n);\n\nexport const getSuggestionsSuccessAction = createAction(\n  '[search] get suggestions success response',\n  props<{ suggestions: Suggestions; suggestionsFieldName: string }>()\n);\n\nexport const selectSuggestionItemAction = createAction(\n  '[search] select a suggestion',\n  props<{ selected: SuggestionItem; byUserAction: boolean }>()\n);\n\nexport const getTopResultsSuccessAction = createAction(\n  '[search] top results success response',\n  props<{ results: SearchResults }>()\n);\n\nexport const clearHeaderAction = createAction('[search] clears the header state');\n\nexport const updateSearchResultsAction = createAction(\n  '[search] updates the search results',\n  props<{\n    query: string;\n    includeHardwareResults: boolean;\n    collection?: string;\n    facets?: FacetGroup[];\n    initiator?: ActionInitiator;\n    page?: number;\n  }>()\n);\n\nexport const updateSearchResultsSuccessAction = createAction(\n  '[search] updates the search results success response',\n  props<{ hardwareResults: SearchResults; contentResults: SearchResults; initiator?: ActionInitiator }>()\n);\n\nexport const getSearchResultPageAction = createAction(\n  '[search] fetch a new page of search results',\n  props<{ resultType: Type; page: number }>()\n);\n\nexport const goToResultFromResultsPageAction = createAction(\n  '[search] navigate to a specific page from the results startin from the results page',\n  props<{ url: string; searchResultItem: SearchResultItem }>()\n);\n\nexport const goToResultsPageAction = createAction('[search] navigate to search results', props<{ url: string }>());\n\nexport const goToPageFromHeaderAction = createAction(\n  '[search] navigate to a specific page from the results',\n  props<{ url: string; searchResultItem: SearchResultItem }>()\n);\n\nexport const navigateAction = createAction('[search] navigate to a specific page', props<{ url: string }>());\n\nexport const setLastUsedComponent = createAction('[search] set active component name', props<{ name: string }>());\n\nexport const afterFacetChangeResultsUpdatedAction = createAction('[search] after results updated when facets changed');\n\nexport const setInPageInitDataAction = createAction(\n  '[search] set inpage search init data',\n  props<{ collection: string; resultsPageUrl: string }>()\n);\n\nexport const setInPageQueryAction = createAction(\n  '[search] set inpage search query',\n  props<{ query: string; includeHardwareResults: boolean }>()\n);\n\nexport const setInPageQuerySuccessAction = createAction(\n  '[search] set inpage search query success',\n  props<{ query: string; includeHardwareResults: boolean }>()\n);\n\nexport const updateInPageSuggestionSuccessAction = createAction(\n  '[search] update inpage suggestions',\n  props<{ suggestions: Suggestions }>()\n);\n\nexport const clearInPageAction = createAction('[search] clean inpage suggestions and query');\n\nexport const selectSuggestionInPageAction = createAction(\n  '[search] select suggestion inpage',\n  props<{ item: SuggestionItem; url: string }>()\n);\n\nexport const navigateToInPageResultsAction = createAction(\n  '[search] navigate to inpage results',\n  props<{ query: string }>()\n);\n\nexport const setPageAction = createAction('[search] set page for search results', props<{ page: number }>());\n\nexport const setPageSuccessAction = createAction(\n  '[search] set page for search results success',\n  props<{ page: number }>()\n);\n\nexport const setResultsComponentFoundAction = createAction(\n  '[search] set the results component found parameter',\n  props<{ found: boolean }>()\n);\n\nexport const setResultsComponentFoundSuccessAction = createAction(\n  '[search] set the results component found parameter in the reducer',\n  props<{ found: boolean }>()\n);\n","/* eslint-disable rxjs/no-internal */\nimport { inject, Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { map, mergeMap, switchMap, tap, withLatestFrom } from 'rxjs/operators';\nimport * as fromActions from './search.actions';\nimport { SearchApiServiceProvider } from '../services/search-api-service.provider';\nimport { ElasticSearchServiceInterface, Type } from '../services/elastic-search-service.interface';\nimport { Store } from '@ngrx/store';\nimport { SearchState } from './search.state';\nimport {\n  featureState,\n  selectActiveCollection,\n  selectCollections,\n  selectFacetGroups,\n  selectInitData,\n  selectInPageData,\n  selectInPageInitData,\n  selectQuery,\n  selectSearchData,\n} from './search.selectors';\nimport { UrlService } from '@telenet/ng-lib-page';\nimport { forkJoin, of } from 'rxjs';\nimport { AnalyticsService } from '../services/analytics.service';\nimport { ActionInitiator } from '../types/action-initiator';\nimport { AnalyticsCallFireStrategyEnum } from 'udl';\nimport { UnifiedSearchEvents } from '../types/analytics-eventinfo';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SearchEffects {\n  private readonly elasticSearchService: ElasticSearchServiceInterface;\n  private readonly actions$ = inject(Actions);\n  private readonly store = inject(Store<SearchState>);\n  private readonly urlService: UrlService = inject(UrlService);\n  private readonly analyticsService: AnalyticsService = inject(AnalyticsService);\n\n  constructor(private readonly serviceProvider: SearchApiServiceProvider) {\n    this.elasticSearchService = this.serviceProvider.getService();\n  }\n\n  setQuery$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.setQueryAction),\n      map((action) => fromActions.setQuerySuccessAction({ query: action.query }))\n    )\n  );\n\n  setHeaderExpanded$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.setHeaderExpandedAction),\n      map((action) => fromActions.setHeaderExpandedSuccessAction({ expanded: action.expanded }))\n    )\n  );\n\n  setActiveCollection$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.setActiveCollectionAction),\n      map((action) => fromActions.setActiveCollectionSuccessAction({ collection: action.collection }))\n    )\n  );\n\n  setPage$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.setPageAction),\n      map((action) => fromActions.setPageSuccessAction({ page: action.page }))\n    )\n  );\n\n  initiateContentPagesSearch$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.getContentPagesAction),\n      withLatestFrom(this.store.select(selectQuery)),\n      switchMap(([, query]) => this.elasticSearchService.search(query, Type.page)),\n      map((searchResults) => fromActions.getContentPagesSuccessAction({ searchResults }))\n    )\n  );\n\n  initiateHardwareSearch$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.getHardwareAction),\n      withLatestFrom(this.store.select(selectQuery)),\n      switchMap(([, query]) => this.elasticSearchService.search(query, Type.hardware)),\n      map((searchResults) => fromActions.getHardwareSuccessAction({ searchResults }))\n    )\n  );\n\n  getSuggestions$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.getSuggestionsAction),\n      withLatestFrom(this.store.select(selectQuery)),\n      switchMap(([action, query]) =>\n        this.elasticSearchService\n          .getSuggestions(action.query ? action.query : query, action.includeHardwareResults)\n          .pipe(\n            map((suggestions) => ({\n              suggestions,\n              suggestionsFieldName: action.suggestionsFieldName,\n            }))\n          )\n      ),\n      map((result) => fromActions.getSuggestionsSuccessAction(result))\n    )\n  );\n\n  getSuggestionsSuccess$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.getSuggestionsSuccessAction),\n      map(({ suggestions, suggestionsFieldName }) =>\n        fromActions.selectSuggestionItemAction({ selected: suggestions[suggestionsFieldName][0], byUserAction: false })\n      )\n    )\n  );\n\n  selectSuggestionItem$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.selectSuggestionItemAction),\n      switchMap((args) => (args.selected ? this.elasticSearchService.getTopResults(args.selected.text) : of({}))),\n      map((results) => fromActions.getTopResultsSuccessAction({ results }))\n    )\n  );\n\n  selectFacet$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.selectFacetAction),\n      withLatestFrom(this.store.select(selectFacetGroups), (action, facetGroups) => ({ action, facetGroups })),\n      map(({ action, facetGroups }) => {\n        return {\n          facetGroups: facetGroups.map((facetsGroup, i) => ({\n            ...facetsGroup,\n            facets: facetsGroup.facets.map((facet, j) =>\n              i === action.groupIndex && j === action.facetIndex ? { ...facet, selected: !facet.selected } : facet\n            ),\n          })),\n          includeHardwareResults: action.includeHardwareResults,\n        };\n      }),\n      map(({ facetGroups, includeHardwareResults }) =>\n        fromActions.selectFacetSuccessAction({ facetGroups, includeHardwareResults })\n      )\n    )\n  );\n\n  updateUrlAfterFacetSelection$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(fromActions.selectFacetSuccessAction),\n        tap((action) => {\n          const facetString = action.facetGroups\n            .filter((facetGroup) => facetGroup.facets.find((facet) => facet.selected))\n            .map((facetGroup) => {\n              const facets = facetGroup.facets\n                .filter((f) => f.selected)\n                .map((f) => f.id)\n                .join(',');\n              return `${facetGroup.title}:${facets}`;\n            })\n            .join(';');\n          if (facetString) {\n            this.urlService.replaceURLParameters([{ key: 'facets', value: facetString }]);\n          } else {\n            this.urlService.removeURLParameters(['facets']);\n          }\n        })\n      ),\n    { dispatch: false }\n  );\n\n  updateFacetsAfterFacetSelection$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.selectFacetSuccessAction),\n      withLatestFrom(this.store.select(selectSearchData)),\n      switchMap(([action, searchData]) =>\n        this.elasticSearchService.getFacets(\n          searchData.query,\n          searchData.collection,\n          searchData.tags,\n          action.includeHardwareResults,\n          action.facetGroups\n        )\n      ),\n      map((facetGroups) => fromActions.updateFacetsSuccessAction({ facetGroups }))\n    )\n  );\n\n  clearFacets$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.clearFacetsAction),\n      withLatestFrom(this.store.select(selectFacetGroups), (action, facetsGroups) => ({ action, facetsGroups })),\n      map(({ action, facetsGroups }) => {\n        return {\n          facetGroups: facetsGroups.map((facetsGroup) => ({\n            ...facetsGroup,\n            facets: facetsGroup.facets.map((facet) => ({ ...facet, selected: false })),\n          })),\n          includeHardwareResults: action.includeHardwareResults,\n        };\n      }),\n      map(({ facetGroups, includeHardwareResults }) =>\n        fromActions.selectFacetSuccessAction({ facetGroups, includeHardwareResults })\n      )\n    )\n  );\n\n  updateResultsAfterFacetSelection$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(fromActions.selectFacetSuccessAction),\n        withLatestFrom(this.store.select(selectSearchData)),\n        tap(([action, data]) =>\n          this.store.dispatch(\n            fromActions.updateSearchResultsAction({\n              query: data.query,\n              includeHardwareResults: action.includeHardwareResults,\n              collection: data.collection,\n              facets: action.facetGroups,\n              initiator: ActionInitiator.FACET_SELECT,\n            })\n          )\n        )\n      ),\n    { dispatch: false }\n  );\n\n  initiateFacets$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.getFacetsAction),\n      withLatestFrom(\n        this.store.select(selectQuery),\n        this.store.select(selectActiveCollection),\n        (action, query, activeCollection) => ({ action, query, activeCollection })\n      ),\n      mergeMap(({ action, query, activeCollection }) =>\n        forkJoin({\n          facetGroups: this.elasticSearchService.getFacets(\n            query,\n            activeCollection ? activeCollection : action.collection,\n            action.tags,\n            action.includeHardwareResults,\n            this.urlService.getRequestParameters()['facets']\n              ? decodeURIComponent(this.urlService.getRequestParameters()['facets'])\n                  .split(';')\n                  .map((group) => ({\n                    title: group.split(':')[0],\n                    facets: group\n                      .split(':')[1]\n                      .split(',')\n                      .map((facet) => ({ id: facet, label: facet, selected: true })),\n                  }))\n              : undefined\n          ),\n          initiator: of(action.initiator),\n          includeHardwareResults: of(action.includeHardwareResults),\n        })\n      ),\n      map(({ facetGroups, initiator, includeHardwareResults }) =>\n        fromActions.getFacetsSuccessAction({ facetGroups, includeHardwareResults, initiator })\n      )\n    )\n  );\n\n  initFacetSuccess$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(fromActions.getFacetsSuccessAction),\n        withLatestFrom(this.store.select(selectSearchData)),\n        tap(([action, data]) =>\n          this.store.dispatch(\n            fromActions.updateSearchResultsAction({\n              query: data.query,\n              includeHardwareResults: action.includeHardwareResults,\n              collection: data.collection,\n              facets: action.facetGroups,\n              initiator: action.initiator,\n              page: data.page === 0 ? undefined : data.page,\n            })\n          )\n        )\n      ),\n    { dispatch: false }\n  );\n\n  initiateCollectionsAndTags$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.getCollectionsAndTagsAction),\n      map((args) => ({\n        facetGroup: {\n          title: 'ng.search-results-page.lbl.searchon',\n          facets: args.collections.map((collection, index) => ({\n            id: collection.value,\n            label: collection.text,\n            selected: index === 0,\n          })),\n        },\n      })),\n      map(({ facetGroup }) => fromActions.getCollectionsAndTagsSuccessAction({ collections: facetGroup }))\n    )\n  );\n\n  selectCollection$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.selectCollectionAction),\n      withLatestFrom(this.store.select(selectCollections), (action, collections) => ({ action, collections })),\n      map(({ action, collections }) => {\n        return {\n          collections: {\n            ...collections,\n            facets: collections?.facets.map((facet, i) => ({ ...facet, selected: i === action.collectionIndex })),\n          },\n          includeHardwareResults: action.includeHardwareResults,\n        };\n      }),\n      map(({ collections, includeHardwareResults }) =>\n        fromActions.selectCollectionSuccessAction({ collections, includeHardwareResults })\n      )\n    )\n  );\n\n  updateUrlAfterCollectionSelection$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(fromActions.selectCollectionSuccessAction),\n        tap((action) => {\n          this.urlService.removeURLParameters(['facets']);\n          this.urlService.replaceURLParameters([\n            { key: 'collection', value: action.collections.facets.find((f) => f.selected)?.id ?? '' },\n          ]);\n        })\n      ),\n    { dispatch: false }\n  );\n\n  fetchFacetsAfterCollectionSelection$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.selectCollectionSuccessAction),\n      withLatestFrom(this.store.select(selectInitData)),\n      map(([action, data]) =>\n        fromActions.getFacetsAction({\n          tags: data.tags,\n          collection: action.collections.facets.find((facet) => facet.selected)?.id ?? '',\n          includeHardwareResults: action.includeHardwareResults,\n          initiator: ActionInitiator.FACET_SELECT,\n        })\n      )\n    )\n  );\n\n  afterResultsSuccess$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(fromActions.updateSearchResultsSuccessAction),\n        withLatestFrom(this.store.select(featureState)),\n        tap(([action, state]) => {\n          if (action.initiator === ActionInitiator.INITIAL_SEARCH) {\n            this.analyticsService.sendSearchEvent(state, {\n              event: UnifiedSearchEvents.SEARCH,\n              strategy: AnalyticsCallFireStrategyEnum.FIRE_ON_SAME_PAGE,\n              sendOnSiteSearchResults: true,\n            });\n          } else if (action.initiator === ActionInitiator.FACET_SELECT) {\n            this.analyticsService.sendFilterEvent(state);\n          }\n        })\n      ),\n    { dispatch: false }\n  );\n\n  updateResults$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.updateSearchResultsAction),\n      mergeMap((action) =>\n        forkJoin({\n          pages: this.elasticSearchService.search(\n            action.query,\n            Type.page,\n            action.collection,\n            action.facets,\n            action.page ? { page: action.page, size: this.getPageSize(Type.page, 1) } : undefined\n          ),\n          hardware: action.includeHardwareResults\n            ? this.elasticSearchService.search(action.query, Type.hardware, action.collection, action.facets)\n            : of({}),\n          initiator: of(action.initiator),\n        })\n      ),\n      map((mergedData) =>\n        fromActions.updateSearchResultsSuccessAction({\n          contentResults: mergedData.pages,\n          hardwareResults: mergedData.hardware,\n          initiator: mergedData.initiator,\n        })\n      )\n    )\n  );\n\n  getSearchResultPage$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.getSearchResultPageAction),\n      withLatestFrom(this.store.select(selectSearchData)),\n      mergeMap(([action, data]) =>\n        forkJoin({\n          pages: this.elasticSearchService.search(\n            data.query,\n            Type.page,\n            data.collection,\n            data.facets,\n            action.resultType === Type.page\n              ? {\n                  page: action.page - 1,\n                  size: this.getPageSize(Type.page, data.totalHardware),\n                }\n              : undefined\n          ),\n          hardware: this.elasticSearchService.search(\n            data.query,\n            Type.hardware,\n            data.collection,\n            data.facets,\n            action.resultType === Type.hardware\n              ? {\n                  page: action.page - 1,\n                  size: this.getPageSize(Type.hardware, data.totalHardware),\n                }\n              : undefined\n          ),\n        })\n      ),\n      map((results) =>\n        fromActions.updateSearchResultsSuccessAction({\n          contentResults: results.pages,\n          hardwareResults: results.hardware,\n        })\n      )\n    )\n  );\n\n  updateUrlAfterSearchResultsUpdate$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(fromActions.updateSearchResultsSuccessAction),\n        tap((action) => {\n          const contentPage = action.contentResults.page?.current ?? 0;\n          const hardwarePage = action.hardwareResults.page?.current ?? 0;\n          const page = contentPage > hardwarePage ? contentPage : hardwarePage;\n          this.urlService.replaceURLParameters([{ key: 'page', value: `${page + 1}` }]);\n        })\n      ),\n    { dispatch: false }\n  );\n\n  goToResultFromResultsPage$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.goToResultFromResultsPageAction),\n      withLatestFrom(this.store.select(featureState)),\n      tap(([action, state]) => {\n        this.analyticsService.sendSearchEvent(state, {\n          event: UnifiedSearchEvents.RESULT_CLICK,\n          strategy: AnalyticsCallFireStrategyEnum.FIRE_ON_PAGE_RELOAD,\n          sendOnSiteSearchFilter: true,\n          sendOnSiteSearchResults: true,\n          searchResult: action.searchResultItem,\n        });\n      }),\n      map(([action]) =>\n        fromActions.navigateAction({\n          url: action.url,\n        })\n      )\n    )\n  );\n\n  goToResultDirectly$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.goToPageFromHeaderAction),\n      withLatestFrom(this.store.select(featureState)),\n      tap(([action, state]) => {\n        this.analyticsService.sendSearchEvent(state, {\n          event: UnifiedSearchEvents.SEARCH,\n          strategy: AnalyticsCallFireStrategyEnum.FIRE_ON_PAGE_RELOAD,\n          sendOnSiteSearchResults: false,\n        });\n        this.analyticsService.sendSearchEvent(state, {\n          event: UnifiedSearchEvents.RESULT_CLICK,\n          strategy: AnalyticsCallFireStrategyEnum.FIRE_ON_PAGE_RELOAD,\n          searchResult: action.searchResultItem,\n          sendOnSiteSearchResults: false,\n        });\n      }),\n      map(([action]) =>\n        fromActions.navigateAction({\n          url: action.url,\n        })\n      )\n    )\n  );\n\n  goToResultsPage$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.goToResultsPageAction),\n      withLatestFrom(this.store.select(featureState)),\n      map(([action]) =>\n        fromActions.navigateAction({\n          url: action.url,\n        })\n      )\n    )\n  );\n\n  navigate$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(fromActions.navigateAction),\n        tap((action) => this.urlService.redirectTo(action.url))\n      ),\n    { dispatch: false }\n  );\n\n  setQueryForInPage$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.setInPageQueryAction),\n      map((action) =>\n        fromActions.setInPageQuerySuccessAction({\n          query: action.query,\n          includeHardwareResults: action.includeHardwareResults,\n        })\n      )\n    )\n  );\n\n  updateSuggestionAfterSetQueryForInPage$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.setInPageQuerySuccessAction),\n      withLatestFrom(this.store.select(selectInPageInitData)),\n      mergeMap(([action, initData]) =>\n        this.elasticSearchService.getSuggestions(action.query, action.includeHardwareResults, initData.collection)\n      ),\n      map((suggestions) => fromActions.updateInPageSuggestionSuccessAction({ suggestions }))\n    )\n  );\n\n  selectSuggestionInPage$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(fromActions.selectSuggestionInPageAction),\n        withLatestFrom(this.store.select(selectInPageData)),\n        tap(([action]) => {\n          this.urlService.redirectTo(action.url);\n        })\n      ),\n    { dispatch: false }\n  );\n\n  navigateToInPageResults$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(fromActions.navigateToInPageResultsAction),\n        withLatestFrom(this.store.select(selectInPageData)),\n        tap(([action, inPageData]) => {\n          const url = this.buildInpageResultsUrl(\n            this.urlService.getOrigin(),\n            inPageData.initData.resultsPageUrl,\n            inPageData.initData.collection,\n            action.query\n          );\n          this.urlService.redirectTo(url);\n        })\n      ),\n    { dispatch: false }\n  );\n\n  setResultsComponentFound$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fromActions.setResultsComponentFoundAction),\n      map((action) => fromActions.setResultsComponentFoundSuccessAction({ found: action.found }))\n    )\n  );\n\n  private buildInpageResultsUrl(origin: string, resultsPageUrl: string, collection: string, query: string) {\n    const split = resultsPageUrl.split('?');\n    const path = split[0];\n    const baseUrl: string = path.startsWith('http') ? path : `${origin}${path}`;\n    const existingQueryParams = split[1] ?? '';\n    const urlSearchParams = new URLSearchParams(existingQueryParams);\n    urlSearchParams.set('q', query);\n    urlSearchParams.set('collection', collection);\n    const s = urlSearchParams.toString();\n    return `${baseUrl}?${s.replace(/\\+/g, '%20')}`;\n  }\n\n  private getPageSize(resultType: Type, totalHardware: number) {\n    if (resultType === Type.hardware) {\n      return 9;\n    }\n    return totalHardware === 0 ? 10 : 5;\n  }\n}\n","import { createFeature, createReducer, on } from '@ngrx/store';\nimport {\n  clearHeaderAction,\n  clearInPageAction,\n  getCollectionsAndTagsAction,\n  getCollectionsAndTagsSuccessAction,\n  getContentPagesSuccessAction,\n  getFacetsSuccessAction,\n  getHardwareSuccessAction,\n  getSuggestionsSuccessAction,\n  getTopResultsSuccessAction,\n  goToPageFromHeaderAction,\n  navigateToInPageResultsAction,\n  selectCollectionSuccessAction,\n  selectSuggestionInPageAction,\n  selectSuggestionItemAction,\n  setActiveCollectionSuccessAction,\n  setInPageInitDataAction,\n  setInPageQuerySuccessAction,\n  setLastUsedComponent,\n  setPageSuccessAction,\n  setQuerySuccessAction,\n  setResultsComponentFoundSuccessAction,\n  setHeaderExpandedSuccessAction,\n  updateFacetsSuccessAction,\n  updateInPageSuggestionSuccessAction,\n  updateSearchResultsAction,\n  updateSearchResultsSuccessAction,\n} from './search.actions';\nimport { defaultState } from './search.state';\nimport { SearchTypes } from '../types/search-types';\n\nexport const SEARCH_FEATURE_KEY = 'searchFeature';\n\nexport const reducer = createReducer(\n  defaultState,\n  on(setQuerySuccessAction, (state, action) => ({\n    ...state,\n    query: action.query,\n  })),\n  on(setHeaderExpandedSuccessAction, (state, action) => ({\n    ...state,\n    headerExpanded: action.expanded,\n  })),\n  on(setPageSuccessAction, (state, action) => ({\n    ...state,\n    resultsPage: {\n      ...state.resultsPage,\n      initData: {\n        ...state.resultsPage.initData,\n        page: action.page,\n      },\n    },\n  })),\n  on(getContentPagesSuccessAction, (state, action) => ({\n    ...state,\n    resultsPage: {\n      ...state.resultsPage,\n      searchResults: { ...state.resultsPage.searchResults, contentPages: action.searchResults },\n    },\n  })),\n  on(getHardwareSuccessAction, (state, action) => ({\n    ...state,\n    resultsPage: {\n      ...state.resultsPage,\n      searchResults: { ...state.resultsPage.searchResults, hardware: action.searchResults },\n    },\n  })),\n  on(goToPageFromHeaderAction, (state) => ({\n    ...state,\n    eventData: {\n      ...state.eventData,\n      queryUsed: state.query,\n    },\n  })),\n  on(getSuggestionsSuccessAction, (state, action) => ({\n    ...state,\n    header: {\n      ...state.header,\n      suggestions: action.suggestions,\n    },\n  })),\n  on(selectSuggestionItemAction, (state, action) => ({\n    ...state,\n    eventData: {\n      ...state.eventData,\n      suggestionUsed: action.byUserAction ? action.selected : undefined,\n      queryUsed: state.query,\n      searchOriginatingPageId: window.digitalData?.page.pageInfo.pageID,\n    },\n  })),\n  on(getTopResultsSuccessAction, (state, action) => ({\n    ...state,\n    header: { ...state.header, topResults: action.results },\n  })),\n  on(clearHeaderAction, (state) => ({\n    ...state,\n    eventData: {\n      ...state.eventData,\n      suggestionUsed: undefined,\n    },\n    header: {\n      ...state.header,\n      topResults: { hits: [] },\n      suggestions: { locale: '', hits: [], asYouType: [] },\n    },\n  })),\n  on(updateFacetsSuccessAction, (state, action) => ({\n    ...state,\n    resultsPage: {\n      ...state.resultsPage,\n      facetGroups: action.facetGroups,\n      initData: {\n        ...state.resultsPage.initData,\n        page: 0,\n      },\n    },\n  })),\n  on(getFacetsSuccessAction, (state, action) => ({\n    ...state,\n    resultsPage: {\n      ...state.resultsPage,\n      facetGroups: action.facetGroups,\n    },\n    initData: {\n      ...state.resultsPage.initData,\n      page: 0,\n    },\n  })),\n  on(getCollectionsAndTagsSuccessAction, (state, action) => ({\n    ...state,\n    resultsPage: {\n      ...state.resultsPage,\n      collections: {\n        ...state.resultsPage.collections,\n        title: action.collections.title,\n        facets: action.collections.facets.map((collection, index) => ({\n          id: collection.id,\n          label: collection.label,\n          selected: state.resultsPage.activeCollection\n            ? collection.id === state.resultsPage.activeCollection\n            : index === 0,\n        })),\n      },\n    },\n  })),\n  on(selectCollectionSuccessAction, (state, action) => ({\n    ...state,\n    resultsPage: {\n      ...state.resultsPage,\n      collections: action.collections,\n      activeCollection: action.collections.facets.find((facet) => facet.selected)?.id || '',\n      initData: {\n        ...state.resultsPage.initData,\n        page: 0,\n      },\n    },\n  })),\n  on(setActiveCollectionSuccessAction, (state, action) => ({\n    ...state,\n    resultsPage: {\n      ...state.resultsPage,\n      activeCollection: action.collection,\n    },\n  })),\n  on(getCollectionsAndTagsAction, (state, action) => ({\n    ...state,\n    resultsPage: {\n      ...state.resultsPage,\n      initData: {\n        ...state.resultsPage.initData,\n        collections: action.collections,\n        tags: action.tags,\n      },\n    },\n  })),\n  on(updateSearchResultsAction, (state, _) => ({\n    ...state,\n    resultsPage: {\n      ...state.resultsPage,\n      loading: true,\n    },\n  })),\n  on(updateSearchResultsSuccessAction, (state, action) => ({\n    ...state,\n    resultsPage: {\n      ...state.resultsPage,\n      searchResults: {\n        ...state.resultsPage.searchResults,\n        hardware: action.hardwareResults,\n        contentPages: action.contentResults,\n      },\n      loading: false,\n    },\n  })),\n  on(setLastUsedComponent, (state, action) => ({\n    ...state,\n    eventData: {\n      ...state.eventData,\n      lastUsedComponent: action.name,\n      searchOriginatingPageId: window.digitalData?.page.pageInfo.pageID,\n      queryUsed: state.query,\n    },\n  })),\n  on(setInPageInitDataAction, (state, action) => ({\n    ...state,\n    inPage: {\n      ...state.inPage,\n      initData: {\n        collection: action.collection,\n        resultsPageUrl: action.resultsPageUrl,\n      },\n    },\n  })),\n  on(setInPageQuerySuccessAction, (state, action) => ({\n    ...state,\n    inPage: {\n      ...state.inPage,\n      query: action.query,\n    },\n  })),\n  on(updateInPageSuggestionSuccessAction, (state, action) => ({\n    ...state,\n    inPage: {\n      ...state.inPage,\n      suggestions: action.suggestions,\n    },\n  })),\n  on(clearInPageAction, (state) => ({\n    ...state,\n    inPage: {\n      ...state.inPage,\n      suggestions: { locale: '', hits: [], asYouType: [] },\n      query: '',\n    },\n  })),\n  on(navigateToInPageResultsAction, (state) => ({\n    ...state,\n    eventData: {\n      ...state.eventData,\n      lastUsedComponent: SearchTypes.INPAGE_SEARCH,\n      searchOriginatingPageId: window.digitalData?.page.pageInfo.pageID,\n      queryUsed: state.inPage.query,\n    },\n  })),\n  on(selectSuggestionInPageAction, (state, action) => ({\n    ...state,\n    eventData: {\n      ...state.eventData,\n      lastUsedComponent: SearchTypes.INPAGE_SEARCH,\n      searchOriginatingPageId: window.digitalData?.page.pageInfo.pageID,\n      suggestionUsed: action.item,\n      queryUsed: state.inPage.query,\n    },\n  })),\n  on(setResultsComponentFoundSuccessAction, (state, action) => ({\n    ...state,\n    resultsComponentFound: action.found,\n  }))\n);\n\nexport const searchFeature = createFeature({\n  name: SEARCH_FEATURE_KEY,\n  reducer: reducer,\n});\n","import { createFeatureSelector, createSelector } from '@ngrx/store';\nimport { SearchState } from './search.state';\nimport { SEARCH_FEATURE_KEY } from './search.reducer';\n\nexport const featureState = createFeatureSelector<SearchState>(SEARCH_FEATURE_KEY);\nexport const selectSuggestions = createSelector(featureState, (state: SearchState) => state.header.suggestions);\nexport const selectTopResults = createSelector(featureState, (state: SearchState) => state.header.topResults);\nexport const selectContentPages = createSelector(featureState, (state: SearchState) => ({\n  ...state.resultsPage.searchResults.contentPages,\n  hits: state.resultsPage.searchResults.contentPages?.hits?.slice(\n    0,\n    (state.resultsPage.searchResults.hardware?.hits?.length ?? 0) === 0 ? 10 : 5\n  ),\n}));\n\nexport const selectHardware = createSelector(\n  featureState,\n  (state: SearchState) => state.resultsPage.searchResults.hardware\n);\nexport const selectResultsLoading = createSelector(featureState, (state: SearchState) => state.resultsPage.loading);\nexport const selectQuery = createSelector(featureState, (state: SearchState) => state.query);\nexport const selectHeaderExpanded = createSelector(featureState, (state: SearchState) => state.headerExpanded);\nexport const selectSearchData = createSelector(featureState, (state: SearchState) => ({\n  query: state.query,\n  collection: state.resultsPage.collections.facets.find((facet) => facet.selected)?.id ?? '',\n  facets: state.resultsPage.facetGroups.filter((group) => group.facets.find((facet) => facet.selected)),\n  tags: state.resultsPage.initData.tags,\n  totalHardware: state.resultsPage.searchResults.hardware?.page?.total ?? 0,\n  totalContentPages: state.resultsPage.searchResults.contentPages?.page?.total ?? 0,\n  page: state.resultsPage.initData.page,\n}));\nexport const selectInitData = createSelector(featureState, (state: SearchState) => state.resultsPage.initData);\nexport const selectFacetGroups = createSelector(featureState, (state: SearchState) => state.resultsPage.facetGroups);\nexport const selectCollections = createSelector(featureState, (state: SearchState) => state.resultsPage.collections);\nexport const selectActiveCollection = createSelector(\n  featureState,\n  (state: SearchState) => state.resultsPage.activeCollection\n);\nexport const selectAppliedFilters = createSelector(featureState, (state: SearchState) =>\n  [\n    state.resultsPage.collections.facets.find((facet) => facet.selected)?.label ?? '',\n    ...state.resultsPage.facetGroups.flatMap((group) =>\n      group.facets.filter((facet) => facet.selected).map((facet) => facet.label)\n    ),\n  ].filter(Boolean)\n);\n\nexport const selectNumberOfSearchResults = createSelector(\n  featureState,\n  (state: SearchState) =>\n    (state.resultsPage.searchResults.contentPages?.page?.total ?? 0) +\n    (state.resultsPage.searchResults.hardware?.page?.total ?? 0)\n);\n\nexport const selectContentPagesPagination = createSelector(featureState, (state: SearchState) => ({\n  currentPage: (state.resultsPage.searchResults.contentPages?.page?.current ?? 0) + 1,\n  totalNumberOfPages: Math.ceil(\n    (state.resultsPage.searchResults.contentPages?.page?.total ?? 0) /\n      ((state.resultsPage.searchResults.hardware?.page?.total ?? 0) === 0 ? 10 : 5)\n  ),\n}));\n\nexport const selectHardwarePagesPagination = createSelector(featureState, (state: SearchState) => ({\n  currentPage: (state.resultsPage.searchResults.hardware?.page?.current ?? 0) + 1,\n  totalNumberOfPages: Math.ceil((state.resultsPage.searchResults.hardware?.page?.total ?? 0) / 9),\n}));\n\nexport const selectInPageData = createSelector(featureState, (state: SearchState) => state.inPage);\n\nexport const selectInPageInitData = createSelector(featureState, (state: SearchState) => state.inPage.initData);\n\nexport const selectInPageSuggestions = createSelector(featureState, (state: SearchState) => state.inPage.suggestions);\n\nexport const selectInPageQuery = createSelector(featureState, (state: SearchState) => state.inPage.query);\nexport const selectResultsComponentFound = createSelector(\n  featureState,\n  (state: SearchState) => state.resultsComponentFound\n);\n","import { Suggestions } from '../entities/suggestions';\nimport { SuggestionItem } from '../entities/suggestion-item';\nimport { SearchResults } from '../entities/search-results';\nimport { Collection, FacetGroup } from '../entities/facets';\n\nexport interface SearchState {\n  query: string;\n  resultsComponentFound: boolean;\n  headerExpanded: boolean;\n  eventData: SearchEventData;\n  header: {\n    suggestions: Suggestions;\n    topResults: SearchResults;\n    selectedCollection: string;\n    resultsPageUrl: string;\n  };\n  resultsPage: {\n    searchResults: SearchResultsData;\n    initData: {\n      tags: string[];\n      collections: Collection[];\n      page: number;\n    };\n    collections: FacetGroup;\n    facetGroups: FacetGroup[];\n    activeCollection: string;\n    loading: boolean;\n  };\n  inPage: InPageData;\n}\n\nexport interface SearchEventData {\n  lastUsedComponent: string;\n  queryUsed: string | undefined;\n  suggestionUsed: SuggestionItem | undefined;\n  searchOriginatingPageId: string | undefined;\n}\n\nexport interface SearchResultsData {\n  contentPages?: SearchResults;\n  hardware?: SearchResults;\n}\n\nexport interface InPageData {\n  initData: {\n    collection: string;\n    resultsPageUrl: string;\n  };\n  query: string;\n  selectedSuggestion?: SuggestionItem;\n  suggestions: Suggestions;\n}\n\nexport const defaultState: SearchState = {\n  query: '',\n  resultsComponentFound: false,\n  headerExpanded: false,\n  eventData: {\n    lastUsedComponent: '',\n    queryUsed: undefined,\n    suggestionUsed: undefined,\n    searchOriginatingPageId: undefined,\n  },\n  header: {\n    suggestions: { locale: '', hits: [], asYouType: [] } as Suggestions,\n    topResults: { hits: [] } as SearchResults,\n    selectedCollection: '',\n    resultsPageUrl: '',\n  },\n  resultsPage: {\n    searchResults: {\n      contentPages: {} as SearchResults,\n      hardware: { hits: [] } as SearchResults,\n    },\n    initData: {\n      collections: [],\n      tags: [],\n      page: 0,\n    },\n    collections: {\n      title: '',\n      facets: [],\n    },\n    facetGroups: [],\n    activeCollection: '',\n    loading: true,\n  },\n  inPage: {\n    initData: {\n      collection: '',\n      resultsPageUrl: '',\n    },\n    query: '',\n    selectedSuggestion: undefined,\n    suggestions: {\n      locale: '',\n      hits: [],\n      asYouType: [],\n    },\n  },\n};\n","import { BadgeColor } from '../types/badge-color';\n\nexport interface Badge {\n  label: string;\n  color: BadgeColor;\n}\n","export interface Facet {\n  id: string;\n  label: string;\n  count?: number;\n  selected: boolean;\n}\n\nexport interface FacetGroup {\n  title: string;\n  facets: Facet[];\n}\n\nexport interface Tag {\n  id: string;\n  name: string;\n  items: TagItem[];\n}\nexport interface TagItem {\n  value: string;\n  count: number;\n}\n\nexport interface Collection {\n  value: string;\n  text: string;\n}\n","export interface ProductPlan {\n  product: {\n    labelkey: string;\n  };\n}\n","export interface Product {\n  id: string;\n  brand: string;\n  color: string[];\n  image: string;\n  originalPrice: number;\n  discountedPrice: number;\n  discountedPriceAfterCashback: number;\n  tags: string[];\n  plan: string;\n}\n","import { Product } from './product';\nimport { Tag } from './tag';\n\nexport interface SearchResultItem {\n  url: string;\n  displayUrl: string;\n  content: string;\n  type: string;\n  name: string;\n  product: Product;\n  tags: Tag[];\n  id: string;\n}\n","import { SearchResultItem } from './search-result-item';\n\nexport interface SearchResults {\n  hits?: SearchResultItem[];\n  keymatches?: SearchResultItem[];\n  page?: Page;\n  locale?: string;\n  didYouMean?: string[];\n}\n\nexport interface Page {\n  size: number;\n  current: number;\n  total: number;\n}\n","export interface SuggestionItem {\n  text: string;\n  highlight: string;\n}\n","import { SuggestionItem } from './suggestion-item';\n\nexport interface Suggestions {\n  locale: string;\n  hits: SuggestionItem[];\n  asYouType: SuggestionItem[];\n}\n","import { inject, Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { first, map, tap } from 'rxjs/operators';\nimport { SearchApiServiceProvider } from '../services/search-api-service.provider';\nimport { ElasticSearchServiceInterface, Type } from '../services/elastic-search-service.interface';\nimport { UrlService } from '@telenet/ng-lib-page';\nimport { Store } from '@ngrx/store';\nimport {\n  selectAppliedFilters,\n  selectCollections,\n  selectContentPages,\n  selectContentPagesPagination,\n  selectFacetGroups,\n  selectHardware,\n  selectHardwarePagesPagination,\n  selectHeaderExpanded,\n  selectInPageInitData,\n  selectInPageQuery,\n  selectInPageSuggestions,\n  selectNumberOfSearchResults,\n  selectQuery,\n  selectResultsComponentFound,\n  selectResultsLoading,\n  selectSuggestions,\n  selectTopResults,\n} from '../+state/search.selectors';\nimport {\n  clearFacetsAction,\n  clearHeaderAction,\n  clearInPageAction,\n  getCollectionsAndTagsAction,\n  getFacetsAction,\n  getSearchResultPageAction,\n  getSuggestionsAction,\n  goToPageFromHeaderAction,\n  goToResultFromResultsPageAction,\n  goToResultsPageAction,\n  navigateToInPageResultsAction,\n  selectCollectionAction,\n  selectFacetAction,\n  selectSuggestionInPageAction,\n  selectSuggestionItemAction,\n  setActiveCollectionAction,\n  setHeaderExpandedAction,\n  setInPageInitDataAction,\n  setInPageQueryAction,\n  setLastUsedComponent,\n  setPageAction,\n  setQueryAction,\n  setResultsComponentFoundAction,\n} from '../+state/search.actions';\nimport { SearchState } from '../+state/search.state';\nimport { SuggestionItem } from '../entities/suggestion-item';\nimport { Collection } from '../entities/facets';\nimport { ActionInitiator } from '../types/action-initiator';\nimport { SearchResultItem } from '../entities/search-result-item';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SearchFacadeService {\n  readonly store: Store<SearchState> = inject(Store<SearchState>);\n\n  readonly #elasticSearchService: ElasticSearchServiceInterface;\n\n  public readonly query$ = this.store.select(selectQuery);\n  public readonly suggestions$ = this.store.select(selectSuggestions);\n  public readonly headerExpanded$ = this.store.select(selectHeaderExpanded);\n  public readonly topResults$ = this.store.select(selectTopResults);\n  public readonly contentPages$ = this.store.select(selectContentPages);\n  public readonly hardware$ = this.store.select(selectHardware);\n  public readonly resultsLoading$ = this.store.select(selectResultsLoading);\n  public readonly facetsGroups$ = this.store.select(selectFacetGroups);\n  public readonly collections$ = this.store.select(selectCollections);\n  public readonly appliedFilters$ = this.store.select(selectAppliedFilters);\n  public readonly numberOfSearchResults$ = this.store.select(selectNumberOfSearchResults);\n  public readonly contentPagesPagination$ = this.store.select(selectContentPagesPagination);\n  public readonly hardwarePagesPagination$ = this.store.select(selectHardwarePagesPagination);\n  public readonly inPageSuggestions$ = this.store.select(selectInPageSuggestions);\n  public readonly inPageQuery$ = this.store.select(selectInPageQuery);\n  public readonly resultsComponentFound$ = this.store.select(selectResultsComponentFound);\n\n  constructor(\n    private readonly serviceProvider: SearchApiServiceProvider,\n    private readonly urlService: UrlService\n  ) {\n    this.#elasticSearchService = this.serviceProvider.getService();\n  }\n\n  setResultsComponentFound(found: boolean) {\n    this.store.dispatch(setResultsComponentFoundAction({ found: found }));\n  }\n\n  setQuery(query: string) {\n    this.store.dispatch(setQueryAction({ query: query }));\n  }\n\n  setCollection(collection: string) {\n    this.store.dispatch(setActiveCollectionAction({ collection: collection }));\n  }\n\n  initialSearch(collections: Collection[], tags: string[], includeHardwareResults: boolean) {\n    this.store.dispatch(getCollectionsAndTagsAction({ collections, tags }));\n    this.store.dispatch(\n      getFacetsAction({\n        collection: collections[0].value,\n        tags,\n        includeHardwareResults,\n        initiator: ActionInitiator.INITIAL_SEARCH,\n      })\n    );\n  }\n\n  searchSuggestions(query: string, suggestionsFieldName: string, includeHardwareResults: boolean) {\n    this.store.dispatch(getSuggestionsAction({ query, suggestionsFieldName, includeHardwareResults }));\n  }\n\n  selectSuggestion(selected: SuggestionItem) {\n    this.store.dispatch(selectSuggestionItemAction({ selected: selected, byUserAction: true }));\n  }\n\n  clearHeader() {\n    this.store.dispatch(clearHeaderAction());\n  }\n\n  selectFacet(groupIndex: number, facetIndex: number, includeHardwareResults: boolean) {\n    this.store.dispatch(selectFacetAction({ groupIndex, facetIndex, includeHardwareResults }));\n  }\n  clearFacets(includeHardwareResults: boolean) {\n    this.store.dispatch(clearFacetsAction({ includeHardwareResults }));\n  }\n\n  selectCollection(collectionIndex: number, includeHardwareResults: boolean) {\n    this.store.dispatch(selectCollectionAction({ collectionIndex, includeHardwareResults }));\n  }\n\n  selectContentPagesPage(page: number) {\n    this.store.dispatch(getSearchResultPageAction({ page, resultType: Type.page }));\n  }\n\n  selectHardwarePage(page: number) {\n    this.store.dispatch(getSearchResultPageAction({ page, resultType: Type.hardware }));\n  }\n\n  setInputParameters(searchResultsCollection: string, searchResultsPage: string, brand: string, language: string) {\n    this.#elasticSearchService.setInputParameters(searchResultsCollection, searchResultsPage, brand, language);\n  }\n\n  getSearchResultsCollection = () => this.#elasticSearchService.getSearchResultsCollection();\n  getSearchResultsPage = () => this.#elasticSearchService.getSearchResultsPage();\n\n  getSearchResultsPageUrl(query?: string): Observable<string> {\n    if (query) {\n      return of(this.getPathWithQueryParams(this.getSearchResultsPage(), this.getSearchResultsCollection(), query));\n    }\n    return this.store\n      .select(selectQuery)\n      .pipe(\n        map((query) =>\n          this.getPathWithQueryParams(this.getSearchResultsPage(), this.getSearchResultsCollection(), query)\n        )\n      );\n  }\n\n  postClick(searchResultId: string, brand: string, locale: string) {\n    this.#elasticSearchService.postClick(searchResultId, brand, locale);\n  }\n\n  private getPathWithQueryParams(resultsPageUrl: string, collection: string, query: string) {\n    const split = resultsPageUrl.split('?');\n    const path = split[0];\n    const baseUrl: string = path.startsWith('http') ? path : `${this.urlService.getOrigin()}${path}`;\n    const existingQueryParams = split[1] ?? '';\n    const urlSearchParams = new URLSearchParams(existingQueryParams);\n    urlSearchParams.set('q', query);\n    urlSearchParams.set('collection', collection);\n\n    const s = urlSearchParams.toString();\n    return `${baseUrl}?${s.replaceAll('+', '%20')}`;\n  }\n\n  goToResultsPage(url: string) {\n    this.store.dispatch(goToResultsPageAction({ url }));\n  }\n\n  goToResult(url: string, searchResultItem: SearchResultItem) {\n    this.store.dispatch(goToPageFromHeaderAction({ url, searchResultItem }));\n  }\n\n  goToResultFromResultsPage(url: string, searchResultItem: SearchResultItem) {\n    this.store.dispatch(goToResultFromResultsPageAction({ url, searchResultItem }));\n  }\n\n  setLastUsedComponent(componentName: string) {\n    this.store.dispatch(setLastUsedComponent({ name: componentName }));\n  }\n\n  initInPage(collection: string, resultsPageUrl: string) {\n    this.store.dispatch(setInPageInitDataAction({ collection, resultsPageUrl }));\n  }\n\n  setQueryForInPage(query: string, includeHardwareResults: boolean) {\n    this.store.dispatch(setInPageQueryAction({ query, includeHardwareResults }));\n  }\n\n  clearInPage() {\n    this.store.dispatch(clearInPageAction());\n  }\n\n  selectSuggestionInPage(item: SuggestionItem, urlToNavigateTo: string) {\n    this.store.dispatch(selectSuggestionInPageAction({ item, url: urlToNavigateTo }));\n  }\n\n  getSearchResultsPageForInPage(query: string) {\n    return this.store\n      .select(selectInPageInitData)\n      .pipe(map((data) => this.getPathWithQueryParams(data.resultsPageUrl, data.collection, query)));\n  }\n\n  navigateToInPageResults(query: string) {\n    this.store.dispatch(navigateToInPageResultsAction({ query }));\n  }\n\n  setPage(page: number) {\n    this.store.dispatch(setPageAction({ page: page - 1 }));\n  }\n\n  getResultsComponentFound() {\n    return this.resultsComponentFound$;\n  }\n\n  redirectOrUpdateSearchResultsPage(url: string, includeHardwareResults: boolean) {\n    return this.getResultsComponentFound().pipe(\n      first(),\n      tap((found) => {\n        if (found) {\n          this.clearFacets(includeHardwareResults);\n          const params = this.urlService.getParameters(url);\n          for (const [key, value] of params) {\n            this.urlService.replaceURLParameters([{ key, value }]);\n          }\n        } else if (url) {\n          this.goToResultsPage(url);\n        }\n      })\n    );\n  }\n\n  setHeaderExpanded(headerExpanded: boolean) {\n    this.store.dispatch(setHeaderExpandedAction({ expanded: headerExpanded }));\n  }\n\n  getHeaderExpanded() {\n    return this.headerExpanded$;\n  }\n\n  getBrand() {\n    return this.#elasticSearchService.getBrand();\n  }\n\n  getLanguage() {\n    return this.#elasticSearchService.getLanguage();\n  }\n}\n","export * from './facade/search-facade.service';\nexport * from './keyboard-navigation.directive';\nexport * from './services/keyboard-navigation.service';\n\nexport * from './services/search-api-service.provider';\nexport * from './services/elastic-search.service';\nexport * from './services/hardware-plan.service';\n\nexport * from './types/badge-color';\nexport * from './types/search-types';\n\nexport * from './entities/suggestions';\nexport * from './entities/suggestion-item';\nexport * from './entities/search-results';\nexport * from './entities/search-result-item';\nexport * from './entities/badge';\nexport * from './entities/product';\nexport * from './entities/facets';\nexport * from './entities/product-plan';\n\nexport * from './+state/search-ngrx.module';\nexport * from './+state/search.actions';\nexport * from './+state/search.effects';\nexport * from './+state/search.reducer';\nexport * from './+state/search.selectors';\nexport * from './+state/search.state';\n\nexport * from './providers';\n","import { AfterViewChecked, Directive, ElementRef, HostListener, Input } from '@angular/core';\nimport { KeyboardNavigationService } from './services/keyboard-navigation.service';\nimport { Suggestions } from './entities/suggestions';\n\n@Directive({\n  selector: '[tgFoundationGeneralSearchKeyboardNavigationDirective]',\n  standalone: true,\n})\nexport class KeyboardNavigationDirective implements AfterViewChecked {\n  private wrapper: HTMLElement;\n  private focusedList: HTMLElement;\n  private focusedElement: HTMLElement;\n  private downKeyPressCount = 0; // Add this counter to your component\n  private readonly ARROW_UP = 'ArrowUp';\n  private readonly ARROW_DOWN = 'ArrowDown';\n  private readonly TAB = 'Tab';\n\n  @Input() suggestions!: Suggestions;\n  @Input() suggestionsFieldName!: string;\n\n  constructor(\n    private readonly el: ElementRef,\n    private readonly keyboardNavigationService: KeyboardNavigationService\n  ) {}\n\n  ngAfterViewChecked() {\n    this.wrapper = this.el.nativeElement;\n    this.focusedList = this.keyboardNavigationService.getFocusedList() ?? (this.wrapper.firstChild as HTMLElement);\n    this.focusedElement =\n      this.keyboardNavigationService.getFocusedElement() ?? (this.focusedList.querySelector('li') as HTMLElement);\n  }\n\n  @HostListener('window:keydown', ['$event'])\n  handleKeyboardEvent(event: KeyboardEvent) {\n    this.handleTab(event);\n    this.handleArrowKeys(event);\n  }\n\n  private handleTab(event: KeyboardEvent) {\n    if (event.key === this.TAB) {\n      event.preventDefault();\n\n      const currentIndex = Array.from(this.wrapper.children).indexOf(this.focusedList);\n      const nextIndex = (currentIndex + 1) % this.wrapper.children.length;\n      this.keyboardNavigationService.setFocusedList(this.wrapper.children[nextIndex] as HTMLElement);\n      this.keyboardNavigationService.setFocusedElement(this.wrapper.children[nextIndex].querySelector('li'));\n    }\n  }\n\n  private handleArrowKeys(event: KeyboardEvent) {\n    if (event.key === this.ARROW_UP || event.key === this.ARROW_DOWN) {\n      event.preventDefault();\n\n      const listItems = this.focusedList?.querySelectorAll('li');\n      const currentIndex = Array.from(listItems).indexOf(this.focusedElement as HTMLLIElement);\n      let nextIndex = currentIndex;\n\n      if (event.key === this.ARROW_UP) {\n        nextIndex = (currentIndex - 1 + listItems.length) % listItems.length;\n      } else if (event.key === this.ARROW_DOWN) {\n        if (this.downKeyPressCount >= 1) {\n          nextIndex = (currentIndex + 1) % listItems.length;\n        } else {\n          this.downKeyPressCount++;\n        }\n      }\n\n      const nextElement = listItems[nextIndex] as HTMLElement;\n\n      if (nextElement) {\n        this.keyboardNavigationService.setFocusedElement(nextElement);\n      }\n    }\n  }\n}\n","import { importProvidersFrom } from '@angular/core';\nimport { EffectsModule } from '@ngrx/effects';\nimport { StoreModule } from '@ngrx/store';\nimport { SearchEffects } from './+state/search.effects';\nimport { searchFeature } from './+state/search.reducer';\n\nexport function provideSearchDomain() {\n  return [\n    importProvidersFrom(StoreModule.forFeature(searchFeature)),\n    importProvidersFrom(EffectsModule.forFeature([SearchEffects])),\n  ];\n}\n","import { Inject, inject, Injectable } from '@angular/core';\nimport { AnalyticsCallFireStrategyEnum } from 'udl';\nimport { DataLayerAttributes, DataLayerService } from '@telenet/ng-lib-datalayer';\nimport { SearchResultsData, SearchState } from '../+state/search.state';\nimport { EventInfo, UnifiedSearchEvents } from '../types/analytics-eventinfo';\nimport { FacetGroup } from '../entities/facets';\nimport { SearchResultItem } from '../entities/search-result-item';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AnalyticsService {\n  private readonly datalayerService: DataLayerService = inject(DataLayerService);\n\n  constructor(@Inject('Window') private readonly window: Window) {}\n\n  private isBusinessPage(pagePath: string): boolean {\n    const pattern = /business\\/(en|nl|fr)/;\n    return pattern.test(pagePath);\n  }\n\n  private createPageID(pagePath: string) {\n    let path = pagePath;\n    if (pagePath && pagePath.startsWith('http')) {\n      path = new URL(pagePath).pathname;\n    }\n    if (path.startsWith('/content')) {\n      path = path.split('/').slice(4).join('/');\n    }\n\n    if (this.isBusinessPage(pagePath)) {\n      return `business/${path}`;\n    }\n    return path;\n  }\n\n  private getHitsFromResults(searchResults: SearchResultsData) {\n    return [...(searchResults.contentPages?.hits || []), ...(searchResults.hardware?.hits || [])];\n  }\n\n  private getContentId(searchResult: SearchResultItem) {\n    if (searchResult.type === 'page') {\n      return this.createPageID(searchResult.url);\n    } else if (searchResult.type === 'product') {\n      return searchResult.name;\n    }\n    return undefined;\n  }\n\n  getContentIds(searchResults: SearchResultsData) {\n    const hits = this.getHitsFromResults(searchResults);\n    return hits?.map((hit) => this.getContentId(hit)).filter((_) => !!_) || [];\n  }\n\n  private getLastSuggestionClicked(searchState: SearchState) {\n    if (searchState.eventData.suggestionUsed) {\n      return searchState.eventData.suggestionUsed?.text;\n    }\n    return 'No suggestion clicked';\n  }\n\n  private getTotalHits(searchResults: SearchResultsData): string | undefined {\n    const contentPagesTotal = searchResults.contentPages?.page?.total;\n    const hardwareTotal = searchResults.hardware?.page?.total;\n\n    if (contentPagesTotal === undefined && hardwareTotal === undefined) {\n      return undefined;\n    }\n\n    const total = (contentPagesTotal ?? 0) + (hardwareTotal ?? 0);\n    return total.toString();\n  }\n\n  private getSearchAttributesFromState(searchState: SearchState): DataLayerAttributes {\n    return {\n      itemName: searchState.eventData.lastUsedComponent,\n      onsiteSearchTerm: searchState.eventData.queryUsed,\n      onsiteSearchOrigination:\n        searchState.eventData.searchOriginatingPageId || this.window.digitalData?.page.pageInfo.pageID,\n      itemData: this.getLastSuggestionClicked(searchState),\n    };\n  }\n\n  sendSearchEvent(searchState: SearchState, eventInfoData: EventInfo) {\n    const eventInfo = this.datalayerService.createEventInfo(eventInfoData.event.name, eventInfoData.event.type);\n    const attributes: DataLayerAttributes = this.getSearchAttributesFromState(searchState);\n\n    if (eventInfoData.sendOnSiteSearchFilter) {\n      attributes.onsiteSearchFilter = this.createFilterString(\n        searchState.resultsPage.facetGroups,\n        searchState.resultsPage.collections\n      );\n    }\n\n    if (eventInfoData.sendOnSiteSearchResults) {\n      attributes.onsiteSearchResults = this.getTotalHits(searchState.resultsPage.searchResults) || '';\n      attributes.onsiteSearchResultsID = this.getContentIds(searchState.resultsPage.searchResults).join(',');\n    }\n\n    if (eventInfoData.searchResult) {\n      attributes.cardId = this.getContentId(eventInfoData.searchResult);\n    }\n\n    this.datalayerService.sendEvent({\n      eventInfo,\n      attributes,\n      strategy: eventInfoData.strategy,\n    });\n  }\n\n  private hasFacetsSelected(facetGroup: FacetGroup) {\n    return facetGroup.facets.some((facet) => facet.selected);\n  }\n\n  private createFilterString(facetGroups: FacetGroup[], collections: FacetGroup): string {\n    const facets = facetGroups\n      .filter(this.hasFacetsSelected)\n      .map(\n        (group) =>\n          group.title +\n          ':' +\n          group.facets\n            .filter((facet) => facet.selected)\n            .map((facet) => facet.id)\n            .join(',')\n      )\n      .join('|');\n    const activeCollection = 'search-on:' + collections.facets.find((facet) => facet.selected)?.id;\n    if (!facets) {\n      return activeCollection;\n    }\n    return `${activeCollection}|${facets}`;\n  }\n\n  sendFilterEvent(searchState: SearchState) {\n    this.sendSearchEvent(searchState, {\n      event: UnifiedSearchEvents.FILTER,\n      sendOnSiteSearchFilter: true,\n      sendOnSiteSearchResults: true,\n      strategy: AnalyticsCallFireStrategyEnum.FIRE_ON_SAME_PAGE,\n    });\n  }\n}\n","import { Observable } from 'rxjs';\nimport { Suggestions } from '../entities/suggestions';\nimport { SearchResults } from '../entities/search-results';\nimport { FacetGroup } from '../entities/facets';\n\nexport enum Type {\n  hardware = 'product',\n  page = 'page',\n}\n\nexport interface Pagination {\n  page: number;\n  size: number;\n}\n\nexport interface ElasticSearchServiceInterface {\n  search(\n    query: string,\n    type: Type,\n    collection?: string,\n    facets?: FacetGroup[],\n    pagination?: Pagination\n  ): Observable<SearchResults>;\n\n  setInputParameters(searchResultsCollection: string, searchResultsPage: string, brand: string, language: string): void;\n\n  postClick(searchResultId: string, brand: string, locale: string): void;\n\n  getSuggestions(searchQuery: string, includeHardwareResults: boolean, collection?: string): Observable<Suggestions>;\n\n  getTopResults(suggestion: string): Observable<SearchResults>;\n\n  getSearchResultsCollection(): string;\n\n  getSearchResultsPage(): string;\n\n  getFacets(\n    query: string,\n    collection: string,\n    tags: string[],\n    includeHardwareResults: boolean,\n    facets?: FacetGroup[]\n  ): Observable<FacetGroup[]>;\n\n  getBrand(): string;\n\n  getLanguage(): string;\n}\n","import { Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { Suggestions } from '../entities/suggestions';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { ElasticSearchServiceInterface, Pagination, Type } from './elastic-search-service.interface';\nimport { SearchResults } from '../entities/search-results';\nimport { FacetGroup, Tag } from '../entities/facets';\n\nexport class ElasticSearchService implements ElasticSearchServiceInterface {\n  private readonly options = {\n    headers: new HttpHeaders().set('Content-Type', 'application/json'),\n  };\n\n  #searchResultsCollection = '';\n  #searchResultsPage = '';\n  #brand = '';\n  #language = '';\n\n  constructor(\n    private readonly http: HttpClient,\n    readonly searchApiUrl: string = 'url'\n  ) {}\n\n  setInputParameters(\n    searchResultsCollection: string,\n    searchResultsPage: string,\n    brand: string,\n    language: string\n  ): void {\n    this.#searchResultsCollection = searchResultsCollection ? searchResultsCollection : this.#searchResultsCollection;\n    this.#searchResultsPage = searchResultsPage ? searchResultsPage : this.#searchResultsPage;\n    this.#brand = brand;\n    this.#language = language;\n  }\n\n  search(query: string, type: Type, collection?: string, facets?: FacetGroup[], pagination?: Pagination) {\n    const document = this.buildSearchDocument(\n      query,\n      [type],\n      pagination ? pagination.size : this.getPageSize(type),\n      collection,\n      facets,\n      pagination ? pagination.page : 0\n    );\n    return this.http.post(`${this.searchApiUrl}/search`, document, this.options).pipe(\n      catchError((error: unknown) => {\n        return of(error);\n      }),\n      map((result) => result as SearchResults)\n    );\n  }\n\n  postClick(searchResultId: string, brand: string, locale: string) {\n    this.http.post(`${this.searchApiUrl}/clicks/${searchResultId}/${brand}/${locale}`, {}, this.options).subscribe();\n    sessionStorage.removeItem('searchResultId');\n  }\n\n  getSuggestions(searchQuery: string, includeHardwareResults: boolean, collection?: string): Observable<Suggestions> {\n    const document = this.buildSuggestionsDocument(searchQuery, includeHardwareResults, collection);\n    return this.http.post(`${this.searchApiUrl}/suggestions`, document, this.options).pipe(\n      catchError((error: unknown) => {\n        return of(error);\n      }),\n      map((result) => result as Suggestions)\n    );\n  }\n\n  getTopResults(suggestion: string): Observable<SearchResults> {\n    const document = this.buildSearchDocument(suggestion, [Type.page, Type.hardware], 5);\n    return this.http.post(`${this.searchApiUrl}/search`, document, this.options).pipe(\n      catchError((error: unknown) => {\n        return of(error);\n      }),\n      map((result) => result as SearchResults)\n    );\n  }\n\n  getFacets(\n    query: string,\n    collection: string,\n    tags: string[],\n    includeHardwareResults: boolean,\n    facets?: FacetGroup[]\n  ): Observable<FacetGroup[]> {\n    const req = this.buildFacetsDocument(query, tags, collection, includeHardwareResults, facets);\n    const facetNames = tags.map((t) => `tags.${t}`);\n    return this.http.post(`${this.searchApiUrl}/facets`, req, this.options).pipe(\n      catchError((error: unknown) => {\n        return of(error);\n      }),\n      map((result) => result as Tag[]),\n      map((tags) =>\n        tags\n          .filter((tag) => tag.items.length > 0)\n          .map(\n            (tag) =>\n              ({\n                title: tag.name,\n                facets: tag.items.map((item) => ({\n                  id: item.value,\n                  label: `${tag.id}.${item.value.replace('/', '.')}`,\n                  count: item.count,\n                  selected: this.isFacetSelected(tag.name, item.value, facets),\n                })),\n              }) as FacetGroup\n          )\n          .sort((a, b) => {\n            const indexA = facetNames.indexOf(a.title) !== -1 ? facetNames.indexOf(a.title) : Number.MAX_VALUE;\n            const indexB = facetNames.indexOf(b.title) !== -1 ? facetNames.indexOf(b.title) : Number.MAX_VALUE;\n            return indexA < indexB ? -1 : 1;\n          })\n      )\n    );\n  }\n\n  private isFacetSelected(tagName: string, tagItemName: string, facets?: FacetGroup[]) {\n    return (\n      facets?.find((group) => group.title === tagName)?.facets.find((facet) => facet.id === tagItemName)?.selected ??\n      false\n    );\n  }\n\n  private buildFacetsDocument(\n    query: string,\n    tags: string[],\n    collection: string,\n    includeHardwareResults: boolean,\n    facets?: FacetGroup[]\n  ) {\n    return {\n      brand: this.#brand,\n      query: query,\n      facets: tags.map((tag) => ({ value: 'tags.' + tag })),\n      filters: this.getFilters(includeHardwareResults ? [Type.page, Type.hardware] : [Type.page], collection, facets),\n      locale: this.#language,\n      page: 0,\n      size: 100,\n    };\n  }\n\n  getSearchResultsCollection = () => this.#searchResultsCollection;\n  getSearchResultsPage = () => this.#searchResultsPage;\n  getLanguage = () => this.#language;\n  getBrand = () => this.#brand;\n\n  private buildSuggestionsDocument(query: string, includeHardwareResults?: boolean, collection?: string) {\n    return {\n      locale: this.#language,\n      brand: this.#brand,\n      query: query,\n      blacklist: true,\n      size: 5,\n      page: 0,\n      filters: this.getFilters(includeHardwareResults ? [Type.page, Type.hardware] : [Type.page], collection),\n    };\n  }\n\n  private buildSearchDocument(\n    query: string,\n    types: Type[],\n    size = 5,\n    collection?: string,\n    facets?: FacetGroup[],\n    page = 0\n  ) {\n    return {\n      query: query,\n      searchFields: ['name', 'content', 'tags'],\n      filters: this.getFilters(types, collection, facets),\n      locale: this.#language,\n      brand: this.#brand,\n      size: size,\n      resultFields: [\n        {\n          value: 'id',\n        },\n        {\n          value: 'url',\n        },\n        {\n          value: 'name',\n        },\n        {\n          value: 'content',\n          snippetSize: 200,\n        },\n        {\n          value: 'tags',\n        },\n        {\n          value: 'type',\n        },\n      ],\n      highlight: true,\n      keymatches: true,\n      page: page,\n      sortByPopularity: true,\n    };\n  }\n\n  private getFilters(types: Type[], collection?: string, facets?: FacetGroup[]) {\n    const filters = facets\n      ? facets\n          .map((group) => ({\n            name: group.title,\n            values: group.facets.filter((facet) => facet.selected).map((facet) => facet.id),\n          }))\n          .filter((filter) => filter.values.length !== 0)\n      : [];\n    return {\n      logicalFiltersOperator: 'AND',\n      logicalFilters: [\n        {\n          queryValueFilters: [\n            ...filters,\n            {\n              name: 'type',\n              values: types,\n            },\n            { name: 'collection.id', values: [collection ? collection : this.#searchResultsCollection] },\n          ],\n          queryRangeFilters: [],\n        },\n      ],\n    };\n  }\n\n  private getPageSize(type: Type) {\n    return type === Type.page ? 10 : 9;\n  }\n}\n","/* eslint-disable rxjs/no-internal */\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { ProductPlan } from '../entities/product-plan';\nimport { Observable } from 'rxjs';\nimport { lastValueFrom } from 'rxjs/internal/lastValueFrom';\nimport { from } from 'rxjs/internal/observable/from';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class HardwarePlanService {\n  readonly cache = new Map<string, Promise<ProductPlan>>();\n\n  constructor(readonly http: HttpClient) {}\n\n  getHardwarePlan(url: string): Observable<ProductPlan> {\n    if (!this.cache.has(url)) {\n      this.cache.set(url, lastValueFrom(this.http.get<ProductPlan>(url)));\n    }\n\n    return from(this.cache.get(url) as Promise<ProductPlan>);\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class KeyboardNavigationService {\n  private focusedList: HTMLElement | null = null;\n  private focusedElement: HTMLElement | null = null;\n\n  setFocusedList(element: HTMLElement | null) {\n    this.focusedList = element;\n  }\n\n  getFocusedList(): HTMLElement | null {\n    return this.focusedList;\n  }\n\n  setFocusedElement(element: HTMLElement | null) {\n    this.focusedElement = element;\n    this.focusedElement?.querySelector('a')?.focus();\n  }\n\n  getFocusedElement(): HTMLElement | null {\n    return this.focusedElement;\n  }\n}\n","import { Observable, of } from 'rxjs';\nimport { ElasticSearchServiceInterface, Pagination, Type } from './elastic-search-service.interface';\nimport { Suggestions } from '../entities/suggestions';\nimport { Log, LogFactory } from '@telenet/ng-lib-shared';\nimport { SearchResults } from '../entities/search-results';\nimport { FacetGroup } from '../entities/facets';\nimport { Product } from '../entities/product';\n\nexport class MockElasticSearchService implements ElasticSearchServiceInterface {\n  private static readonly LOG: Log = LogFactory.createLogger(MockElasticSearchService);\n\n  private _searchResultsCollection = '';\n  private _searchResultsPage = '';\n  private _brand = '';\n  private _language = '';\n\n  search(\n    query: string,\n    type: Type,\n    collection?: string,\n    facets?: FacetGroup[],\n    pagination?: Pagination\n  ): Observable<SearchResults> {\n    MockElasticSearchService.LOG.logInfo(\n      `SearchQuery is ${query} and type is ${type} and collection is ${collection} and facets are ${facets} and pagination is ${pagination} and brand is ${this._brand} and language is ${this._language}`\n    );\n    return of({} as SearchResults);\n  }\n\n  getSuggestions(searchQuery: string, includeHardwareResults: boolean, collection?: string): Observable<Suggestions> {\n    MockElasticSearchService.LOG.logInfo(\n      `SearchQuery is ${searchQuery}, includeHardwareResults: ${includeHardwareResults}, Collection: ${collection}`\n    );\n\n    return of(this.buildMockSuggestions()) as Observable<Suggestions>;\n  }\n\n  getTopResults(suggestion: string): Observable<SearchResults> {\n    MockElasticSearchService.LOG.logInfo(`SearchQuery is ${suggestion}`);\n\n    return of(this.buildMockResults()) as Observable<SearchResults>;\n  }\n\n  getFacets(query: string, collection: string, tags: string[]): Observable<FacetGroup[]> {\n    MockElasticSearchService.LOG.logInfo(`Facets for query: ${query} collection: ${collection} tags: ${tags}`);\n\n    return of(this.buildMockTags());\n  }\n\n  buildMockTags(): FacetGroup[] {\n    return [\n      {\n        title: 'tags.subject',\n        facets: [\n          {\n            id: 'tv-and-entertainment',\n            label: 'tags.subject.tv-and-entertainment',\n            count: 22,\n            selected: false,\n          },\n          {\n            id: 'bill',\n            label: 'tags.subject.bill',\n            count: 22,\n            selected: false,\n          },\n          {\n            id: 'mobile-and-fixed',\n            label: 'tags.subject.mobile-and-fixed',\n            count: 22,\n            selected: false,\n          },\n          {\n            id: 'internet',\n            label: 'tags.subject.internet',\n            count: 17,\n            selected: false,\n          },\n          {\n            id: 'change-your-information',\n            label: 'tags.subject.change-your-information',\n            count: 7,\n            selected: false,\n          },\n          {\n            id: 'interruptions',\n            label: 'tags.subject.interruptions',\n            count: 3,\n            selected: false,\n          },\n          {\n            id: 'general',\n            label: 'tags.subject.general',\n            count: 1,\n            selected: false,\n          },\n        ],\n      },\n      {\n        title: 'tags.category',\n        facets: [\n          {\n            id: 'devices',\n            label: 'tags.category.devices',\n            count: 373,\n            selected: false,\n          },\n          {\n            id: 'support',\n            label: 'tags.category.support',\n            count: 87,\n            selected: false,\n          },\n          {\n            id: 'products',\n            label: 'tags.category.products',\n            count: 9,\n            selected: false,\n          },\n          {\n            id: 'my-services',\n            label: 'tags.category.my-services',\n            count: 3,\n            selected: false,\n          },\n          {\n            id: 'inspiration',\n            label: 'tags.category.inspiration',\n            count: 1,\n            selected: false,\n          },\n        ],\n      },\n      {\n        title: 'tags.type',\n        facets: [],\n      },\n    ];\n  }\n\n  setInputParameters(\n    searchResultsCollection: string,\n    searchResultsPage: string,\n    brand: string,\n    language: string\n  ): void {\n    this._searchResultsCollection = searchResultsCollection;\n    this._searchResultsPage = searchResultsPage;\n    this._brand = brand;\n    this._language = language;\n  }\n\n  postClick(searchResultId: string, brand: string, locale: string): void {\n    MockElasticSearchService.LOG.logInfo(\n      `SearchResultId is ${searchResultId} and brand is ${brand} and locale is ${locale}`\n    );\n  }\n\n  get searchResultsCollection(): string {\n    return this._searchResultsCollection;\n  }\n\n  get searchResultsPage(): string {\n    return this._searchResultsPage;\n  }\n\n  getBrand(): string {\n    return this._brand;\n  }\n\n  getLanguage(): string {\n    return this._language;\n  }\n\n  getSearchResultsCollection = () => this.searchResultsCollection;\n  getSearchResultsPage = () => this.searchResultsPage;\n\n  private buildMockSuggestions(): Suggestions {\n    return {\n      locale: 'nl',\n      hits: [\n        {\n          text: 'iPhone 11 2020',\n          highlight: 'iPhone <em>11 2020</em>',\n        },\n        {\n          text: 'iPhone 12',\n          highlight: 'iPhone <em>12</em>',\n        },\n        {\n          text: 'iPhone 12 Pro',\n          highlight: 'iPhone <em>12 Pro</em>',\n        },\n        {\n          text: 'iPhone 13',\n          highlight: 'iPhone <em>13</em>',\n        },\n        {\n          text: 'iPhone 13 mini',\n          highlight: 'iPhone <em>13 mini</em>',\n        },\n      ],\n    } as Suggestions;\n  }\n\n  private buildMockResults(): SearchResults {\n    return {\n      hits: [\n        {\n          type: 'product',\n          url: null,\n          displayUrl: '/inpage-search',\n          mimeType: null,\n          name: 'Minimodem',\n          content: 'ZTE Mini<em>modem</em>',\n          product: {\n            id: '2101384',\n            brand: 'ZTE',\n            color: [],\n            image:\n              'https://735280384762-pim-prod-akeneo.s3.eu-central-1.amazonaws.com/a/9/2/8/a92879618817d2ed812f68b5e966a33c0dffcd44_2101384.hr.png',\n            plan: null,\n            originalPrice: 65.0,\n            discountedPrice: 65.0,\n            tags: [],\n          },\n          tags: [\n            {\n              name: 'category',\n              value: ['devices'],\n            },\n          ],\n        },\n        {\n          type: 'page',\n          url: 'https://www.int.telenet.be/content/www-telenet-touch/nl/klantenservice/telenet-apps/apparaten/apparaten',\n          displayUrl: 'https://www.int.telenet.be/residential/nl/klantenservice/telenet-apps/apparaten/apparaten',\n          name: 'Modem',\n          content:\n            'Test <em>Modem</em> Algemeen Algemeen Bestellen Bestellen Installeren Installeren Probleem oplossen Probleem oplossen',\n          tags: [\n            {\n              name: 'subject',\n              value: ['telenet-residential-support/general'],\n            },\n            {\n              name: 'category',\n              value: ['support'],\n            },\n          ],\n        },\n        {\n          type: 'page',\n          url: 'https://www.int.telenet.be/content/www-telenet-touch/nl/klantenservice/internet/je-wifi/hoe-mijn-draadloos-internet-instellen',\n          displayUrl:\n            'https://www.int.telenet.be/residential/nl/klantenservice/internet/je-wifi/hoe-mijn-draadloos-internet-instellen',\n          name: 'Hoe mijn draadloos internet instellen?',\n          content:\n            'Instellingen wireless <em>modem</em> aanpassen? Instellingen met hangslotje aanpassen? Wil je zelf een aantal instellingen aanpassen? Dat kan bij <em>Modeminstellingen</em>. Algemene instellingen De algemene instellingen zijn standaard ingesteld. Je kan het draadloos signaal, persoonlijke wifi en Wi-Free aan- of uitzetten. <em>Modemtesten</em> De beschikbare <em>modemtesten</em>',\n          product: {} as Product,\n          tags: [\n            {\n              name: 'subject',\n              value: ['telenet-residential-support/internet'],\n            },\n            {\n              name: 'category',\n              value: ['support'],\n            },\n          ],\n        },\n        {\n          type: 'page',\n          url: 'https://www.int.telenet.be/content/www-telenet-touch/nl/netwerk-en-kwaliteit/ihc/ihc-modem',\n          displayUrl: 'https://www.int.telenet.be/residential/nl/netwerk-en-kwaliteit/ihc/ihc-modem',\n          name: 'ihc-modem',\n          content:\n            'Jouw <em>modem</em> is het startpunt van je nieuwe thuisnetwerk. Raakt je wifi vandaag niet overal in huis? Dan zorgt 360° Wifi ervoor dat je naadloos verbonden bent, tot in elk hoekje waar jij wifi wil. Het vormt een zelfregulerend, slim netwerk. Zo heb je overal in huis stabiel en razendsnel internet, aangepast aan wat je op dat moment nodig hebt',\n          product: {} as Product,\n          tags: [],\n        },\n        {\n          type: 'page',\n          url: 'https://www.int.telenet.be/content/www-telenet-touch/nl/klantenservice/tv-en-entertainment/storingen/hoe-herstart-ik-mijn-modem',\n          displayUrl:\n            'https://www.int.telenet.be/residential/nl/klantenservice/tv-en-entertainment/storingen/hoe-herstart-ik-mijn-modem',\n          name: 'Hoe herstart ik mijn modem ?',\n          content:\n            'Hoe herstart ik mijn <em>modem</em>? Eerst even dit Je <em>modem</em> is het hart van je internetverbinding en vind je op de plek waar de Telenet-kabel je woning binnenkomt. Heb je een probleem met je internet of je digitale tv (bv.: geen enkel toesel is nog verbonden, trage verbinding of slecht bereik)? Dan kan het helpen om je <em>modem</em> even te herstarten',\n          product: {} as Product,\n          tags: [],\n        },\n      ],\n    } as SearchResults;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ConfigConstants, ConfigService } from '@telenet/ng-lib-config';\nimport { ElasticSearchService } from './elastic-search.service';\nimport { HttpClient } from '@angular/common/http';\nimport { ElasticSearchServiceInterface } from './elastic-search-service.interface';\nimport { MockElasticSearchService } from './mock-elastic-search.service';\nimport { Log, LogFactory } from '@telenet/ng-lib-shared';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SearchApiServiceProvider {\n  private static readonly LOG: Log = LogFactory.createLogger(SearchApiServiceProvider);\n  private readonly MOCK_PREFIX: string = 'mock.';\n  private readonly elasticService: ElasticSearchServiceInterface;\n\n  constructor(\n    private readonly http: HttpClient,\n    private readonly configService: ConfigService\n  ) {\n    const searchApiUrl: string = this.configService.getConfig(ConfigConstants.SEARCH_API_URL);\n    if (searchApiUrl.startsWith(this.MOCK_PREFIX)) {\n      SearchApiServiceProvider.LOG.logInfo(`Using the MockElasticSearchService, searchApiUrl is ${searchApiUrl}`);\n      this.elasticService = new MockElasticSearchService();\n    } else {\n      SearchApiServiceProvider.LOG.logInfo(`Using the ElasticSearchService, searchApiUrl is ${searchApiUrl}`);\n      this.elasticService = new ElasticSearchService(this.http, searchApiUrl);\n    }\n  }\n\n  getService(): ElasticSearchServiceInterface {\n    return this.elasticService;\n  }\n}\n","export enum ActionInitiator {\n  FACET_SELECT = 'FacetSelect',\n  INITIAL_SEARCH = 'InitialSearch',\n}\n","import { AnalyticsCallFireStrategyEnum } from 'udl';\nimport { SearchResultItem } from '../entities/search-result-item';\n\nexport interface EventInfo {\n  event: SearchEvent;\n  sendOnSiteSearchFilter?: boolean;\n  sendOnSiteSearchResults?: boolean;\n  strategy: AnalyticsCallFireStrategyEnum;\n  searchResult?: SearchResultItem;\n}\n\nenum SearchEventTypes {\n  SEARCH = 'SEARCH',\n  FILTER = 'FILTER',\n  RESULT_CLICK = 'RESULT_CLICK',\n}\ntype SearchEvents = Record<SearchEventTypes, SearchEvent>;\n\nexport interface SearchEvent {\n  type: string;\n  name: string;\n}\n\nexport const UnifiedSearchEvents: SearchEvents = {\n  [SearchEventTypes.SEARCH]: {\n    type: 'on-site-search',\n    name: 'on-site search made',\n  },\n  [SearchEventTypes.FILTER]: {\n    type: 'click',\n    name: 'on-site search filter clicked',\n  },\n  [SearchEventTypes.RESULT_CLICK]: {\n    type: 'on-site-search-click',\n    name: 'on-site search result clicked',\n  },\n};\n","export type BadgeColor = 'info' | 'recommended' | 'cashback' | 'accessories' | 'best-result';\n","export enum SearchTypes {\n  HEADER_SEARCH = 'Unified search header',\n  INPAGE_SEARCH = 'Unified search component',\n  UNKNOWN = '',\n}\n","export const COMPLETE_NOTIFICATION = (() => createNotification('C', undefined, undefined))();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind,\n        value,\n        error,\n    };\n}\n","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nexport class Observable {\n    constructor(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    lift(operator) {\n        const observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    }\n    subscribe(observerOrNext, error, complete) {\n        const subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(() => {\n            const { operator, source } = this;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        this._subscribe(subscriber)\n                    :\n                        this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    }\n    _trySubscribe(sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    }\n    forEach(next, promiseCtor) {\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor((resolve, reject) => {\n            const subscriber = new SafeSubscriber({\n                next: (value) => {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            this.subscribe(subscriber);\n        });\n    }\n    _subscribe(subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    }\n    [Symbol_observable]() {\n        return this;\n    }\n    pipe(...operations) {\n        return pipeFromArray(operations)(this);\n    }\n    toPromise(promiseCtor) {\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor((resolve, reject) => {\n            let value;\n            this.subscribe((x) => (value = x), (err) => reject(err), () => resolve(value));\n        });\n    }\n}\nObservable.create = (subscribe) => {\n    return new Observable(subscribe);\n};\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n","import { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nexport class Subscriber extends Subscription {\n    constructor(destination) {\n        super();\n        this.isStopped = false;\n        if (destination) {\n            this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(this);\n            }\n        }\n        else {\n            this.destination = EMPTY_OBSERVER;\n        }\n    }\n    static create(next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    }\n    next(value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    }\n    error(err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    }\n    complete() {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            this.isStopped = true;\n            super.unsubscribe();\n            this.destination = null;\n        }\n    }\n    _next(value) {\n        this.destination.next(value);\n    }\n    _error(err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    }\n    _complete() {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    }\n}\nconst _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nclass ConsumerObserver {\n    constructor(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    next(value) {\n        const { partialObserver } = this;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    }\n    error(err) {\n        const { partialObserver } = this;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    }\n    complete() {\n        const { partialObserver } = this;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    }\n}\nexport class SafeSubscriber extends Subscriber {\n    constructor(observerOrNext, error, complete) {\n        super();\n        let partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            let context;\n            if (this && config.useDeprecatedNextContext) {\n                context = Object.create(observerOrNext);\n                context.unsubscribe = () => this.unsubscribe();\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context),\n                    error: observerOrNext.error && bind(observerOrNext.error, context),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        this.destination = new ConsumerObserver(partialObserver);\n    }\n}\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    const { onStoppedNotification } = config;\n    onStoppedNotification && timeoutProvider.setTimeout(() => onStoppedNotification(notification, subscriber));\n}\nexport const EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n","import { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nexport class Subscription {\n    constructor(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    unsubscribe() {\n        let errors;\n        if (!this.closed) {\n            this.closed = true;\n            const { _parentage } = this;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    for (const parent of _parentage) {\n                        parent.remove(this);\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            const { initialTeardown: initialFinalizer } = this;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            const { _finalizers } = this;\n            if (_finalizers) {\n                this._finalizers = null;\n                for (const finalizer of _finalizers) {\n                    try {\n                        execFinalizer(finalizer);\n                    }\n                    catch (err) {\n                        errors = errors !== null && errors !== void 0 ? errors : [];\n                        if (err instanceof UnsubscriptionError) {\n                            errors = [...errors, ...err.errors];\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    }\n    add(teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    }\n    _hasParent(parent) {\n        const { _parentage } = this;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    }\n    _addParent(parent) {\n        const { _parentage } = this;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    }\n    _removeParent(parent) {\n        const { _parentage } = this;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    }\n    remove(teardown) {\n        const { _finalizers } = this;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    }\n}\nSubscription.EMPTY = (() => {\n    const empty = new Subscription();\n    empty.closed = true;\n    return empty;\n})();\nexport const EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n","export const config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n","import { EmptyError } from './util/EmptyError';\nexport function lastValueFrom(source, config) {\n    const hasConfig = typeof config === 'object';\n    return new Promise((resolve, reject) => {\n        let _hasValue = false;\n        let _value;\n        source.subscribe({\n            next: (value) => {\n                _value = value;\n                _hasValue = true;\n            },\n            error: reject,\n            complete: () => {\n                if (_hasValue) {\n                    resolve(_value);\n                }\n                else if (hasConfig) {\n                    resolve(config.defaultValue);\n                }\n                else {\n                    reject(new EmptyError());\n                }\n            },\n        });\n    });\n}\n","import { scheduled } from '../scheduled/scheduled';\nimport { innerFrom } from './innerFrom';\nexport function from(input, scheduler) {\n    return scheduler ? scheduled(input, scheduler) : innerFrom(input);\n}\n","import { __asyncValues, __awaiter } from \"tslib\";\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { Observable } from '../Observable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isIterable } from '../util/isIterable';\nimport { isReadableStreamLike, readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nimport { isFunction } from '../util/isFunction';\nimport { reportUnhandledError } from '../util/reportUnhandledError';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nexport function fromInteropObservable(obj) {\n    return new Observable((subscriber) => {\n        const obs = obj[Symbol_observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nexport function fromArrayLike(array) {\n    return new Observable((subscriber) => {\n        for (let i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nexport function fromPromise(promise) {\n    return new Observable((subscriber) => {\n        promise\n            .then((value) => {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, (err) => subscriber.error(err))\n            .then(null, reportUnhandledError);\n    });\n}\nexport function fromIterable(iterable) {\n    return new Observable((subscriber) => {\n        for (const value of iterable) {\n            subscriber.next(value);\n            if (subscriber.closed) {\n                return;\n            }\n        }\n        subscriber.complete();\n    });\n}\nexport function fromAsyncIterable(asyncIterable) {\n    return new Observable((subscriber) => {\n        process(asyncIterable, subscriber).catch((err) => subscriber.error(err));\n    });\n}\nexport function fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_1, _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            for (asyncIterable_1 = __asyncValues(asyncIterable); asyncIterable_1_1 = yield asyncIterable_1.next(), !asyncIterable_1_1.done;) {\n                const value = asyncIterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return)) yield _a.call(asyncIterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\n","import { Subscriber } from '../Subscriber';\nexport function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nexport class OperatorSubscriber extends Subscriber {\n    constructor(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        super(destination);\n        this.onFinalize = onFinalize;\n        this.shouldUnsubscribe = shouldUnsubscribe;\n        this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : super._next;\n        this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : super._error;\n        this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : super._complete;\n    }\n    unsubscribe() {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            const { closed } = this;\n            super.unsubscribe();\n            !closed && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    }\n}\n","import { executeSchedule } from '../util/executeSchedule';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function observeOn(scheduler, delay = 0) {\n    return operate((source, subscriber) => {\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => executeSchedule(subscriber, scheduler, () => subscriber.next(value), delay), () => executeSchedule(subscriber, scheduler, () => subscriber.complete(), delay), (err) => executeSchedule(subscriber, scheduler, () => subscriber.error(err), delay)));\n    });\n}\n","import { operate } from '../util/lift';\nexport function subscribeOn(scheduler, delay = 0) {\n    return operate((source, subscriber) => {\n        subscriber.add(scheduler.schedule(() => source.subscribe(subscriber), delay));\n    });\n}\n","import { Observable } from '../Observable';\nexport function scheduleArray(input, scheduler) {\n    return new Observable((subscriber) => {\n        let i = 0;\n        return scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n            }\n            else {\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    this.schedule();\n                }\n            }\n        });\n    });\n}\n","import { Observable } from '../Observable';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleAsyncIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable((subscriber) => {\n        executeSchedule(subscriber, scheduler, () => {\n            const iterator = input[Symbol.asyncIterator]();\n            executeSchedule(subscriber, scheduler, () => {\n                iterator.next().then((result) => {\n                    if (result.done) {\n                        subscriber.complete();\n                    }\n                    else {\n                        subscriber.next(result.value);\n                    }\n                });\n            }, 0, true);\n        });\n    });\n}\n","import { Observable } from '../Observable';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from '../util/isFunction';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleIterable(input, scheduler) {\n    return new Observable((subscriber) => {\n        let iterator;\n        executeSchedule(subscriber, scheduler, () => {\n            iterator = input[Symbol_iterator]();\n            executeSchedule(subscriber, scheduler, () => {\n                let value;\n                let done;\n                try {\n                    ({ value, done } = iterator.next());\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                }\n            }, 0, true);\n        });\n        return () => isFunction(iterator === null || iterator === void 0 ? void 0 : iterator.return) && iterator.return();\n    });\n}\n","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function scheduleObservable(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function schedulePromise(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n","import { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nexport function scheduleReadableStreamLike(input, scheduler) {\n    return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(input), scheduler);\n}\n","import { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isReadableStreamLike } from '../util/isReadableStreamLike';\nimport { scheduleReadableStreamLike } from './scheduleReadableStreamLike';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        if (isAsyncIterable(input)) {\n            return scheduleAsyncIterable(input, scheduler);\n        }\n        if (isIterable(input)) {\n            return scheduleIterable(input, scheduler);\n        }\n        if (isReadableStreamLike(input)) {\n            return scheduleReadableStreamLike(input, scheduler);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\n","export const timeoutProvider = {\n    setTimeout(handler, timeout, ...args) {\n        const { delegate } = timeoutProvider;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout(handler, timeout, ...args);\n        }\n        return setTimeout(handler, timeout, ...args);\n    },\n    clearTimeout(handle) {\n        const { delegate } = timeoutProvider;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n","export function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport const iterator = getSymbolIterator();\n","export const observable = (() => (typeof Symbol === 'function' && Symbol.observable) || '@@observable')();\n","import { createErrorClass } from './createErrorClass';\nexport const EmptyError = createErrorClass((_super) => function EmptyErrorImpl() {\n    _super(this);\n    this.name = 'EmptyError';\n    this.message = 'no elements in sequence';\n});\n","import { createErrorClass } from './createErrorClass';\nexport const UnsubscriptionError = createErrorClass((_super) => function UnsubscriptionErrorImpl(errors) {\n    _super(this);\n    this.message = errors\n        ? `${errors.length} errors occurred during unsubscription:\n${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}`\n        : '';\n    this.name = 'UnsubscriptionError';\n    this.errors = errors;\n});\n","export function arrRemove(arr, item) {\n    if (arr) {\n        const index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n","export function createErrorClass(createImpl) {\n    const _super = (instance) => {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    const ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n","import { config } from '../config';\nlet context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        const isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            const { errorThrown, error } = context;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n","export function executeSchedule(parentSubscription, scheduler, work, delay = 0, repeat = false) {\n    const scheduleSubscription = scheduler.schedule(function () {\n        work();\n        if (repeat) {\n            parentSubscription.add(this.schedule(null, delay));\n        }\n        else {\n            this.unsubscribe();\n        }\n    }, delay);\n    parentSubscription.add(scheduleSubscription);\n    if (!repeat) {\n        return scheduleSubscription;\n    }\n}\n","export function identity(x) {\n    return x;\n}\n","export const isArrayLike = ((x) => x && typeof x.length === 'number' && typeof x !== 'function');\n","import { isFunction } from './isFunction';\nexport function isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n","import { observable as Symbol_observable } from '../symbol/observable';\nimport { isFunction } from './isFunction';\nexport function isInteropObservable(input) {\n    return isFunction(input[Symbol_observable]);\n}\n","import { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from './isFunction';\nexport function isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[Symbol_iterator]);\n}\n","import { isFunction } from \"./isFunction\";\nexport function isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n","import { __asyncGenerator, __await } from \"tslib\";\nimport { isFunction } from './isFunction';\nexport function readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function* readableStreamLikeToAsyncGenerator_1() {\n        const reader = readableStream.getReader();\n        try {\n            while (true) {\n                const { value, done } = yield __await(reader.read());\n                if (done) {\n                    return yield __await(void 0);\n                }\n                yield yield __await(value);\n            }\n        }\n        finally {\n            reader.releaseLock();\n        }\n    });\n}\nexport function isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return (source) => {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n","export function noop() { }\n","import { identity } from './identity';\nexport function pipe(...fns) {\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce((prev, fn) => fn(prev), input);\n    };\n}\n","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(() => {\n        const { onUnhandledError } = config;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n","export function createInvalidObservableTypeError(input) {\n    return new TypeError(`You provided ${input !== null && typeof input === 'object' ? 'an invalid object' : `'${input}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`);\n}\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n"],"names":["StoreModule","searchFeature","EffectsModule","SearchEffects","createStorageMetaReducer","storageReducer","metaReducers","SearchNgrxModule","forFeature","name","reducer","imports","i1","EffectsFeatureModule","i2","StoreFeatureModule","createAction","props","getContentPagesAction","getContentPagesSuccessAction","getHardwareAction","getHardwareSuccessAction","getFacetsAction","getFacetsSuccessAction","selectFacetAction","clearFacetsAction","selectFacetSuccessAction","updateFacetsSuccessAction","setActiveCollectionAction","setActiveCollectionSuccessAction","selectCollectionAction","selectCollectionSuccessAction","getCollectionsAndTagsAction","getCollectionsAndTagsSuccessAction","setQueryAction","setQuerySuccessAction","setHeaderExpandedAction","setHeaderExpandedSuccessAction","getSuggestionsAction","getSuggestionsSuccessAction","selectSuggestionItemAction","getTopResultsSuccessAction","clearHeaderAction","updateSearchResultsAction","updateSearchResultsSuccessAction","getSearchResultPageAction","goToResultFromResultsPageAction","goToResultsPageAction","goToPageFromHeaderAction","navigateAction","setLastUsedComponent","afterFacetChangeResultsUpdatedAction","setInPageInitDataAction","setInPageQueryAction","setInPageQuerySuccessAction","updateInPageSuggestionSuccessAction","clearInPageAction","selectSuggestionInPageAction","navigateToInPageResultsAction","setPageAction","setPageSuccessAction","setResultsComponentFoundAction","setResultsComponentFoundSuccessAction","inject","Actions","createEffect","ofType","map","mergeMap","switchMap","tap","withLatestFrom","fromActions","SearchApiServiceProvider","Type","Store","featureState","selectActiveCollection","selectCollections","selectFacetGroups","selectInitData","selectInPageData","selectInPageInitData","selectQuery","selectSearchData","UrlService","forkJoin","of","AnalyticsService","ActionInitiator","AnalyticsCallFireStrategyEnum","UnifiedSearchEvents","serviceProvider","elasticSearchService","actions$","store","urlService","analyticsService","constructor","getService","setQuery$","pipe","action","query","setHeaderExpanded$","expanded","setActiveCollection$","collection","setPage$","page","initiateContentPagesSearch$","select","search","searchResults","initiateHardwareSearch$","hardware","getSuggestions$","getSuggestions","includeHardwareResults","suggestions","suggestionsFieldName","result","getSuggestionsSuccess$","selected","byUserAction","selectSuggestionItem$","args","getTopResults","text","results","selectFacet$","facetGroups","facetsGroup","i","facets","facet","j","groupIndex","facetIndex","updateUrlAfterFacetSelection$","facetString","filter","facetGroup","find","f","id","join","title","replaceURLParameters","key","value","removeURLParameters","dispatch","updateFacetsAfterFacetSelection$","searchData","getFacets","tags","clearFacets$","facetsGroups","updateResultsAfterFacetSelection$","data","initiator","FACET_SELECT","initiateFacets$","activeCollection","getRequestParameters","decodeURIComponent","split","group","label","undefined","initFacetSuccess$","initiateCollectionsAndTags$","collections","index","selectCollection$","collectionIndex","updateUrlAfterCollectionSelection$","fetchFacetsAfterCollectionSelection$","afterResultsSuccess$","state","INITIAL_SEARCH","sendSearchEvent","event","SEARCH","strategy","FIRE_ON_SAME_PAGE","sendOnSiteSearchResults","sendFilterEvent","updateResults$","pages","size","getPageSize","mergedData","contentResults","hardwareResults","getSearchResultPage$","resultType","totalHardware","updateUrlAfterSearchResultsUpdate$","contentPage","current","hardwarePage","goToResultFromResultsPage$","RESULT_CLICK","FIRE_ON_PAGE_RELOAD","sendOnSiteSearchFilter","searchResult","searchResultItem","url","goToResultDirectly$","goToResultsPage$","navigate$","redirectTo","setQueryForInPage$","updateSuggestionAfterSetQueryForInPage$","initData","selectSuggestionInPage$","navigateToInPageResults$","inPageData","buildInpageResultsUrl","getOrigin","resultsPageUrl","setResultsComponentFound$","found","origin","path","baseUrl","startsWith","existingQueryParams","urlSearchParams","URLSearchParams","set","s","toString","replace","i0","ɵɵinject","factory","ɵfac","providedIn","createFeature","createReducer","on","defaultState","SearchTypes","SEARCH_FEATURE_KEY","headerExpanded","resultsPage","contentPages","eventData","queryUsed","header","suggestionUsed","searchOriginatingPageId","window","digitalData","pageInfo","pageID","topResults","hits","locale","asYouType","_","loading","lastUsedComponent","inPage","INPAGE_SEARCH","item","resultsComponentFound","createFeatureSelector","createSelector","selectSuggestions","selectTopResults","selectContentPages","slice","length","selectHardware","selectResultsLoading","selectHeaderExpanded","total","totalContentPages","selectAppliedFilters","flatMap","Boolean","selectNumberOfSearchResults","selectContentPagesPagination","currentPage","totalNumberOfPages","Math","ceil","selectHardwarePagesPagination","selectInPageSuggestions","selectInPageQuery","selectResultsComponentFound","selectedCollection","selectedSuggestion","first","SearchFacadeService","query$","suggestions$","headerExpanded$","topResults$","contentPages$","hardware$","resultsLoading$","facetsGroups$","collections$","appliedFilters$","numberOfSearchResults$","contentPagesPagination$","hardwarePagesPagination$","inPageSuggestions$","inPageQuery$","resultsComponentFound$","setResultsComponentFound","setQuery","setCollection","initialSearch","searchSuggestions","selectSuggestion","clearHeader","selectFacet","clearFacets","selectCollection","selectContentPagesPage","selectHardwarePage","setInputParameters","searchResultsCollection","searchResultsPage","brand","language","getSearchResultsCollection","getSearchResultsPage","getSearchResultsPageUrl","getPathWithQueryParams","postClick","searchResultId","replaceAll","goToResultsPage","goToResult","goToResultFromResultsPage","componentName","initInPage","setQueryForInPage","clearInPage","selectSuggestionInPage","urlToNavigateTo","getSearchResultsPageForInPage","navigateToInPageResults","setPage","getResultsComponentFound","redirectOrUpdateSearchResultsPage","params","getParameters","setHeaderExpanded","getHeaderExpanded","getBrand","getLanguage","ElementRef","KeyboardNavigationService","KeyboardNavigationDirective","el","keyboardNavigationService","wrapper","focusedList","focusedElement","downKeyPressCount","ARROW_UP","ARROW_DOWN","TAB","ngAfterViewChecked","nativeElement","getFocusedList","firstChild","getFocusedElement","querySelector","handleKeyboardEvent","handleTab","handleArrowKeys","preventDefault","currentIndex","Array","from","children","indexOf","nextIndex","setFocusedList","setFocusedElement","listItems","querySelectorAll","nextElement","ɵɵdirectiveInject","selectors","hostBindings","KeyboardNavigationDirective_HostBindings","rf","ctx","$event","ɵɵresolveWindow","importProvidersFrom","provideSearchDomain","DataLayerService","datalayerService","isBusinessPage","pagePath","pattern","test","createPageID","URL","pathname","getHitsFromResults","getContentId","type","getContentIds","hit","getLastSuggestionClicked","searchState","getTotalHits","contentPagesTotal","hardwareTotal","getSearchAttributesFromState","itemName","onsiteSearchTerm","onsiteSearchOrigination","itemData","eventInfoData","eventInfo","createEventInfo","attributes","onsiteSearchFilter","createFilterString","onsiteSearchResults","onsiteSearchResultsID","cardId","sendEvent","hasFacetsSelected","some","FILTER","catchError","HttpHeaders","ElasticSearchService","http","searchApiUrl","options","headers","pagination","document","buildSearchDocument","post","error","subscribe","sessionStorage","removeItem","searchQuery","buildSuggestionsDocument","suggestion","req","buildFacetsDocument","facetNames","t","tag","items","count","isFacetSelected","sort","a","b","indexA","Number","MAX_VALUE","indexB","tagName","tagItemName","filters","getFilters","blacklist","types","searchFields","resultFields","snippetSize","highlight","keymatches","sortByPopularity","values","logicalFiltersOperator","logicalFilters","queryValueFilters","queryRangeFilters","HttpClient","lastValueFrom","HardwarePlanService","cache","Map","getHardwarePlan","has","get","element","focus","LogFactory","MockElasticSearchService","LOG","createLogger","_searchResultsCollection","_searchResultsPage","_brand","_language","logInfo","buildMockSuggestions","buildMockResults","buildMockTags","displayUrl","mimeType","content","product","color","image","plan","originalPrice","discountedPrice","ConfigConstants","ConfigService","configService","MOCK_PREFIX","elasticService","getConfig","SEARCH_API_URL","SearchEventTypes","COMPLETE_NOTIFICATION","createNotification","errorNotification","nextNotification","kind","SafeSubscriber","Subscriber","isSubscription","observable","Symbol_observable","pipeFromArray","config","isFunction","errorContext","Observable","_subscribe","lift","operator","source","observerOrNext","complete","subscriber","isSubscriber","add","call","_trySubscribe","sink","err","forEach","next","promiseCtor","getPromiseCtor","resolve","reject","unsubscribe","_a","operations","toPromise","x","create","Promise","isObserver","Subscription","reportUnhandledError","noop","timeoutProvider","captureError","destination","isStopped","EMPTY_OBSERVER","handleStoppedNotification","_next","_error","_complete","closed","_bind","Function","prototype","bind","fn","thisArg","ConsumerObserver","partialObserver","handleUnhandledError","context","useDeprecatedNextContext","Object","useDeprecatedSynchronousErrorHandling","defaultErrorHandler","notification","onStoppedNotification","setTimeout","UnsubscriptionError","arrRemove","initialTeardown","_parentage","_finalizers","errors","isArray","parent","remove","initialFinalizer","e","finalizer","execFinalizer","push","teardown","_hasParent","_addParent","includes","_removeParent","EMPTY","empty","EMPTY_SUBSCRIPTION","onUnhandledError","EmptyError","hasConfig","_hasValue","_value","defaultValue","scheduled","innerFrom","input","scheduler","__asyncValues","__awaiter","isArrayLike","isPromise","isInteropObservable","isAsyncIterable","createInvalidObservableTypeError","isIterable","isReadableStreamLike","readableStreamLikeToAsyncGenerator","fromInteropObservable","fromArrayLike","fromPromise","fromAsyncIterable","fromIterable","fromReadableStreamLike","obj","obs","TypeError","array","promise","then","iterable","asyncIterable","process","catch","readableStream","asyncIterable_1","asyncIterable_1_1","e_1","done","e_1_1","return","createOperatorSubscriber","onNext","onComplete","onError","onFinalize","OperatorSubscriber","shouldUnsubscribe","executeSchedule","operate","observeOn","delay","subscribeOn","schedule","scheduleArray","scheduleAsyncIterable","Error","iterator","Symbol","asyncIterator","Symbol_iterator","scheduleIterable","scheduleObservable","schedulePromise","scheduleReadableStreamLike","handler","timeout","delegate","clearTimeout","handle","getSymbolIterator","createErrorClass","_super","EmptyErrorImpl","message","UnsubscriptionErrorImpl","arr","splice","createImpl","instance","stack","ctorFunc","cb","isRoot","errorThrown","parentSubscription","work","repeat","scheduleSubscription","identity","__asyncGenerator","__await","arguments","readableStreamLikeToAsyncGenerator_1","reader","getReader","read","releaseLock","hasLift","init","liftedSource","fns","piped","reduce","prev"],"sourceRoot":"webpack:///","x_google_ignoreList":[30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70]}