{"version":3,"file":"libs_engagement_profile-management_util_src_index_ts-_a3bd1.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAuF;AACd;;;AAMnE,MAAOG,4BAA4B;EAGvCC,YACmBC,EAAc,EACdC,aAA4B;IAD5B,KAAAD,EAAE,GAAFA,EAAE;IACF,KAAAC,aAAa,GAAbA,aAAa;IAHvB,KAAAC,GAAG,GAAG,EAAE;EAId;EAEHC,WAAWA,CAACC,OAAsB;IAChC,MAAMC,UAAU,GAAW,IAAI,CAACC,aAAa,EAAE;IAE/C,IAAID,UAAU,EAAE;MACd,IAAIE,SAAS,GAAWH,OAAO,CAAC,KAAK,CAAC,CAACI,YAAY;MACnD,MAAMC,mBAAmB,GAAGF,SAAS,CAACG,OAAO,CAAC,SAAS,CAAC;MACxD,IAAID,mBAAmB,KAAK,CAAC,CAAC,EAAE;QAC9BF,SAAS,GAAGA,SAAS,CAACI,KAAK,CAACF,mBAAmB,CAAC;MAClD;MACA,IAAI,CAACT,EAAE,CAACY,aAAa,CAACV,GAAG,GAAG,GAAGG,UAAU,GAAGE,SAAS,EAAE;IACzD;EACF;EAEAD,aAAaA,CAAA;IACX,MAAMO,gBAAgB,GAA8B,IAAI,CAACZ,aAAa,CAACa,mBAAmB,CAAC,IAAI,CAACC,QAAQ,CAAC;IACzG,OAAOF,gBAAgB,EAAER,UAAU,IAAI,EAAE;EAC3C;EAAC,QAAAW,CAAA;qBAxBUlB,4BAA4B,EAAAmB,+DAAA,CAAAA,qDAAA,GAAAA,+DAAA,CAAAE,iEAAA;EAAA;EAAA,QAAAC,EAAA;UAA5BtB,4BAA4B;IAAAuB,SAAA;IAAAC,MAAA;MAAAP,QAAA;MAAAb,GAAA;IAAA;IAAAqB,UAAA;IAAAC,QAAA,GAAAP,kEAAA;EAAA","sources":["./libs/engagement/profile-management/util/src/lib/directories/image-src-interceptor.directive.ts"],"sourcesContent":["import { Directive, ElementRef, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { ConfigService, RemoteHostConfig } from '@telenet/ng-lib-config';\n\n@Directive({\n  standalone: true,\n  selector: '[tgProfileManagementImageSrcInterceptor]',\n})\nexport class ImageSrcInterceptorDirective implements OnChanges {\n  @Input() moduleId!: string;\n  @Input() src = '';\n  constructor(\n    private readonly el: ElementRef,\n    private readonly configService: ConfigService\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const remoteHost: string = this.getRemoteHost();\n\n    if (remoteHost) {\n      let imagePath: string = changes['src'].currentValue;\n      const indexOfAssetsFolder = imagePath.indexOf('/assets');\n      if (indexOfAssetsFolder !== -1) {\n        imagePath = imagePath.slice(indexOfAssetsFolder);\n      }\n      this.el.nativeElement.src = `${remoteHost}${imagePath}`;\n    }\n  }\n\n  getRemoteHost(): string {\n    const remoteHostConfig: Partial<RemoteHostConfig> = this.configService.getRemoteHostConfig(this.moduleId);\n    return remoteHostConfig?.remoteHost || '';\n  }\n}\n"],"names":["ElementRef","SimpleChanges","ConfigService","ImageSrcInterceptorDirective","constructor","el","configService","src","ngOnChanges","changes","remoteHost","getRemoteHost","imagePath","currentValue","indexOfAssetsFolder","indexOf","slice","nativeElement","remoteHostConfig","getRemoteHostConfig","moduleId","_","i0","ɵɵdirectiveInject","i1","_2","selectors","inputs","standalone","features","ɵɵNgOnChangesFeature"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}