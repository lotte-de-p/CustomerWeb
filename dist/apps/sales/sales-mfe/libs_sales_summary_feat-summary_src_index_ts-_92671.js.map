{"version":3,"file":"libs_sales_summary_feat-summary_src_index_ts-_92671.js","mappings":";;;;;;;;;;;;;;;;;AAA6C;AACgB;;;;;;;;;;;;;;;ACDtD,MAAMA,mBAAmB,GAAG,oBAAoB;;;;;;;;;;;;;;ACAhD,IAAKC,oBAGX;AAHD,WAAYA,oBAAoB;EAC9BA,oBAAA,mDAA+C;EAC/CA,oBAAA,+BAA2B;AAC7B,CAAC,EAHWA,oBAAoB,KAApBA,oBAAoB;;;;;;;;;;;;;;;ACAgC;AAGzD,MAAMC,0BAA0B,GAAmB;EACxDC,SAAS,EAAEF,wEAAoB,CAACG;CACjC;;;;;;;;;;;;;;;;ACLwF;AAElF,MAAME,mBAAmB,GAAkC;EAChEH,SAAS,EAAEE,oEAAa,CAACE,aAAa;EACtCC,IAAI,EAAE;IACJC,OAAO,EAAE;;CAEZ;;;;;;;;;;;;;;;;;ACPwF;AACT;AAEzE,MAAMC,iBAAiB,GAAkC;EAC9DP,SAAS,EAAEE,oEAAa,CAACM,WAAW;EACpCH,IAAI,EAAE;IACJC,OAAO,EAAET,wFAAmBA;;CAE/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNiG;AACvB;AAC5B;AACwB;AAS5C;AACiE;AACP;AACjB;AACC;AACf;AACoC;;;;;;;;;ICpB1FkC,sEAAA,GAAiE;IAC/DA,6DAAA,aAAuF;IAQvEA,qDAAA,GACF;;IAAAA,2DAAA,EAAM;IACNA,6DAAA,YAAmD;IACjDA,qDAAA,IACF;;IAAAA,2DAAA,EAAI;IAGRA,6DAAA,eACqK;IAG/JA,wDAAA,+CACmG;;IACnGA,wDAAA,0CACqF;;IACrFA,wDAAA,0CAEqF;;;IACrFA,wDAAA,yCACkF;;IACpFA,2DAAA,EAAM;IAERA,6DAAA,eAAyE;IAQnEA,yDAAA,gCAAAO,wGAAA;MAAAP,4DAAA,CAAAS,GAAA;MAAA,MAAAC,MAAA,GAAAV,4DAAA;MAAA,OAAsBA,0DAAA,CAAAU,MAAA,CAAAG,wBAAA,EAA0B;IAAA,EAAC;;;IACnDb,2DAAA,EAA8B;IAC9BA,6DAAA,mCAK8D;IAJ5DA,yDAAA,6CAAAc,iHAAA;MAAAd,4DAAA,CAAAS,GAAA;MAAA,MAAAM,MAAA,GAAAf,4DAAA;MAAA,OAAmCA,0DAAA,CAAAe,MAAA,CAAAC,mBAAA,EAAqB;IAAA,EAAC,0CAAAC,8GAAAC,MAAA;MAAAlB,4DAAA,CAAAS,GAAA;MAAA,MAAAU,MAAA,GAAAnB,4DAAA;MAAA,OACzBA,0DAAA,CAAAmB,MAAA,CAAAC,uBAAA,CAAAF,MAAA,CAA+B;IAAA,EADN,gDAAAG,oHAAA;MAAArB,4DAAA,CAAAS,GAAA;MAAA,MAAAa,MAAA,GAAAtB,4DAAA;MAAA,OAEnBA,0DAAA,CAAAsB,MAAA,CAAAC,sBAAA,EAAwB;IAAA,EAFL;;;IAIGvB,2DAAA,EAA0B;IAS1GA,oEAAA,EAAe;;;;IAtDRA,wDAAA,EAA+B;IAA/BA,0DAAA,2BAA+B;IAQpBA,wDAAA,GACF;IADEA,iEAAA,MAAAA,0DAAA,gEACF;IAEEA,wDAAA,GACF;IADEA,iEAAA,MAAAA,0DAAA,oEACF;IAQIA,wDAAA,GAA0D;IAA1DA,yDAAA,kBAAAA,0DAAA,SAAA8B,MAAA,CAAAC,SAAA,kBAAAD,MAAA,CAAAC,SAAA,CAAAC,qBAAA,EAA0D;IAE1DhC,wDAAA,GAAiD;IAAjDA,yDAAA,iBAAAA,0DAAA,SAAA8B,MAAA,CAAAC,SAAA,kBAAAD,MAAA,CAAAC,SAAA,CAAAE,aAAA,EAAiD;IAEjDjC,wDAAA,GAA2D;IAA3DA,yDAAA,kBAAAA,0DAAA,SAAA8B,MAAA,CAAAC,SAAA,kBAAAD,MAAA,CAAAC,SAAA,CAAAG,sBAAA,EAA2D,iBAAAlC,0DAAA,SAAA8B,MAAA,CAAAC,SAAA,kBAAAD,MAAA,CAAAC,SAAA,CAAAI,aAAA;IAG3DnC,wDAAA,GAA+C;IAA/CA,yDAAA,gBAAAA,0DAAA,SAAA8B,MAAA,CAAAC,SAAA,kBAAAD,MAAA,CAAAC,SAAA,CAAAK,YAAA,EAA+C;IAS/CpC,wDAAA,GAA6C;IAA7CA,yDAAA,eAAAA,0DAAA,SAAA8B,MAAA,CAAAC,SAAA,kBAAAD,MAAA,CAAAC,SAAA,CAAAM,WAAA,EAA6C,WAAArC,0DAAA,SAAA8B,MAAA,CAAAC,SAAA,kBAAAD,MAAA,CAAAC,SAAA,CAAAO,OAAA;IAQ7CtC,wDAAA,GAAuE;IAAvEA,yDAAA,4BAAAA,0DAAA,SAAA8B,MAAA,CAAAC,SAAA,kBAAAD,MAAA,CAAAC,SAAA,CAAAQ,wBAAA,EAAuE,sBAAAvC,0DAAA,SAAA8B,MAAA,CAAAC,SAAA,kBAAAD,MAAA,CAAAC,SAAA,CAAAS,kBAAA;;;;;;IAW3FxC,sEAAA,GAA+D;IAC7DA,6DAAA,8CAGgD;IAF9CA,yDAAA,sCAAAyC,qHAAA;MAAAzC,4DAAA,CAAA0C,GAAA;MAAA,MAAAC,MAAA,GAAA3C,4DAAA;MAAA,OAA4BA,0DAAA,CAAA2C,MAAA,CAAAC,6BAAA,EAA+B;IAAA,EAAC;;IAEd5C,2DAAA,EAAsC;IACxFA,oEAAA,EAAe;;;;;IAFXA,wDAAA,EAAsD;IAAtDA,yDAAA,cAAA6C,OAAA,GAAA7C,0DAAA,OAAA8C,MAAA,CAAAf,SAAA,kBAAAe,MAAA,CAAAf,SAAA,CAAAO,OAAA,oBAAAO,OAAA,CAAAE,YAAA,EAAsD,qBAAAD,MAAA,CAAAE,wBAAA;;;ADhBnD,IAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAa/BC,YACmBC,WAAwB,EACxBC,aAA4B;IAD5B,KAAAD,WAAW,GAAXA,WAAW;IACX,KAAAC,aAAa,GAAbA,aAAa;IAdhC,KAAAC,SAAS,GAAG/D,qEAAa,CAACgE,cAAc;IACxC,KAAAC,aAAa,GAAGjE,qEAAa;IAI7B,KAAAkE,gBAAgB,GAAG,IAAI,CAACJ,aAAa,CAACI,gBAAgB;IACtD,KAAAC,gBAAgB,GAAG,IAAI,CAACL,aAAa,CAACK,gBAAgB;IAUpD,IAAI,CAAC1B,SAAS,GAAG;MACfE,aAAa,EAAE,IAAI,CAACmB,aAAa,CAACnB,aAAa;MAC/CM,wBAAwB,EAAE,IAAI,CAACa,aAAa,CAACb,wBAAwB;MACrEJ,aAAa,EAAE,IAAI,CAACiB,aAAa,CAACjB,aAAa;MAC/CC,YAAY,EAAE,IAAI,CAACgB,aAAa,CAAChB,YAAY;MAC7CC,WAAW,EAAE,IAAI,CAACe,aAAa,CAACM,iBAAiB;MACjDpB,OAAO,EAAE,IAAI,CAACc,aAAa,CAACd,OAAO;MACnCE,kBAAkB,EAAE,IAAI,CAACY,aAAa,CAACZ,kBAAkB;MACzDR,qBAAqB,EAAE,IAAI,CAACoB,aAAa,CAACpB,qBAAqB;MAC/DE,sBAAsB,EAAE,IAAI,CAACkB,aAAa,CAAClB;KAC5C;IAED,IAAI,CAACyB,kBAAkB,GAAG,IAAI,CAACP,aAAa,CAACO,kBAAkB;EACjE;EAEAC,QAAQA,CAAA;IACNpE,mDAAa,CAAC,CAAC,IAAI,CAACgE,gBAAgB,EAAE,IAAI,CAACG,kBAAkB,CAAC,CAAC,CAC5DE,IAAI,CAAC/D,sEAAc,CAAC,IAAI,CAAC,CAAC,CAC1BgE,SAAS,CAAC,CAAC,CAACC,GAAG,EAAEC,GAAG,CAAC,KAAI;MACxB,IAAID,GAAG,IAAIC,GAAG,EAAE;QACd,IAAI,CAACb,WAAW,CAACc,0BAA0B,CAAC;UAAEC,IAAI,EAAE;QAA+B,CAAE,CAAC;QACtF,IAAI,CAACC,KAAK,EAAEC,WAAW,CAACL,GAAG,CAAC;MAC9B;IACF,CAAC,CAAC;IAEJ;IACA,IAAI,CAACX,aAAa,CAACpB,qBAAqB,CAAC6B,IAAI,CAACpE,kDAAY,CAAC,CAAC,CAAC,EAAEK,sEAAc,CAAC,IAAI,CAAC,CAAC,CAACgE,SAAS,CAAEO,aAAa,IAAI;MAC/G,IAAIA,aAAa,EAAEC,MAAM,GAAG,CAAC,EAAE;QAC7B,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,oBAAoB,CAAC,qCAAqC,CAAC;QACrF,IAAIF,QAAQ,CAACD,MAAM,GAAG,CAAC,EAAE;UACvBC,QAAQ,CAAC,CAAC,CAAC,CAACG,cAAc,CAAC;YAAEC,QAAQ,EAAE,QAAQ;YAAEC,KAAK,EAAE;UAAO,CAAE,CAAC;QACpE;MACF;IACF,CAAC,CAAC;IAEF,IAAI,CAACzB,WAAW,CAAC0B,YAAY,CAACrG,gFAAiB,CAAC;EAClD;EAEAsG,UAAUA,CAAA;IACR,IAAI,CAAC3B,WAAW,CAAC0B,YAAY,CAACzG,oFAAmB,CAAC;IAClD,OAAOsB,wCAAE,CAAC,KAAK,CAAC;EAClB;EAEA0B,uBAAuBA,CAAC2D,gBAAkC;IACxD,IAAI,CAAC5B,WAAW,CAACc,0BAA0B,CAAC;MAAEC,IAAI,EAAE;IAAsC,CAAE,CAAC;IAC7F,IAAI,CAAClB,wBAAwB,GAAG+B,gBAAgB;IAChD,IAAI,CAAC5B,WAAW,CAAC0B,YAAY,CAAClG,0EAAmB,CAAC;IAClD,IAAI,CAAC0E,SAAS,GAAG/D,qEAAa,CAAC0F,YAAY;EAC7C;EAEApC,6BAA6BA,CAAA;IAC3B,IAAI,CAACI,wBAAwB,GAAGiC,SAAS;IACzC,IAAI,CAAC9B,WAAW,CAAC0B,YAAY,CAACjG,0EAAmB,CAAC;IAClD,IAAI,CAACyE,SAAS,GAAG/D,qEAAa,CAACgE,cAAc;EAC/C;EAEAtC,mBAAmBA,CAAA;IACjB,IAAI,CAACmC,WAAW,CAACc,0BAA0B,CAAC;MAAEC,IAAI,EAAE;IAAoC,CAAE,CAAC;IAC3F,IAAI,CAACf,WAAW,CAAC0B,YAAY,CAAC7G,mGAA0B,CAAC;EAC3D;EAEAuD,sBAAsBA,CAAA;IACpB,IAAI,CAAC4B,WAAW,CAACc,0BAA0B,CAAC;MAAEC,IAAI,EAAE;IAAmC,CAAE,CAAC;IAC1F,IAAI,CAACd,aAAa,CACf7B,sBAAsB,EAAE,CACxBsC,IAAI,CACHlE,0CAAI,CAAC,CAAC,CAAC,EACPJ,gDAAU,CAAE2F,GAAG,IAAI;MACjBC,OAAO,CAACC,IAAI,CAACF,GAAG,CAACG,OAAO,CAAC;MACzB,OAAO,EAAE;IACX,CAAC,CAAC,CACH,CACAvB,SAAS,EAAE;EAChB;EAEAwB,sBAAsBA,CAAA;IACpB,IAAI,CAACnC,WAAW,CAACc,0BAA0B,CAAC;MAAEC,IAAI,EAAE;IAAmB,CAAE,CAAC;EAC5E;EAEArD,wBAAwBA,CAAA;IACtB,IAAI,CAACsC,WAAW,CAACc,0BAA0B,CAAC;MAC1CC,IAAI,EAAE,sBAAsB;MAC5BqB,UAAU,EAAE;QAAEC,QAAQ,EAAE;MAAiB;KAC1C,CAAC;IACF,IAAI,CAACrC,WAAW,CAAC0B,YAAY,CAACzG,oFAAmB,CAAC;EACpD;EAAC,QAAAqH,CAAA;qBAtGUxC,oBAAoB,EAAAjD,gEAAA,CAAA2F,kEAAA,GAAA3F,gEAAA,CAAA4F,qEAAA;EAAA;EAAA,QAAAC,EAAA;UAApB5C,oBAAoB;IAAA6C,SAAA;IAAAC,SAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;mEAWpBrG,8EAAqB;;;;;;;;;;;;;;QCtDlCI,yDAAA,IAAAoG,4CAAA,4BAuDe,IAAAC,4CAAA;QAOfrG,6DAAA,gCAEgD;QAA9CA,yDAAA,8BAAAsG,iFAAA;UAAA,OAAoBJ,GAAA,CAAAZ,sBAAA,EAAwB;QAAA,EAAC;;QAACtF,2DAAA,EAAyB;;;QAhE1DA,yDAAA,SAAAkG,GAAA,CAAA7C,SAAA,KAAA6C,GAAA,CAAA3C,aAAA,CAAAD,cAAA,CAAgD;QAwDhDtD,wDAAA,EAA8C;QAA9CA,yDAAA,SAAAkG,GAAA,CAAA7C,SAAA,KAAA6C,GAAA,CAAA3C,aAAA,CAAAyB,YAAA,CAA8C;QAO3DhF,wDAAA,EAAsC;QAAtCA,yDAAA,cAAAA,0DAAA,OAAAkG,GAAA,CAAAzC,gBAAA,EAAsC;;;mBDnCpC5E,yDAAY,EAAA0H,iDAAA,EAAAA,sDAAA,EACZpH,iEAAkB,EAClBL,mEAAoB,EACpBI,mEAAoB,EACpBE,oEAAqB,EACrBH,8DAAe,EAEfF,yEAA0B,EAC1Ba,8EAAqB,EACrBG,gEAAe,EAAA2G,8DAAA,EACf1H,yEAA0B;IAAA4H,aAAA;EAAA;;AAKjB3D,oBAAoB,GAAA4D,UAAA,EAnBhChH,oEAAY,EAAE,mCAiCmBnB,kEAAW,EACTW,qEAAa,KAfpC4D,oBAAoB,CAuGhC","sources":["./libs/sales/summary/feat-summary/src/index.ts","./libs/sales/summary/feat-summary/src/lib/constants/summary-event-step-key.const.ts","./libs/sales/summary/feat-summary/src/lib/enums/event-type.enum.ts","./libs/sales/summary/feat-summary/src/lib/events/contract-summary-link-clicked.const.ts","./libs/sales/summary/feat-summary/src/lib/events/summary-step-finished.const.ts","./libs/sales/summary/feat-summary/src/lib/events/summary-step-loaded.const.ts","./libs/sales/summary/feat-summary/src/lib/summary-step.component.ts","./libs/sales/summary/feat-summary/src/lib/summary-step.component.html"],"sourcesContent":["export * from './lib/summary-step.component';\nexport * from './lib/constants/summary-event-step-key.const';\nexport * from './lib/enums/event-type.enum';\n","export const summaryEventStepKey = 'order-confirmation';\n","export enum SummaryEventTypeEnum {\n  SHOW_CONTRACT_SUMMARY = 'show-contract-summary',\n  PAYMENT = 'payment-clicked',\n}\n","import { SummaryEventTypeEnum } from '../enums/event-type.enum';\nimport { EventInterface } from '@sales/events/data-access';\n\nexport const contractSummaryLinkClicked: EventInterface = {\n  eventType: SummaryEventTypeEnum.SHOW_CONTRACT_SUMMARY,\n};\n","import { EventInterface, EventTypeEnum, StepEventBody } from '@sales/events/data-access';\n\nexport const summaryStepFinished: EventInterface<StepEventBody> = {\n  eventType: EventTypeEnum.STEP_FINISHED,\n  body: {\n    stepKey: 'order-confirmation',\n  },\n};\n","import { EventInterface, EventTypeEnum, StepEventBody } from '@sales/events/data-access';\nimport { summaryEventStepKey } from '../constants/summary-event-step-key.const';\n\nexport const summaryStepLoaded: EventInterface<StepEventBody> = {\n  eventType: EventTypeEnum.STEP_LOADED,\n  body: {\n    stepKey: summaryEventStepKey,\n  },\n};\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { StepComponent } from '@sales/shared/data-access';\nimport { EventFacade, hideNavigationEvent, showNavigationEvent } from '@sales/events/data-access';\nimport { summaryStepFinished } from './events/summary-step-finished.const';\nimport { CommonModule } from '@angular/common';\nimport { summaryStepLoaded } from './events/summary-step-loaded.const';\nimport {\n  DeliverInfoComponent,\n  DepreciationTableComponent,\n  ErrorNotificationComponent,\n  FooterComponent,\n  InvoiceInfoComponent,\n  OrderDataComponent,\n  PersonalInfoComponent,\n} from '@sales/summary/ui';\nimport { DepreciationItem, SummaryFacade, ViewStateEnum } from '@sales/summary/data-access';\nimport { catchError, combineLatest, debounceTime, Observable, of, take } from 'rxjs';\nimport { IngenicoFormComponent } from '@sales/shared/ingenico-form';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { contractSummaryLinkClicked } from './events/contract-summary-link-clicked.const';\nimport { ChangeDeliveryInfoComponent } from '@sales/delivery/feat-delivery';\nimport { ViewModel } from './interfaces/view-model.interface';\n\n@UntilDestroy()\n@Component({\n  standalone: true,\n  imports: [\n    CommonModule,\n    OrderDataComponent,\n    DeliverInfoComponent,\n    InvoiceInfoComponent,\n    PersonalInfoComponent,\n    FooterComponent,\n    ChangeDeliveryInfoComponent,\n    DepreciationTableComponent,\n    IngenicoFormComponent,\n    TranslateModule,\n    ErrorNotificationComponent,\n  ],\n  selector: 'tg-sales-step-summary',\n  templateUrl: './summary-step.component.html',\n})\nexport class SummaryStepComponent implements StepComponent, OnInit {\n  viewState = ViewStateEnum.OVERLAY_CLOSED;\n  viewStateEnum = ViewStateEnum;\n  selectedDepreciationItem: DepreciationItem | undefined;\n  viewModel: ViewModel | undefined;\n\n  ingenicoRequest$ = this.summaryFacade.ingenicoRequest$;\n  ingenicoFormUrl$ = this.summaryFacade.ingenicoFormUrl$;\n\n  ingenicoFormReady$: Observable<boolean>;\n\n  @ViewChild(IngenicoFormComponent) child: IngenicoFormComponent | undefined;\n\n  constructor(\n    private readonly eventFacade: EventFacade,\n    private readonly summaryFacade: SummaryFacade\n  ) {\n    this.viewModel = {\n      personalInfo$: this.summaryFacade.personalInfo$,\n      contractSummaryRequired$: this.summaryFacade.contractSummaryRequired$,\n      deliveryInfo$: this.summaryFacade.deliveryInfo$,\n      invoiceInfo$: this.summaryFacade.invoiceInfo$,\n      orderItems$: this.summaryFacade.sortedOrderItems$,\n      prices$: this.summaryFacade.prices$,\n      depreciationItems$: this.summaryFacade.depreciationItems$,\n      generalNotifications$: this.summaryFacade.generalNotifications$,\n      deliveryNotifications$: this.summaryFacade.deliveryNotifications$,\n    };\n\n    this.ingenicoFormReady$ = this.summaryFacade.ingenicoFormReady$;\n  }\n\n  ngOnInit(): void {\n    combineLatest([this.ingenicoRequest$, this.ingenicoFormReady$])\n      .pipe(untilDestroyed(this))\n      .subscribe(([req, res]) => {\n        if (req && res) {\n          this.eventFacade.triggerAnalyticsClickEvent({ name: 'redirected to payment gateway' });\n          this.child?.sendRequest(req);\n        }\n      });\n\n    // if the content of generalNotifications$ is changed, then autoscroll to the element tg-sales-summary-error-notification\n    this.summaryFacade.generalNotifications$.pipe(debounceTime(0), untilDestroyed(this)).subscribe((notifications) => {\n      if (notifications?.length > 0) {\n        const elements = document.getElementsByTagName('tg-sales-summary-error-notification');\n        if (elements.length > 0) {\n          elements[0].scrollIntoView({ behavior: 'smooth', block: 'start' });\n        }\n      }\n    });\n\n    this.eventFacade.triggerEvent(summaryStepLoaded);\n  }\n\n  onNextStep(): Observable<boolean> {\n    this.eventFacade.triggerEvent(summaryStepFinished);\n    return of(false);\n  }\n\n  showDepreciationOverlay(depreciationItem: DepreciationItem) {\n    this.eventFacade.triggerAnalyticsClickEvent({ name: 'view depreciation table link clicked' });\n    this.selectedDepreciationItem = depreciationItem;\n    this.eventFacade.triggerEvent(hideNavigationEvent);\n    this.viewState = ViewStateEnum.OVERLAY_OPEN;\n  }\n\n  closeDepreciationTableOverlay() {\n    this.selectedDepreciationItem = undefined;\n    this.eventFacade.triggerEvent(showNavigationEvent);\n    this.viewState = ViewStateEnum.OVERLAY_CLOSED;\n  }\n\n  showContractSummary() {\n    this.eventFacade.triggerAnalyticsClickEvent({ name: 'view contract summary link clicked' });\n    this.eventFacade.triggerEvent(contractSummaryLinkClicked);\n  }\n\n  showTermsAndConditions() {\n    this.eventFacade.triggerAnalyticsClickEvent({ name: 'Terms and Conditions link clicked' });\n    this.summaryFacade\n      .showTermsAndConditions()\n      .pipe(\n        take(1),\n        catchError((err) => {\n          console.warn(err.message);\n          return '';\n        })\n      )\n      .subscribe();\n  }\n\n  handlePaymentInitiated() {\n    this.eventFacade.triggerAnalyticsClickEvent({ name: 'payment initiated' });\n  }\n\n  handleOrderButtonClicked() {\n    this.eventFacade.triggerAnalyticsClickEvent({\n      name: 'order button clicked',\n      attributes: { itemName: 'upfront payment' },\n    });\n    this.eventFacade.triggerEvent(summaryStepFinished);\n  }\n}\n","<ng-container *ngIf=\"viewState === viewStateEnum.OVERLAY_CLOSED\">\n  <div [attr.data-cy]=\"'feat-summary'\" class=\"sales-page__container\" id=\"body-container\">\n    <div class=\"sales-page__container__content\">\n      <div class=\"sales-page__container__content__section width--full\">\n        <div>\n          <div class=\"sales-checkout container--medium\">\n            <div class=\"sales-page__container__title sales-page__container__title--secondary\">\n              <div class=\"display--flex flex-direction--column\">\n                <div class=\"sales-page__container__title__header text-align--center--md text-align--left\">\n                  {{ 'ng.sales-checkout.lbl.title.order-confirmation' | translate }}\n                </div>\n                <p class=\"text-align--center--md text-align--left\">\n                  {{ 'ng.sales-checkout.lbl.sub-title.order-confirmation' | translate }}\n                </p>\n              </div>\n            </div>\n            <div\n              class=\"order-confirmation-section row m--auto pl--xxxs pr--xxxs pl--n--md pr--n--md flex-direction--row--md flex-direction--column-reverse sales-review-container\">\n              <div class=\"col-sm-12 col-md-5\">\n                <div class=\"order-confirmation-section mb--xxg pb--xxl--md ng-star-inserted\">\n                  <tg-sales-summary-error-notification\n                    [notifications]=\"viewModel?.generalNotifications$ | async\"></tg-sales-summary-error-notification>\n                  <tg-sales-summary-personal-info\n                    [personalInfo]=\"viewModel?.personalInfo$ | async\"></tg-sales-summary-personal-info>\n                  <tg-sales-summary-delivery-info\n                    [notifications]=\"viewModel?.deliveryNotifications$ | async\"\n                    [deliveryInfo]=\"viewModel?.deliveryInfo$ | async\"></tg-sales-summary-delivery-info>\n                  <tg-sales-summary-invoice-info\n                    [invoiceInfo]=\"viewModel?.invoiceInfo$ | async\"></tg-sales-summary-invoice-info>\n                </div>\n              </div>\n              <div class=\"col-md-7 col-sm-12 mb--xxg--md pb--xxg--md ng-star-inserted\">\n                <div\n                  class=\"position--sticky--md sticky-header-shopping-cart position--top--md\"\n                  id=\"sticky-header-shopping-cart\"\n                  style=\"top: -257px\">\n                  <tg-sales-summary-order-data\n                    [orderItems]=\"viewModel?.orderItems$ | async\"\n                    [prices]=\"viewModel?.prices$ | async\"\n                    (orderButtonClicked)=\"handleOrderButtonClicked()\">\n                  </tg-sales-summary-order-data>\n                  <tg-sales-summary-footer\n                    (contractSummaryLinkClickedEvent)=\"showContractSummary()\"\n                    (depreciationItemClickedEvent)=\"showDepreciationOverlay($event)\"\n                    (termsAndConditionsLinkClickedEvent)=\"showTermsAndConditions()\"\n                    [contractSummaryRequired]=\"viewModel?.contractSummaryRequired$ | async\"\n                    [depreciationItems]=\"viewModel?.depreciationItems$ | async\"></tg-sales-summary-footer>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n<ng-container *ngIf=\"viewState === viewStateEnum.OVERLAY_OPEN\">\n  <tg-sales-summary-depreciation-table\n    (closeOverlayClickedEvent)=\"closeDepreciationTableOverlay()\"\n    [isSoho]=\"!(viewModel?.prices$ | async)?.vatInclusive\"\n    [depreciationItem]=\"selectedDepreciationItem\"></tg-sales-summary-depreciation-table>\n</ng-container>\n<tg-sales-ingenico-form\n  [actionUrl]=\"ingenicoFormUrl$ | async\"\n  (paymentInitiated)=\"handlePaymentInitiated()\"></tg-sales-ingenico-form>\n"],"names":["summaryEventStepKey","SummaryEventTypeEnum","contractSummaryLinkClicked","eventType","SHOW_CONTRACT_SUMMARY","EventTypeEnum","summaryStepFinished","STEP_FINISHED","body","stepKey","summaryStepLoaded","STEP_LOADED","EventFacade","hideNavigationEvent","showNavigationEvent","CommonModule","DeliverInfoComponent","DepreciationTableComponent","ErrorNotificationComponent","FooterComponent","InvoiceInfoComponent","OrderDataComponent","PersonalInfoComponent","SummaryFacade","ViewStateEnum","catchError","combineLatest","debounceTime","of","take","IngenicoFormComponent","UntilDestroy","untilDestroyed","TranslateModule","i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","SummaryStepComponent_ng_container_0_Template_tg_sales_summary_order_data_orderButtonClicked_28_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","handleOrderButtonClicked","SummaryStepComponent_ng_container_0_Template_tg_sales_summary_footer_contractSummaryLinkClickedEvent_31_listener","ctx_r4","showContractSummary","SummaryStepComponent_ng_container_0_Template_tg_sales_summary_footer_depreciationItemClickedEvent_31_listener","$event","ctx_r5","showDepreciationOverlay","SummaryStepComponent_ng_container_0_Template_tg_sales_summary_footer_termsAndConditionsLinkClickedEvent_31_listener","ctx_r6","showTermsAndConditions","ɵɵelementContainerEnd","ɵɵadvance","ɵɵattribute","ɵɵtextInterpolate1","ɵɵpipeBind1","ɵɵproperty","ctx_r0","viewModel","generalNotifications$","personalInfo$","deliveryNotifications$","deliveryInfo$","invoiceInfo$","orderItems$","prices$","contractSummaryRequired$","depreciationItems$","SummaryStepComponent_ng_container_1_Template_tg_sales_summary_depreciation_table_closeOverlayClickedEvent_1_listener","_r8","ctx_r7","closeDepreciationTableOverlay","tmp_0_0","ctx_r1","vatInclusive","selectedDepreciationItem","SummaryStepComponent","constructor","eventFacade","summaryFacade","viewState","OVERLAY_CLOSED","viewStateEnum","ingenicoRequest$","ingenicoFormUrl$","sortedOrderItems$","ingenicoFormReady$","ngOnInit","pipe","subscribe","req","res","triggerAnalyticsClickEvent","name","child","sendRequest","notifications","length","elements","document","getElementsByTagName","scrollIntoView","behavior","block","triggerEvent","onNextStep","depreciationItem","OVERLAY_OPEN","undefined","err","console","warn","message","handlePaymentInitiated","attributes","itemName","_","ɵɵdirectiveInject","i1","i2","_2","selectors","viewQuery","SummaryStepComponent_Query","rf","ctx","ɵɵtemplate","SummaryStepComponent_ng_container_0_Template","SummaryStepComponent_ng_container_1_Template","SummaryStepComponent_Template_tg_sales_ingenico_form_paymentInitiated_2_listener","i3","NgIf","AsyncPipe","i4","TranslatePipe","encapsulation","__decorate"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}