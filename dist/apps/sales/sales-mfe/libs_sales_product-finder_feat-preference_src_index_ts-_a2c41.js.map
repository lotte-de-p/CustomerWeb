{"version":3,"file":"libs_sales_product-finder_feat-preference_src_index_ts-_a2c41.js","mappings":"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","sources":["./libs/sales/product-finder/feat-preference/src/lib/preference/preference.component.ts","./libs/sales/product-finder/feat-preference/src/lib/preference/preference.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, ReactiveFormsModule } from '@angular/forms';\nimport { Preference, PreferenceFacade, ProductFinderNgrxModule } from '@sales/product-finder/data-access';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { AsyncPipe, NgIf } from '@angular/common';\nimport { ImageSrcInterceptorDirective } from '@sales/shared/util';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { OverlayPopupComponent } from '@telenet/ng-lib-shared';\nimport { CheckboxComponent } from '@sales/shared/ui';\n\n@UntilDestroy()\n@Component({\n  standalone: true,\n  selector: 'app-sales-product-finder-preference',\n  templateUrl: './preference.component.html',\n  imports: [\n    ReactiveFormsModule,\n    ProductFinderNgrxModule,\n    NgIf,\n    AsyncPipe,\n    ImageSrcInterceptorDirective,\n    TranslateModule,\n    OverlayPopupComponent,\n    CheckboxComponent,\n  ],\n})\nexport class PreferenceComponent implements OnInit {\n  readonly preferenceFrom: FormGroup = this.fb.nonNullable.group({\n    mobile: new FormControl<boolean>(false),\n    surfing: new FormControl<boolean>(false),\n    watchTv: new FormControl<boolean>(false),\n    fixedLine: new FormControl<boolean>(false),\n  });\n\n  readonly showAtLeastOneValueIsTrueError$: Observable<boolean> =\n    this.preferenceFacade.hasErrorRequireAtLeastOnePreferenceToBeSelected$;\n  readonly showPopup$: Observable<boolean> = this.preferenceFacade.hasErrorRequireInternetWhenTvIsSelected$;\n\n  constructor(\n    private readonly fb: FormBuilder,\n    private readonly preferenceFacade: PreferenceFacade\n  ) {}\n\n  ngOnInit(): void {\n    this.preferenceFacade.preference$.pipe(take(1), untilDestroyed(this)).subscribe((preference: Preference) => {\n      this.preferenceFrom.patchValue(preference);\n    });\n\n    this.preferenceFrom.valueChanges.pipe(untilDestroyed(this)).subscribe((preference: Preference) => {\n      this.preferenceFacade.updatePreference(preference);\n    });\n  }\n\n  selectInternet(): void {\n    this.preferenceFrom.patchValue({ surfing: true });\n  }\n\n  closePopup(): void {\n    this.preferenceFacade.clearError();\n  }\n}\n","<app-overlay-popup\n  *ngIf=\"showPopup$ | async\"\n  [title]=\"'ng.product-finder.step-preferences.popup.title' | translate\"\n  [content]=\"'ng.product-finder.step-preferences.popup.text' | translate\"\n  [primaryButtonText]=\"'ng.product-finder.step-preferences.popup.btn.accept' | translate\"\n  (primaryButtonClicked)=\"selectInternet()\"\n  (closeButtonClicked)=\"closePopup()\"></app-overlay-popup>\n<div class=\"stepper-page__body\">\n  <div class=\"stepper-page__body-inner\">\n    <div class=\"stepper-page__title\">\n      <div class=\"text-flow text-flow--h3\">{{ 'ng.product-finder.step-preferences.header' | translate }}</div>\n\n      <div class=\"font--caption mt--xxxs stepper-page__title-label\">\n        {{ 'ng.product-finder.step-preferences.sub-header' | translate }}\n      </div>\n    </div>\n\n    <div class=\"stepper-page__content--split container\">\n      <div\n        class=\"stepper-page__content-first stepper-page__content-first--full-width-img flex-hide-until-md sticky ml--xm--md ml--n--lg\">\n        <img\n          appSalesImageSrcInterceptor\n          [moduleId]=\"'product-finder'\"\n          src=\"/assets/sales/product-finder/preference/preference.png\"\n          alt=\"preference image\" />\n      </div>\n\n      <div id=\"product-finder-v2-container\" class=\"stepper-page__content-second mx--s--md mx--n--lg\">\n        <div *ngIf=\"showAtLeastOneValueIsTrueError$ | async\" class=\"mb--m mx--l mx--n--md\">\n          <div class=\"notification notification--errorfield\">\n            <span class=\"icon icon-error-shape errorfield\"></span>\n            <div>\n              <p>{{ 'ng.product-finder.step-preferences.multiple.options.error' | translate }}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"Container Container--partitioned py--m--md mx--n\">\n          <div class=\"Container--partitioned--partition Container--partitioned--partition--last-item\">\n            <div\n              class=\"select-tile--group display--grid grid-template-column--2--md gap--xm mx--m--md\"\n              [formGroup]=\"preferenceFrom\">\n              <tg-sales-checkbox\n                [iconClass]=\"'icon-wifi-signal'\"\n                [label]=\"'ng.product-finder.step-preferences.surf'\"\n                formControlName=\"surfing\">\n              </tg-sales-checkbox>\n              <tg-sales-checkbox\n                [iconClass]=\"'icon-pc'\"\n                [label]=\"'ng.product-finder.step-preferences.watch'\"\n                formControlName=\"watchTv\">\n              </tg-sales-checkbox>\n              <tg-sales-checkbox\n                [iconClass]=\"'icon-mobile'\"\n                [label]=\"'ng.product-finder.step-preferences.mobile'\"\n                formControlName=\"mobile\">\n              </tg-sales-checkbox>\n              <tg-sales-checkbox\n                [iconClass]=\"'icon-telephone'\"\n                [label]=\"'ng.product-finder.step-preferences.fixed-line'\"\n                formControlName=\"fixedLine\">\n              </tg-sales-checkbox>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"names":["FormBuilder","FormControl","ReactiveFormsModule","PreferenceFacade","ProductFinderNgrxModule","UntilDestroy","untilDestroyed","take","AsyncPipe","NgIf","ImageSrcInterceptorDirective","TranslateModule","OverlayPopupComponent","CheckboxComponent","i0","ɵɵelementStart","ɵɵlistener","PreferenceComponent_app_overlay_popup_0_Template_app_overlay_popup_primaryButtonClicked_0_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","selectInternet","PreferenceComponent_app_overlay_popup_0_Template_app_overlay_popup_closeButtonClicked_0_listener","ctx_r4","closePopup","ɵɵelementEnd","ɵɵproperty","ɵɵpipeBind1","ɵɵelement","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate","PreferenceComponent","constructor","fb","preferenceFacade","preferenceFrom","nonNullable","group","mobile","surfing","watchTv","fixedLine","showAtLeastOneValueIsTrueError$","hasErrorRequireAtLeastOnePreferenceToBeSelected$","showPopup$","hasErrorRequireInternetWhenTvIsSelected$","ngOnInit","preference$","pipe","subscribe","preference","patchValue","valueChanges","updatePreference","clearError","_","ɵɵdirectiveInject","i1","i2","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","PreferenceComponent_Template","rf","ctx","ɵɵtemplate","PreferenceComponent_app_overlay_popup_0_Template","PreferenceComponent_div_15_Template","ɵɵtextInterpolate1","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","i3","TranslatePipe","encapsulation","__decorate"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}