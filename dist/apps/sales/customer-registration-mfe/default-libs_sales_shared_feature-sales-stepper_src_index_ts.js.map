{"version":3,"file":"default-libs_sales_shared_feature-sales-stepper_src_index_ts.js","mappings":"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","sources":["./libs/sales/shared/feature-sales-stepper/src/index.ts","./libs/sales/shared/feature-sales-stepper/src/lib/components/index.ts","./libs/sales/shared/feature-sales-stepper/src/lib/components/sales-component-view.component.ts","./libs/sales/shared/feature-sales-stepper/src/lib/components/sales-component-view.component.html","./libs/sales/shared/feature-sales-stepper/src/lib/components/sales-stepper.component.ts","./libs/sales/shared/feature-sales-stepper/src/lib/components/sales-stepper.component.html","./libs/sales/shared/feature-sales-stepper/src/lib/directives/index.ts","./libs/sales/shared/feature-sales-stepper/src/lib/directives/sales-stepper.directive.ts"],"sourcesContent":["export * from './lib/components';\nexport * from './lib/directives';\n","export * from './sales-stepper.component';\nexport * from './sales-component-view.component';\n","import { Component, Input, ViewChild, inject, OnInit } from '@angular/core';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { SalesStepperDirective } from '../directives';\nimport { ComponentStep, StepFacade } from '@sales/shared/data-access';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'tg-sales-component-viewer',\n  standalone: true,\n  templateUrl: './sales-component-view.component.html',\n  imports: [SalesStepperDirective],\n})\n@UntilDestroy()\nexport class SalesComponentViewComponent implements OnInit {\n  @Input() componentSteps: ComponentStep[] = [];\n\n  @ViewChild(SalesStepperDirective, { static: true }) stepContainer: SalesStepperDirective;\n\n  stepFacade = inject(StepFacade);\n  currentStepKey$ = this.stepFacade.currentStepKey$;\n\n  nextStep: () => Observable<boolean>;\n\n  ngOnInit() {\n    this.currentStepKey$.pipe(untilDestroyed(this)).subscribe((currentStep) => {\n      const step = this.componentSteps.find((step) => currentStep === step.key);\n      if (step && step.component) {\n        this.stepContainer.viewContainer.clear();\n        const stepComponentComponentRef = this.stepContainer.viewContainer.createComponent(step.component);\n        const instance = stepComponentComponentRef.instance;\n        this.stepFacade.setNextButtonLabel(step.nextButtonLabel);\n        this.nextStep = instance.onNextStep.bind(instance);\n      } else {\n        console.log('No step found for key:' + currentStep);\n      }\n    });\n  }\n}\n","<ng-container appSalesStepperDirective></ng-container>\n","import { Component, EventEmitter, inject, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { ComponentStep, StepFacade, StepsNgrxModule } from '@sales/shared/data-access';\nimport { SalesComponentViewComponent } from './sales-component-view.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AsyncPipe, NgClass, NgIf } from '@angular/common';\n\n@UntilDestroy()\n@Component({\n  selector: 'tg-sales-stepper',\n  standalone: true,\n  templateUrl: './sales-stepper.component.html',\n  imports: [TranslateModule, NgIf, NgClass, SalesComponentViewComponent, StepsNgrxModule, AsyncPipe],\n})\nexport class SalesStepperComponent implements OnInit {\n  stepFacade = inject(StepFacade);\n  @ViewChild(SalesComponentViewComponent)\n  child: SalesComponentViewComponent;\n  @Input()\n  steps: ComponentStep[] = [];\n  currentStepNumber: number;\n  isConfirmationStep: boolean;\n  hasNextStep = true;\n  nextStepLabel = 'ng.step-flow.next-step-label';\n  messageGroup: string;\n  progressPercentage: string;\n  isLoading: boolean;\n  @Input() showStepCounter: boolean;\n  @Input() showSalesContactNumber: boolean;\n  @Input() showStepProgressBar: boolean;\n  @Input() showNavigation: boolean | undefined;\n  @Input() showBackButton = true;\n\n  @Input() dynamicShadow: boolean;\n\n  @Output() nextButtonClicked = new EventEmitter();\n\n  currentStepKey$ = this.stepFacade.currentStepKey$;\n  buttonTextOverride$ = this.stepFacade.nextButtonLabel$;\n\n  ngOnInit(): void {\n    this.stepFacade.goToFirstStep();\n  }\n\n  goToNextStep() {\n    this.nextButtonClicked.emit();\n    this.child\n      .nextStep()\n      .pipe(untilDestroyed(this))\n      .subscribe((shouldGoToNextStep) => {\n        if (shouldGoToNextStep) {\n          this.stepFacade.goToNextStep();\n        }\n      });\n  }\n\n  goToPreviousStep() {\n    this.stepFacade.goToPreviousStep();\n  }\n\n  browserBack() {\n    this.stepFacade.browserBack();\n  }\n}\n","<tg-sales-component-viewer [componentSteps]=\"steps\"></tg-sales-component-viewer>\n<div\n  *ngIf=\"showNavigation\"\n  [attr.data-cy]=\"'navigation-bar'\"\n  [class.disabled]=\"isLoading\"\n  [class.sticky-footer--flow__dynamic-shadow]=\"dynamicShadow\"\n  class=\"sticky-footer-v2 position--fixed background-white width--full py--m px--xm p--xm--md display--flex justify-content--center align-items--center box-sizing--inherit shadow--xs-inverse position--bottom position--left\">\n  <div\n    class=\"sticky-footer-v2__container width--full default-max-site-width display--flex justify-content--between align-items--center\">\n    <!-- left arrow and back text-->\n    <div class=\"back-section\">\n      <ng-container *ngIf=\"showBackButton\">\n        <ng-template [ngIf]=\"(stepFacade.isFirstStep$ | async) === false\" [ngIfElse]=\"browserBackButton\">\n          <button\n            (click)=\"goToPreviousStep()\"\n            [attr.data-cy]=\"'navigation-bar-previous'\"\n            [class.disabled]=\"isLoading\"\n            class=\"button button--secondary button__icon--position-left\">\n            <i class=\"icon icon-chevron-left\"></i>\n            <span>{{ 'ng.step-flow.previous-step-label' | translate }}</span>\n          </button>\n        </ng-template>\n        <ng-template #browserBackButton>\n          <button\n            (click)=\"browserBack()\"\n            [attr.data-cy]=\"'navigation-bar-previous'\"\n            [class.disabled]=\"isLoading\"\n            class=\"button button--secondary button__icon--position-left\">\n            <i class=\"icon icon-chevron-left\"></i>\n            <span>{{ 'ng.step-flow.previous-step-label' | translate }}</span>\n          </button>\n        </ng-template>\n      </ng-container>\n    </div>\n    <div\n      *ngIf=\"this.showSalesContactNumber\"\n      class=\"display--flex flex-direction--column font-weight--bold align-items--center\">\n      <div>\n        <span>{{ messageGroup + '.info.free-sales-number' }}</span>\n      </div>\n      <a\n        ><span>{{ messageGroup + '.free-sales-number' | translate }}</span></a\n      >\n      <div>\n        <span>{{ messageGroup + '.info.free-sales-number' }}</span>\n      </div>\n      <a>{{ messageGroup + '.free-sales-number' | translate }}</a>\n    </div>\n    <div [class.next-section]=\"currentStepNumber !== 1 && !isConfirmationStep\">\n      <button\n        (click)=\"goToNextStep()\"\n        [attr.data-cy]=\"'navigation-bar-next'\"\n        [class.disabled]=\"isLoading\"\n        [class.visibility--hide]=\"!hasNextStep\"\n        class=\"button button--primary button__icon--position-right\">\n        <ng-container *ngIf=\"buttonTextOverride$ | async as labelKey; else defaultLabel\">\n          <span>{{ labelKey | translate }}</span>\n        </ng-container>\n        <ng-template #defaultLabel>\n          <span>{{ this.nextStepLabel | translate }}</span></ng-template\n        >\n        <i class=\"icon icon-chevron-right\"></i>\n      </button>\n    </div>\n  </div>\n</div>\n","export * from './sales-stepper.directive';\n","import { Directive, ViewContainerRef } from '@angular/core';\n@Directive({\n  selector: '[appSalesStepperDirective]',\n  standalone: true,\n})\nexport class SalesStepperDirective {\n  constructor(public viewContainer: ViewContainerRef) {}\n}\n"],"names":["inject","UntilDestroy","untilDestroyed","SalesStepperDirective","StepFacade","SalesComponentViewComponent","constructor","componentSteps","stepFacade","currentStepKey$","ngOnInit","pipe","subscribe","currentStep","step","find","key","component","stepContainer","viewContainer","clear","stepComponentComponentRef","createComponent","instance","setNextButtonLabel","nextButtonLabel","nextStep","onNextStep","bind","console","log","_","_2","selectors","viewQuery","SalesComponentViewComponent_Query","rf","ctx","i0","ɵɵelementContainer","encapsulation","__decorate","EventEmitter","StepsNgrxModule","TranslateModule","AsyncPipe","NgIf","ɵɵelementStart","ɵɵlistener","SalesStepperComponent_div_1_ng_container_3_ng_template_1_Template_button_click_0_listener","ɵɵrestoreView","_r10","ctx_r9","ɵɵnextContext","ɵɵresetView","goToPreviousStep","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵclassProp","ctx_r6","isLoading","ɵɵattribute","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","SalesStepperComponent_div_1_ng_container_3_ng_template_3_Template_button_click_0_listener","_r12","ctx_r11","browserBack","ctx_r7","ɵɵelementContainerStart","ɵɵtemplate","SalesStepperComponent_div_1_ng_container_3_ng_template_1_Template","SalesStepperComponent_div_1_ng_container_3_ng_template_3_Template","ɵɵtemplateRefExtractor","ɵɵelementContainerEnd","ɵɵproperty","ctx_r1","isFirstStep$","_r8","ctx_r2","messageGroup","labelKey_r13","ctx_r4","nextStepLabel","SalesStepperComponent_div_1_ng_container_3_Template","SalesStepperComponent_div_1_div_4_Template","SalesStepperComponent_div_1_Template_button_click_6_listener","_r15","ctx_r14","goToNextStep","SalesStepperComponent_div_1_ng_container_7_Template","SalesStepperComponent_div_1_ng_template_9_Template","ctx_r0","dynamicShadow","showBackButton","showSalesContactNumber","currentStepNumber","isConfirmationStep","hasNextStep","buttonTextOverride$","_r5","SalesStepperComponent","steps","nextButtonClicked","nextButtonLabel$","goToFirstStep","emit","child","shouldGoToNextStep","SalesStepperComponent_Query","SalesStepperComponent_div_1_Template","showNavigation","i1","TranslatePipe","ViewContainerRef","ɵɵdirectiveInject","standalone"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}