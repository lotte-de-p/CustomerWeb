{"version":3,"file":"apps_marketing_marketing-mfe_src_app_cafe_priced-customer-product-holding_ui_priced-customer--2fac261.js","mappings":"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","sources":["./apps/marketing/marketing-mfe/src/app/cafe/marketing-cafe-ngxs.module.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/model/backend-error.notification.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/model/business-customer.notification.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/model/no-manager.notification.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/model/no-products.notification.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/model/notification.model.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/service/abstract.mapper.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/service/data-sim.mapper.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/service/default.mapper.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/service/digital-tv.mapper.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/service/fixed-tel.mapper.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/service/internet.mapper.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/service/mobile.mapper.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/service/notifications.service.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/service/priced-cph-datalayer.service.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/service/priced-cph.service.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/service/specifications-mapper.service.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/service/translate-helper.service.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/state/priced-cph-state.model.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/state/priced-cph.actions.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/state/priced-cph.state.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/bill-price/bill-price.component.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/bill-price/bill-price.component.html","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/directives/panel-toggler.directive.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/disclaimer/disclaimer.component.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/disclaimer/disclaimer.component.html","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/drop-down-accordion-header/drop-down-accordion-header.component.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/drop-down-accordion-header/drop-down-accordion-header.component.html","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/drop-down-accordion-panel/drop-down-accordion-panel.component.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/drop-down-accordion-panel/drop-down-accordion-panel.component.html","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/drop-down-accordion/drop-down-accordion.component.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/drop-down-accordion/drop-down-accordion.component.html","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/error-notification/error-notification.component.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/error-notification/error-notification.component.html","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/group/overview-group-type.enum.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/group/overview-group.component.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/group/overview-group.component.html","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/priced-customer-product-holding/priced-customer-product-holding.component.ts","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/ui/priced-customer-product-holding/priced-customer-product-holding.component.html","./apps/marketing/marketing-mfe/src/app/cafe/priced-customer-product-holding/util/priced-cph.constants.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/bills/mappers/cafe-bills.mapper.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/bills/services/cafe-bills.service.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/bills/utils/cafe-bills.util.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/contact-details/enums/cafe-contact-detail-type.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/contact-details/mappers/cafe-contact-details.mapper.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/contact-details/models/cafe-contact-details.model.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/contact-details/services/cafe-contact-details.service.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/product-holding/constants/product-characteristic.enum.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/product-holding/constants/product.constants.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/product-holding/mappers/option.mapper.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/product-holding/mappers/product-holding.mapper.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/product-holding/mappers/product.mapper.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/product-holding/models/option.model.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/product-holding/models/product-holding.model.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/product-holding/models/product-identifier.enum.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/product-holding/models/product.model.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/product-holding/services/base-product-holding.service.ts","./apps/marketing/marketing-mfe/src/app/http/cafe/product-holding/services/product-holding-adaptor.service.ts","./apps/marketing/marketing-mfe/src/app/http/common/address/mappers/address.mapper.ts","./apps/marketing/marketing-mfe/src/app/http/common/address/models/address.model.ts","./apps/marketing/marketing-mfe/src/app/http/common/address/utils/address.util.ts","./apps/marketing/marketing-mfe/src/app/http/common/geolocation/models/location.model.ts","./node_modules/factory.ts/lib/shared.js","./node_modules/immer/dist/immer.mjs","./node_modules/lodash-es/head.js"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { NgxsModule } from '@ngxs/store';\nimport { PricedCphState } from './priced-customer-product-holding/state/priced-cph.state';\n\n@NgModule({\n  imports: [NgxsModule.forFeature([PricedCphState])],\n})\nexport class MarketingCafeNgxsModule {}\n","import { Notification, NotificationTypeEnum } from './notification.model';\nimport { Observable, of } from 'rxjs';\n\nexport class BackendErrorNotification implements Notification {\n  type = NotificationTypeEnum.ERROR;\n  labelKey = 'general';\n\n  shouldShow(): Observable<boolean> {\n    return of(false);\n  }\n}\n","import { Notification, NotificationTypeEnum } from './notification.model';\nimport { Observable, of } from 'rxjs';\nimport { Injector } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport { PricedCphConstants } from '../util/priced-cph.constants';\nimport { CafeContactDetailsService } from '../../../http/cafe/contact-details/services/cafe-contact-details.service';\n\nexport class BusinessCustomerNotification implements Notification {\n  labelKey = 'business-customer';\n  type = NotificationTypeEnum.ERROR;\n\n  shouldShow(injector?: Injector): Observable<boolean> {\n    const cafeContactDetailsService = injector?.get<CafeContactDetailsService>(CafeContactDetailsService);\n\n    return (\n      cafeContactDetailsService\n        ?.getContactDetails(PricedCphConstants.MESSAGE_GROUP)\n        .pipe(map((cafeContactDetails) => cafeContactDetails && cafeContactDetails.isOrganization())) || of(false)\n    );\n  }\n}\n","import { Notification, NotificationTypeEnum } from './notification.model';\nimport { Injector } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { Store } from '@ngxs/store';\nimport { PricedCphState } from '../state/priced-cph.state';\n\nexport class NoManagerNotification implements Notification {\n  labelKey = 'no-manager';\n  type = NotificationTypeEnum.WARNING;\n\n  shouldShow(injector?: Injector): Observable<boolean> {\n    const store = injector?.get<Store>(Store);\n    const loginDetails = store?.selectSnapshot(PricedCphState.loginDetails);\n\n    return of(!loginDetails?.hasManagerRole());\n  }\n}\n","import { Notification, NotificationTypeEnum } from './notification.model';\nimport { Observable, of } from 'rxjs';\nimport { Injector } from '@angular/core';\nimport { Store } from '@ngxs/store';\nimport { PricedCphState } from '../state/priced-cph.state';\nimport { PricedCphOverview } from './priced-cph-data.model';\n\nexport class NoProductsNotification implements Notification {\n  type = NotificationTypeEnum.ERROR;\n  labelKey = 'no-products';\n\n  shouldShow(injector?: Injector): Observable<boolean> {\n    const store = injector?.get<Store>(Store);\n    const overview = store?.selectSnapshot(PricedCphState.overview);\n\n    return of(this.hasNoProducts(overview));\n  }\n\n  private hasNoProducts(overview?: PricedCphOverview[]): boolean {\n    return !overview || !overview.some((value) => value.products && value.products.length > 0);\n  }\n}\n","import { Injector } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nexport type ValidationFunction = (injector?: Injector) => Observable<boolean>;\n\nexport interface Notification {\n  type: NotificationTypeEnum;\n  labelKey: string;\n\n  shouldShow: ValidationFunction;\n}\n\nexport enum NotificationTypeEnum {\n  INFO,\n  ERROR,\n  WARNING,\n}\n","import { MapperInterface } from './mapper.interface';\nimport { OmapiProduct } from '@telenet/ng-lib-omapi';\nimport { Product } from '../../../http/cafe/product-holding/models/product.model';\nimport { Label, PricedCphSpec } from '../model/priced-cph-data.model';\n\nexport abstract class AbstractMapper implements MapperInterface {\n  private static readonly MAX_WEIGHT = 999;\n  protected constructor(private readonly icon: string) {}\n\n  map(product?: Product, parent?: Product): PricedCphSpec | undefined {\n    if (!product) {\n      return undefined;\n    }\n\n    const label = this.getLabel(product, parent);\n    return {\n      key: this.getKey(label),\n      label: label,\n      amount: 1,\n      icon: this.icon,\n      weight: this.getWeight(product?.productInfo),\n    };\n  }\n\n  protected getKey(label: Label) {\n    return label.key;\n  }\n\n  protected getWeight(omapiProduct?: OmapiProduct): number {\n    return omapiProduct && omapiProduct.weight ? omapiProduct.weight : AbstractMapper.MAX_WEIGHT;\n  }\n\n  protected abstract getLabel(product?: Product, parent?: Product): Label;\n}\n","import { AbstractMapper } from './abstract.mapper';\nimport { Product } from '../../../http/cafe/product-holding/models/product.model';\nimport { Label } from '../model/priced-cph-data.model';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DataSimMapper extends AbstractMapper {\n  private readonly _key = 'ng.product-finder.step-card-offer.mobile-data-sim';\n  constructor() {\n    super('icon-sim-card-data');\n  }\n\n  protected getLabel(_product: Product, _parent: Product): Label {\n    return { key: this._key };\n  }\n}\n","import { AbstractMapper } from './abstract.mapper';\nimport { Product } from '../../../http/cafe/product-holding/models/product.model';\nimport { Label } from '../model/priced-cph-data.model';\nimport { Injectable } from '@angular/core';\nimport { TranslateHelperService } from './translate-helper.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DefaultMapper extends AbstractMapper {\n  constructor(private readonly translateHelperService: TranslateHelperService) {\n    super('');\n  }\n\n  protected getKey(label: Label): string {\n    return label?.args?.['itemName'] || '';\n  }\n\n  protected getLabel(product: Product, _parent: Product): Label {\n    const labelKey = this.translateHelperService.getLabel('item');\n\n    return { key: labelKey, args: { itemName: product?.productInfo?.name ?? 'unknown' } };\n  }\n}\n","import { AbstractMapper } from './abstract.mapper';\nimport { Label } from '../model/priced-cph-data.model';\nimport { Injectable } from '@angular/core';\nimport { Product } from '../../../http/cafe/product-holding/models/product.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DigitalTvMapper extends AbstractMapper {\n  static readonly ICON_DTV = 'icon-tv';\n  private readonly _key = 'ng.product-finder.step-card-offer.dtv';\n\n  constructor() {\n    super(DigitalTvMapper.ICON_DTV);\n  }\n\n  protected getLabel(product: Product, parent?: Product): Label {\n    let key = this._key;\n\n    switch (true) {\n      case product.isFlow():\n        key += '-flow';\n        break;\n      case product.isIconic():\n        key += '-terugkijk-play';\n        break;\n      case product.isYugoTv():\n        key += '-yugo';\n        break;\n      case !parent:\n        key += '-standalone';\n        break;\n      case this.isHighTierWigo(parent):\n        key += '-terugkijk';\n        break;\n    }\n\n    return { key: key };\n  }\n\n  private isHighTierWigo(product?: Product): boolean {\n    return Boolean(product?.productInfo?.isWigo() && product?.productInfo?.isHighTier());\n  }\n}\n","import { AbstractMapper } from './abstract.mapper';\nimport { Injectable } from '@angular/core';\nimport { Label } from '../model/priced-cph-data.model';\nimport { Product } from '../../../http/cafe/product-holding/models/product.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class FixedTelMapper extends AbstractMapper {\n  static readonly ICON_FIXED_TEL = 'icon-telephone';\n  private readonly _key = 'ng.product-finder.step-card-offer.fixed-tel';\n\n  constructor() {\n    super(FixedTelMapper.ICON_FIXED_TEL);\n  }\n\n  protected getLabel(_product: Product, parent?: Product): Label {\n    let key = this._key;\n    switch (true) {\n      case !parent:\n        key += '-standalone';\n        break;\n      case this.isWigo3p(parent):\n        key += '-wigo3P';\n        break;\n      case this.isWigo4p(parent):\n        key += '-wigo4P';\n        break;\n      case this.isConnect5(parent):\n        key += '-one';\n        break;\n    }\n    return { key: key };\n  }\n\n  private isWigo4p(product?: Product): boolean {\n    return (product?.is4P() && product?.productInfo?.isWigo()) || false;\n  }\n\n  private isWigo3p(product?: Product): boolean {\n    return (product?.is3P() && product?.productInfo?.isWigo()) || false;\n  }\n\n  private isConnect5(product?: Product): boolean {\n    return product?.productInfo?.isConnect5() || false;\n  }\n}\n","import { AbstractMapper } from './abstract.mapper';\nimport { Product } from '../../../http/cafe/product-holding/models/product.model';\nimport { Label } from '../model/priced-cph-data.model';\nimport { Injectable } from '@angular/core';\nimport { SpecificationInterface } from '@telenet/ng-lib-omapi';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class InternetMapper extends AbstractMapper {\n  static readonly ICON_WIFI_SIGNAL = 'icon-wifi-signal';\n\n  private readonly _downloadSpeedSpec = 'spec.fixedinternet.speed.download';\n  private readonly _downloadVolumeSpec = 'spec.fixedinternet.volume.download.cap';\n  private readonly FUP = 'FUP';\n  private readonly _serviceCategory = 'serviceCategory';\n\n  constructor() {\n    super(InternetMapper.ICON_WIFI_SIGNAL);\n  }\n\n  protected getLabel(product: Product, _parent: Product): Label {\n    const keyValue =\n      product && product.productInfo && this.FUP === product.productInfo.getCharacteristic(this._serviceCategory)\n        ? 'ng.product-finder.step-card-offer.unlimited.internet'\n        : 'ng.product-finder.step-card-offer.internet';\n\n    return { key: keyValue, args: this.getLabelArgs(product) };\n  }\n\n  private getLabelArgs(product: Product): object | undefined {\n    const downloadSpeedSpec = this.getSpecOrUndefined(product, this._downloadSpeedSpec);\n    const downloadVolumeSpec = this.getSpecOrUndefined(product, this._downloadVolumeSpec);\n\n    let args = {};\n\n    if (downloadSpeedSpec) {\n      args = Object.assign(args, { internetSpeed: this.createSpecString(downloadSpeedSpec) });\n    }\n    if (downloadVolumeSpec && downloadVolumeSpec.value !== this.FUP) {\n      args = Object.assign(args, { internetVolume: this.createSpecString(downloadVolumeSpec) });\n    }\n\n    return Object.keys(args).length === 0 ? undefined : args;\n  }\n\n  private getSpecOrUndefined(product: Product, labelKey: string): SpecificationInterface | undefined {\n    return product.productInfo ? product.productInfo.getServiceSpecificationByLabelKey(labelKey) : undefined;\n  }\n\n  private createSpecString(spec: SpecificationInterface): string {\n    return spec.value + ' ' + spec.unit;\n  }\n}\n","import { AbstractMapper } from './abstract.mapper';\nimport { Injectable } from '@angular/core';\nimport { Product } from '../../../http/cafe/product-holding/models/product.model';\nimport { Label } from '../model/priced-cph-data.model';\nimport { SpecificationInterface } from '@telenet/ng-lib-omapi';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MobileMapper extends AbstractMapper {\n  static readonly ICON_MOBILE = 'icon-mobile';\n  private readonly _key = 'ng.product-finder.step-card-offer.mobile-data-';\n  private readonly _gbDisplay: string = ' GB';\n  private readonly _unlimitedDisplay: string = 'Unlimited';\n  private readonly _mobileInternetVolume: string = 'spec.mobileinternet.volume.cap';\n  private readonly _mobileInternet: string = 'MOBILE_INTERNET';\n\n  constructor() {\n    super(MobileMapper.ICON_MOBILE);\n  }\n\n  protected getLabel(product: Product, parent: Product): Label {\n    let key = this._key;\n    let args;\n    let maxMobileLines;\n    const hasParent = !parent ? true : false;\n\n    switch (true) {\n      case this.isWigo(parent):\n        key += 'wigo';\n        maxMobileLines = this.getMaxMobileLines(parent);\n        args = { data: this.getDataForParent(product, parent), simCards: maxMobileLines };\n        key += maxMobileLines > 1 ? '.multiple-sim-cards' : '.single-sim-cards';\n\n        break;\n      case this.isConnect5(parent):\n        key += 'one';\n        break;\n      case product.isPVV():\n        key += 'pvv';\n        break;\n      case hasParent:\n        args = { data: this.getData(product) };\n        key += 'standalone';\n        break;\n    }\n\n    return { key: key, args: args };\n  }\n\n  private getDataForParent(product: Product, parent: Product): string {\n    return product.productInfo && product.productInfo.hasUnlimitedInternetBasedOnLabelKey()\n      ? this._unlimitedDisplay\n      : parent?.productInfo?.getSharedMobileData() + this._gbDisplay;\n  }\n\n  private getData(product: Product): string {\n    const spec: SpecificationInterface | undefined =\n      product.productInfo &&\n      product.productInfo.getServiceSpecificationByLabelKey(this._mobileInternetVolume, this._mobileInternet);\n\n    return (spec && spec.value + ' ' + spec.unit) ?? '';\n  }\n\n  private isWigo(product: Product): boolean {\n    return product?.productInfo?.isWigo() ?? false;\n  }\n\n  private isConnect5(product: Product): boolean {\n    return product?.productInfo?.isConnect5() ?? false;\n  }\n\n  private getMaxMobileLines(product: Product): number {\n    return Number(product?.productInfo?.getMaxMobileLines());\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { from, Observable } from 'rxjs';\nimport { Notification } from '../model/notification.model';\nimport { filter, map, mergeMap, take } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class NotificationsService {\n  constructor(private readonly injector: Injector) {}\n\n  public notificationsIfConditionsMet$(notifications: Notification[]): Observable<Notification> {\n    return from(notifications).pipe(\n      mergeMap((notification) => {\n        return notification.shouldShow(this.injector).pipe(\n          filter((shouldShowNotification) => shouldShowNotification),\n          map(() => notification)\n        );\n      }),\n      take(1)\n    );\n  }\n}\n","import { Injectable, inject } from '@angular/core';\nimport { DataLayerService } from '@telenet/ng-lib-datalayer';\nimport { PricedCphConstants } from '../util/priced-cph.constants';\n\n@Injectable({ providedIn: 'root' })\nexport class PricedCphDatalayerService {\n  private readonly dataLayerService = inject(DataLayerService);\n  private readonly category = this.dataLayerService.createCategory('general');\n  private readonly viewedEventInfo = this.dataLayerService.createEventInfo(\n    'Priced product holding banner viewed',\n    'impression',\n    [PricedCphConstants.MESSAGE_GROUP]\n  );\n  private readonly openedEventInfo = this.dataLayerService.createEventInfo(\n    'Priced product holding banner opened',\n    'click',\n    [PricedCphConstants.MESSAGE_GROUP]\n  );\n\n  public pushComponentViewed(): void {\n    this.dataLayerService.sendEvent({ eventInfo: this.viewedEventInfo, attributes: {}, category: this.category });\n  }\n\n  public pushComponentOpened(): void {\n    this.dataLayerService.sendEvent({ eventInfo: this.openedEventInfo, attributes: {}, category: this.category });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ProductHolding } from '../../../http/cafe/product-holding/models/product-holding.model';\nimport { Product } from '../../../http/cafe/product-holding/models/product.model';\nimport { PricedCphItem, PricedCphOverview, PricedCphSpec } from '../model/priced-cph-data.model';\nimport { Option } from '../../../http/cafe/product-holding/models/option.model';\nimport { OmapiProduct } from '@telenet/ng-lib-omapi';\nimport { CafeBill } from '../../../http/cafe/bills/interfaces/cafe-bill.interface';\nimport { CafeBillsUtil } from '../../../http/cafe/bills/utils/cafe-bills.util';\nimport { SpecificationsMapperService } from './specifications-mapper.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PricedCphService {\n  private static readonly MAX_WEIGHT = 999;\n\n  constructor(private readonly specificationsMapperService: SpecificationsMapperService) {}\n\n  public getOverview(productHolding: ProductHolding, bills: CafeBill[]): PricedCphOverview[] {\n    const overviews = [];\n    if (productHolding.products && productHolding.products.length > 0) {\n      const products = this.getVisibleProductsOnFirstInstallationAddress(productHolding);\n      if (products.length === 0) {\n        return this.defaultOverviews();\n      }\n      const accountNumbers: number[] = this.getFlattenedUniqueAccountNumbers(productHolding);\n      for (const accountNumber of accountNumbers) {\n        let cphOverview: PricedCphOverview = this.getCphOverview(products, accountNumber);\n        cphOverview =\n          bills.length > 0 && cphOverview.products.length > 0\n            ? this.enrichWithPrice(cphOverview, bills, accountNumber)\n            : cphOverview;\n        overviews.push(cphOverview);\n      }\n      return overviews;\n    } else {\n      return this.defaultOverviews();\n    }\n  }\n\n  private defaultOverviews(): PricedCphOverview[] {\n    return [\n      {\n        products: [],\n        options: [],\n      },\n    ];\n  }\n\n  private getFlattenedUniqueAccountNumbers(productHolding: ProductHolding): number[] {\n    const accountNumbers = productHolding.products.reduce(\n      (acc: number[], val: Product) => acc.concat(val.accountNumber),\n      []\n    );\n    return Array.from(new Set(accountNumbers));\n  }\n\n  private getCphOverview(products: Product[], accountNumber: number): PricedCphOverview {\n    return {\n      products: this.getProducts(products, accountNumber).sort(this.sortByWeight()).reduce(this.groupThem, []),\n      options: this.getOptions(products, accountNumber).sort(this.sortByWeight()).reduce(this.groupThem, []),\n    };\n  }\n\n  private getVisibleProductsOnFirstInstallationAddress(productHolding: ProductHolding): Product[] {\n    const firstInstallationAddress = productHolding.installationAddresses[0];\n    const productsForAddress = productHolding.getProductsForAddress(productHolding.products, firstInstallationAddress);\n\n    return this.filterInvisibleProducts(productsForAddress);\n  }\n\n  private filterInvisibleProducts(products: Product[]): Product[] {\n    const filteredProducts = products.filter((product) => (product.productInfo ? product.productInfo.visible : false));\n\n    filteredProducts.forEach((product) => {\n      product.options = product.options.filter((option) => (option.productInfo ? option.productInfo.visible : false));\n      product.products = this.filterInvisibleProducts(product.products);\n    });\n\n    return filteredProducts;\n  }\n\n  private getProducts(products: Product[], accountNumber: number): PricedCphItem[] {\n    return products\n      .filter((product) => product.accountNumber === accountNumber)\n      .map((product: Product) => {\n        const productInfo = product.productInfo;\n        return {\n          key: product?.productInfo?.name,\n          amount: 1,\n          weight: productInfo && this.getWeight(productInfo),\n          specifications: this.getSpecifications(product),\n        } as PricedCphItem;\n      });\n  }\n\n  private getSpecifications(product: Product): PricedCphSpec[] {\n    if (product?.productInfo?.isBundle()) {\n      return product.products\n        .map((subProduct) => this.specificationsMapperService.map(subProduct, product))\n        .sort(this.sortByWeight())\n        .reduce(this.groupThem, []) as PricedCphSpec[];\n    }\n    const mappedProduct = this.specificationsMapperService.map(product);\n\n    if (mappedProduct) {\n      return [mappedProduct];\n    }\n\n    return [];\n  }\n\n  private getOptions(products: Product[], accountNumber?: number): PricedCphItem[] {\n    if (accountNumber) {\n      products = products.filter((product) => product.accountNumber === accountNumber);\n    }\n    return products.map((product: Product) => this.mapOptions(product)).flatMap((product) => product);\n  }\n\n  private mapOptions(product: Product): PricedCphItem[] {\n    return [\n      ...product.options.map((option: Option) => {\n        const productInfo = option?.productInfo;\n        return {\n          key: option?.productInfo?.name,\n          amount: 1,\n          weight: productInfo && this.getWeight(productInfo),\n        } as PricedCphItem;\n      }),\n      ...this.mapBundleOptions(product),\n    ];\n  }\n\n  private mapBundleOptions(product: Product): PricedCphItem[] {\n    if (product?.productInfo?.isBundle()) {\n      return this.getOptions(product.products);\n    }\n    return [];\n  }\n\n  private groupThem(\n    accum: (PricedCphItem | PricedCphSpec)[],\n    each?: PricedCphItem | PricedCphSpec\n  ): (PricedCphItem | PricedCphSpec)[] {\n    if (!each) return accum;\n    const existingItem = accum.find((pricedItem) => pricedItem.key === each.key);\n    if (existingItem) {\n      existingItem.amount += 1;\n    } else {\n      accum.push(each);\n    }\n    return accum;\n  }\n\n  private enrichWithPrice(overview: PricedCphOverview, bills: CafeBill[], accountNumber: number): PricedCphOverview {\n    if (bills.length > 0 && CafeBillsUtil.hasBillsForAccount(String(accountNumber), bills)) {\n      const statement = CafeBillsUtil.retrieveLastBillStatementByAccountNumber(String(accountNumber), bills);\n      overview.lastBillPrice = String(statement.billamount.amount);\n    }\n    return overview;\n  }\n\n  private sortByWeight() {\n    return (a?: PricedCphItem | PricedCphSpec, b?: PricedCphItem | PricedCphSpec) => {\n      if (a && b) {\n        return a.weight - b.weight;\n      }\n      return 0;\n    };\n  }\n\n  private getWeight(omapiProduct: OmapiProduct): number {\n    return omapiProduct && omapiProduct.weight ? omapiProduct.weight : PricedCphService.MAX_WEIGHT;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { PricedCphSpec } from '../model/priced-cph-data.model';\nimport { Product } from '../../../http/cafe/product-holding/models/product.model';\nimport { DigitalTvMapper } from './digital-tv.mapper';\nimport { FixedTelMapper } from './fixed-tel.mapper';\nimport { InternetMapper } from './internet.mapper';\nimport { MobileMapper } from './mobile.mapper';\nimport { MapperInterface } from './mapper.interface';\nimport { DefaultMapper } from './default.mapper';\nimport { DataSimMapper } from './data-sim.mapper';\n\n// is it a factory instead of a service?\n@Injectable({\n  providedIn: 'root',\n})\nexport class SpecificationsMapperService {\n  constructor(\n    private readonly digitalTvMapper?: DigitalTvMapper,\n    private readonly fixedTelMapper?: FixedTelMapper,\n    private readonly internetMapper?: InternetMapper,\n    private readonly mobileMapper?: MobileMapper,\n    private readonly dataSimMapper?: DataSimMapper,\n    private readonly defaultMapper?: DefaultMapper\n  ) {}\n\n  public map(product: Product, parent?: Product): PricedCphSpec | undefined {\n    const mapper = this.getMapper(product);\n    const pricedCphSpec = mapper?.map(product, parent);\n\n    if (product.productInfo && product.productInfo.hasServiceType('ATV') && pricedCphSpec) {\n      pricedCphSpec.icon = DigitalTvMapper.ICON_DTV;\n    }\n\n    return pricedCphSpec;\n  }\n\n  private getMapper(product: Product): MapperInterface | undefined {\n    switch (true) {\n      case product.isInternet():\n        return this.internetMapper;\n      case product.isMobile():\n        return this.mobileMapper;\n      case product.isDTV():\n        return this.digitalTvMapper;\n      case product.isFixedCalling():\n        return this.fixedTelMapper;\n      case product.isMobileInternet():\n        return this.dataSimMapper;\n      default:\n        return this.defaultMapper;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { LabelUtil } from '@telenet/ng-lib-form';\nimport { PricedCphConstants } from '../util/priced-cph.constants';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TranslateHelperService {\n  public getTitle(key: string): string {\n    return LabelUtil.getLabelKeyWithTypeTitle(this.joinValues([PricedCphConstants.MESSAGE_GROUP, key]));\n  }\n\n  public getLabel(key: string): string {\n    return LabelUtil.getLabelKeyWithTypeLabel(this.joinValues([PricedCphConstants.MESSAGE_GROUP, key]));\n  }\n\n  public getText(key: string): string {\n    return LabelUtil.getLabelKeyWithTypeText(this.joinValues([PricedCphConstants.MESSAGE_GROUP, key]));\n  }\n\n  private joinValues(values: string[]): string {\n    return values.join('.');\n  }\n}\n","import { LoginDetails } from '@telenet/ng-lib-ocapi';\nimport { PricedCphOverview } from '../model/priced-cph-data.model';\nimport { Notification } from '../model/notification.model';\n\nexport interface PricedCphStateModel {\n  loginDetails?: LoginDetails;\n  overview?: PricedCphOverview[];\n  isLoggedIn: boolean;\n  notification?: Notification;\n}\n\nexport const defaultState: PricedCphStateModel = {\n  loginDetails: undefined,\n  overview: undefined,\n  isLoggedIn: false,\n};\n","import { Notification } from '../model/notification.model';\nimport { PricedCphOverview } from '../model/priced-cph-data.model';\nimport { LoginDetails } from '@telenet/ng-lib-ocapi';\n\nexport class Initialize {\n  static readonly type = '[PricedCPH] Initialise the data';\n}\n\nexport class SetNotificationIfNotSet {\n  static readonly type = '[PricedCPH] Set notification';\n\n  constructor(public notification: Notification) {}\n}\n\nexport class SetLoginDetails {\n  static readonly type = '[PricedCPH] Set login details';\n\n  constructor(public loginDetails: LoginDetails) {}\n}\n\nexport class SetOverview {\n  static readonly type = '[PricedCPH] Set overview';\n\n  constructor(public overview: PricedCphOverview[]) {}\n}\n","import { Action, Selector, State, StateContext } from '@ngxs/store';\nimport { Injectable } from '@angular/core';\nimport { Initialize, SetLoginDetails, SetNotificationIfNotSet, SetOverview } from './priced-cph.actions';\nimport { defaultState, PricedCphStateModel } from './priced-cph-state.model';\nimport { PricedCphOverview } from '../model/priced-cph-data.model';\nimport { PricedCphService } from '../service/priced-cph.service';\nimport { catchError, map, switchMap, tap } from 'rxjs/operators';\nimport { combineLatest, Observable, of } from 'rxjs';\nimport { produce } from 'immer';\nimport { PricedCphConstants } from '../util/priced-cph.constants';\nimport { CafeBill } from '../../../http/cafe/bills/interfaces/cafe-bill.interface';\nimport { BackendErrorNotification } from '../model/backend-error.notification';\nimport { LoginDetails, LoginService } from '@telenet/ng-lib-ocapi';\nimport { ProductHoldingAdaptorService } from '../../../http/cafe/product-holding/services/product-holding-adaptor.service';\nimport { CafeBillsService } from '../../../http/cafe/bills/services/cafe-bills.service';\nimport { ProductHolding } from '../../../http/cafe/product-holding/models/product-holding.model';\n\n@State<PricedCphStateModel>({\n  name: 'pricedcph',\n  defaults: defaultState,\n})\n@Injectable()\nexport class PricedCphState {\n  constructor(\n    private readonly loginService: LoginService,\n    private readonly productHoldingService: ProductHoldingAdaptorService,\n    private readonly pricedCphService: PricedCphService,\n    private readonly billService: CafeBillsService\n  ) {}\n\n  @Selector()\n  public static loginDetails(state: PricedCphStateModel): LoginDetails | undefined {\n    return state?.loginDetails;\n  }\n\n  @Selector()\n  public static overview(state: PricedCphStateModel): PricedCphOverview[] | undefined {\n    return state?.overview;\n  }\n\n  @Selector()\n  public static notification(state: PricedCphStateModel) {\n    return state.notification;\n  }\n\n  @Selector()\n  public static isLoggedIn(state: PricedCphStateModel): boolean | undefined {\n    return state?.loginDetails?.isLoggedIn();\n  }\n\n  @Action(Initialize)\n  public initialize(ctx: StateContext<PricedCphStateModel>): Observable<PricedCphOverview[]> {\n    return this.loginService.getLoginDetails().pipe(\n      switchMap((loginDetails) =>\n        combineLatest([\n          this.loadCustomerProductHolding(loginDetails),\n          this.loadBills(loginDetails),\n          ctx.dispatch(new SetLoginDetails(loginDetails)),\n        ])\n      ),\n      map((result) => this.pricedCphService.getOverview(result[0], result[1])),\n      tap((pricedCphOverviews) => ctx.dispatch(new SetOverview(pricedCphOverviews || []))),\n      catchError((err) => {\n        ctx.dispatch(new SetNotificationIfNotSet(new BackendErrorNotification()));\n        console.error('CPH: error in loading data ', err);\n        return [];\n      })\n    );\n  }\n\n  @Action(SetOverview)\n  public setOverview(ctx: StateContext<PricedCphStateModel>, action: SetOverview): void {\n    ctx.setState(\n      produce(ctx.getState(), (draft: PricedCphStateModel) => {\n        draft.overview = action.overview;\n      })\n    );\n  }\n\n  @Action(SetNotificationIfNotSet)\n  public setNotificationIfNotSet(ctx: StateContext<PricedCphStateModel>, action: SetNotificationIfNotSet): void {\n    if (!ctx.getState().notification) {\n      ctx.setState(\n        produce(ctx.getState(), (draft: PricedCphStateModel) => {\n          draft.notification = action.notification;\n        })\n      );\n    }\n  }\n\n  @Action(SetLoginDetails)\n  public setLoginDetails(ctx: StateContext<PricedCphStateModel>, action: SetLoginDetails): void {\n    ctx.setState(\n      produce(ctx.getState(), (draft: PricedCphStateModel) => {\n        draft.loginDetails = action.loginDetails;\n      })\n    );\n  }\n\n  private loadCustomerProductHolding(loginDetails: LoginDetails): Observable<ProductHolding> {\n    if (loginDetails.isLoggedIn()) {\n      return this.productHoldingService.getCustomerProductHolding(PricedCphConstants.MESSAGE_GROUP);\n    }\n    return of(new ProductHolding());\n  }\n\n  private loadBills(loginDetails: LoginDetails): Observable<CafeBill[]> {\n    if (loginDetails.isLoggedIn() && loginDetails.isManager()) {\n      return this.billService.getBills(PricedCphConstants.MESSAGE_GROUP);\n    }\n    return of([]);\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { LanguageEnum, LanguageService } from '@telenet/ng-lib-page';\nimport { TranslateHelperService } from '../../service/translate-helper.service';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgIf } from '@angular/common';\n\n@Component({\n  selector: 'tg-marketing-cafe-bill-price',\n  templateUrl: './bill-price.component.html',\n  standalone: true,\n  imports: [NgIf, TranslateModule],\n})\nexport class BillPriceComponent implements OnInit {\n  @Input() price: string;\n  integer: string;\n  decimal: string;\n  isFrench: boolean;\n\n  constructor(\n    public translateHelperService: TranslateHelperService,\n    private readonly languageService: LanguageService\n  ) {}\n\n  ngOnInit(): void {\n    const priceArray: string[] = this.price.split('.');\n    this.integer = priceArray[0];\n    this.decimal = priceArray[1];\n    this.isFrench = this.languageService.getLanguage() === LanguageEnum.FR;\n  }\n}\n","<div class=\"display--flex justify-content--end align-items--center mt--xl\">\n  <div class=\"text-block__right text-align--right\">\n    <div class=\"price price__total-month-promo-description\">\n      <span *ngIf=\"!isFrench\" class=\"line-height--18 text--m text--xm--sm text-font-family--t6 vertical-align--text-top\"\n        ></span\n      >\n      <span class=\"text-font-family--t6 text--xl--sm\">{{ integer }}</span>\n      <span *ngIf=\"decimal\" class=\"line-height--18 text--m text--xm--sm text-font-family--t6 vertical-align--text-top\"\n        >,{{ decimal }}</span\n      >\n      <span *ngIf=\"isFrench\" class=\"line-height--18 text--m text--xm--sm text-font-family--t6 vertical-align--text-top\"\n        ></span\n      >\n      <span class=\"text--xs text--s--sm\">{{ translateHelperService.getText('price-month') | translate }}</span>\n    </div>\n  </div>\n</div>\n<div class=\"whitespace whitespace--medium\"></div>\n","import { Directive, ElementRef, HostListener, Input, Renderer2 } from '@angular/core';\n\n@Directive({\n  selector: '[tgMarketingTogglePanel]',\n  standalone: true,\n})\nexport class TogglePanelDirective {\n  static readonly CLASS_PANEL_COLLAPSED = 'accordion--panel__collapsed';\n  @Input('tgMarketingTogglePanel') panelClass: string;\n\n  constructor(\n    private readonly elRef: ElementRef,\n    private readonly renderer: Renderer2\n  ) {}\n\n  @HostListener('click')\n  handleClick() {\n    const header: HTMLElement = this.elRef.nativeElement;\n    const panel: HTMLElement = this.panelClass\n      ? header?.parentElement?.querySelector(`.${this.panelClass}`)\n      : this.renderer.nextSibling(header);\n\n    if (panel && !panel.classList.contains(TogglePanelDirective.CLASS_PANEL_COLLAPSED)) {\n      this.renderer.addClass(panel, TogglePanelDirective.CLASS_PANEL_COLLAPSED);\n      return;\n    }\n\n    if (panel && panel.style.maxHeight) {\n      this.setHeight(panel, 'scrollHeight');\n      requestAnimationFrame(() => {\n        this.setHeight(panel, null);\n      });\n      return;\n    }\n\n    this.setHeight(panel, 'scrollHeight');\n\n    const eventHandler = function () {\n      if (getComputedStyle(panel).maxHeight !== '0px') {\n        panel.style.maxHeight = 'unset';\n      }\n      panel.removeEventListener('transitionend', eventHandler);\n    };\n\n    panel.addEventListener('transitionend', eventHandler);\n  }\n  private setHeight(el: HTMLElement, heightProperty: string | null): void {\n    this.renderer.setStyle(el, 'maxHeight', heightProperty ? el[heightProperty] + 'px' : null);\n  }\n}\n","import { Component } from '@angular/core';\nimport { TranslateHelperService } from '../../service/translate-helper.service';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgIf } from '@angular/common';\n\n@Component({\n  selector: 'tg-marketing-cafe-disclaimer',\n  templateUrl: './disclaimer.component.html',\n  standalone: true,\n  imports: [NgIf, TranslateModule],\n})\nexport class DisclaimerComponent {\n  showMore: boolean;\n\n  constructor(public translateHelperService: TranslateHelperService) {}\n\n  toggleShowMore() {\n    this.showMore = !this.showMore;\n  }\n}\n","<span class=\"display--block text--xs text--s--sm\">\n  <span [innerHTML]=\"translateHelperService.getText('disclaimer') | translate\"> </span>\n  <span\n    *ngIf=\"!showMore\"\n    (click)=\"toggleShowMore()\"\n    [innerHTML]=\"translateHelperService.getText('disclaimer-read-more') | translate\">\n  </span>\n  <span *ngIf=\"showMore\" [innerHTML]=\"translateHelperService.getText('disclaimer-expanded') | translate\"> </span>\n</span>\n","import { Component, Input } from '@angular/core';\nimport { PricedCphDatalayerService } from '../../service/priced-cph-datalayer.service';\nimport { NgClass } from '@angular/common';\n\n@Component({\n  selector: 'tg-marketing-cafe-drop-down-accordion-header',\n  templateUrl: './drop-down-accordion-header.component.html',\n  standalone: true,\n  imports: [NgClass],\n})\nexport class DropDownAccordionHeaderComponent {\n  @Input() title: string;\n  @Input() isPanelCollapsed: boolean;\n\n  rotateChevron: boolean;\n\n  constructor(private readonly pricedCphDatalayerService: PricedCphDatalayerService) {}\n\n  handleClick(): void {\n    this.rotateChevron = !this.rotateChevron;\n    if (this.rotateChevron) {\n      this.pricedCphDatalayerService.pushComponentOpened();\n    }\n  }\n}\n","<div class=\"header-accordion heading--5 cursor--pointer user-select--none p--l m--n\" (click)=\"handleClick()\">\n  <div class=\"header-accordion--title\">\n    <div class=\"header-accordion--title__text\">\n      {{ title }}\n    </div>\n  </div>\n  <div class=\"header-accordion--link display--flex align-items--center\">\n    <i\n      class=\"icon icon-sm transition--all-3ms\"\n      [ngClass]=\"isPanelCollapsed ? 'icon-chevron-down' : 'icon-chevron-up'\"\n      [class.rotate--180]=\"rotateChevron\"></i>\n  </div>\n</div>\n","import { Component, Input } from '@angular/core';\nimport { Select } from '@ngxs/store';\nimport { Observable } from 'rxjs';\nimport { OverviewGroupTypeEnum } from '../group/overview-group-type.enum';\nimport { PricedCphOverview } from '../../model/priced-cph-data.model';\nimport { PricedCphState } from '../../state/priced-cph.state';\nimport { Notification } from '../../model/notification.model';\nimport { ErrorNotificationComponent } from '../error-notification/error-notification.component';\nimport { DisclaimerComponent } from '../disclaimer/disclaimer.component';\nimport { BillPriceComponent } from '../bill-price/bill-price.component';\nimport { OverviewGroupComponent } from '../group/overview-group.component';\nimport { NgIf, NgFor, AsyncPipe } from '@angular/common';\nimport { MarketingCafeNgxsModule } from '../../../marketing-cafe-ngxs.module';\n\n@Component({\n  selector: 'tg-marketing-cafe-drop-down-accordion-panel',\n  templateUrl: './drop-down-accordion-panel.component.html',\n  standalone: true,\n  imports: [\n    NgIf,\n    NgFor,\n    OverviewGroupComponent,\n    BillPriceComponent,\n    DisclaimerComponent,\n    ErrorNotificationComponent,\n    AsyncPipe,\n    MarketingCafeNgxsModule,\n  ],\n})\nexport class DropDownAccordionPanelComponent {\n  @Input() overviews: PricedCphOverview[];\n  @Select(PricedCphState.notification) notification: Observable<Notification>;\n\n  overviewGroupTypeEnum = OverviewGroupTypeEnum;\n}\n","<ng-container *ngIf=\"(notification | async) === null; else notificationHandling\">\n  <div *ngFor=\"let overview of overviews\">\n    <ng-container *ngIf=\"overview\">\n      <ng-container *ngIf=\"overview.products.length > 0\">\n        <tg-marketing-cafe-overview-group\n          [items]=\"overview.products\"\n          [type]=\"overviewGroupTypeEnum.PRODUCTS\"></tg-marketing-cafe-overview-group>\n        <tg-marketing-cafe-overview-group\n          [items]=\"overview.options\"\n          [type]=\"overviewGroupTypeEnum.OPTIONS\"></tg-marketing-cafe-overview-group>\n        <tg-marketing-cafe-bill-price\n          *ngIf=\"overview.lastBillPrice\"\n          [price]=\"overview.lastBillPrice\"></tg-marketing-cafe-bill-price>\n      </ng-container>\n    </ng-container>\n  </div>\n  <tg-marketing-cafe-disclaimer></tg-marketing-cafe-disclaimer>\n</ng-container>\n\n<ng-template #notificationHandling>\n  <tg-marketing-cafe-error-notification\n    [labelKey]=\"(notification | async)!.labelKey\"\n    [type]=\"(notification | async)!.type\"></tg-marketing-cafe-error-notification>\n</ng-template>\n\n<div class=\"whitespace whitespace--medium\"></div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { PricedCphOverview } from '../../model/priced-cph-data.model';\nimport { Select } from '@ngxs/store';\nimport { PricedCphState } from '../../state/priced-cph.state';\nimport { Observable } from 'rxjs';\nimport { Notification } from '../../model/notification.model';\nimport { PricedCphDatalayerService } from '../../service/priced-cph-datalayer.service';\nimport { AsyncPipe } from '@angular/common';\nimport { DropDownAccordionPanelComponent } from '../drop-down-accordion-panel/drop-down-accordion-panel.component';\nimport { TogglePanelDirective } from '../directives/panel-toggler.directive';\nimport { DropDownAccordionHeaderComponent } from '../drop-down-accordion-header/drop-down-accordion-header.component';\n\n@Component({\n  selector: 'tg-marketing-cafe-drop-down-accordion',\n  templateUrl: './drop-down-accordion.component.html',\n  standalone: true,\n  imports: [DropDownAccordionHeaderComponent, TogglePanelDirective, DropDownAccordionPanelComponent, AsyncPipe],\n})\nexport class DropDownAccordionComponent implements OnInit {\n  @Input() title: string;\n  @Input() overviews: PricedCphOverview[];\n  @Select(PricedCphState.notification) notification: Observable<Notification>;\n\n  constructor(private readonly pricedCphDatalayerService: PricedCphDatalayerService) {}\n\n  ngOnInit(): void {\n    this.pricedCphDatalayerService.pushComponentViewed();\n  }\n}\n","<tg-marketing-cafe-drop-down-accordion-header\n  [title]=\"title\"\n  [isPanelCollapsed]=\"(notification | async) === null\"\n  tgMarketingTogglePanel>\n</tg-marketing-cafe-drop-down-accordion-header>\n\n<tg-marketing-cafe-drop-down-accordion-panel\n  [overviews]=\"overviews\"\n  [class.accordion--panel__collapsed]=\"(notification | async) === null\"\n  class=\"display--flex flex-direction--column flex-grow px--l\">\n</tg-marketing-cafe-drop-down-accordion-panel>\n","import { Component, Input } from '@angular/core';\nimport { TranslateHelperService } from '../../service/translate-helper.service';\nimport { NotificationTypeEnum } from '../../model/notification.model';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgClass } from '@angular/common';\n\n@Component({\n  selector: 'tg-marketing-cafe-error-notification',\n  templateUrl: './error-notification.component.html',\n  standalone: true,\n  imports: [NgClass, TranslateModule],\n})\nexport class ErrorNotificationComponent {\n  @Input() labelKey: string;\n  @Input() type: NotificationTypeEnum;\n\n  constructor(public translateHelperService: TranslateHelperService) {}\n\n  getClass(): string {\n    switch (this.type) {\n      case NotificationTypeEnum.ERROR:\n        return 'notification--errorfield';\n      case NotificationTypeEnum.WARNING:\n        return 'notification--warning';\n      case NotificationTypeEnum.INFO:\n        return 'notification--info';\n    }\n  }\n\n  getIconClass(): string {\n    switch (this.type) {\n      case NotificationTypeEnum.ERROR:\n        return 'icon-error-shape errorfield';\n      case NotificationTypeEnum.WARNING:\n        return 'icon-alert-shape warning';\n      case NotificationTypeEnum.INFO:\n        return 'icon-information-shape info';\n    }\n  }\n}\n","<div class=\"notification\" [ngClass]=\"getClass()\">\n  <span class=\"icon\" [ngClass]=\"getIconClass()\">{{\n    translateHelperService.getText('error.' + labelKey) | translate\n  }}</span>\n</div>\n","export enum OverviewGroupTypeEnum {\n  PRODUCTS = 'products',\n  OPTIONS = 'options',\n}\n","import { Component, Input } from '@angular/core';\nimport { PricedCphItem } from '../../model/priced-cph-data.model';\nimport { OverviewGroupTypeEnum } from './overview-group-type.enum';\nimport { TranslateHelperService } from '../../service/translate-helper.service';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgIf, NgFor, NgTemplateOutlet, NgClass } from '@angular/common';\n\n@Component({\n  selector: 'tg-marketing-cafe-overview-group',\n  templateUrl: './overview-group.component.html',\n  standalone: true,\n  imports: [NgIf, NgFor, NgTemplateOutlet, NgClass, TranslateModule],\n})\nexport class OverviewGroupComponent {\n  @Input() items: PricedCphItem[];\n  @Input() type: OverviewGroupTypeEnum;\n\n  overviewGroupTypeEnum = OverviewGroupTypeEnum;\n\n  constructor(public translateHelperService: TranslateHelperService) {}\n\n  getLabelKey(item: PricedCphItem): string {\n    return item.amount === 1 ? 'item' : 'item-with-amount';\n  }\n\n  getLabelArgs(item: PricedCphItem): { itemName: string; amount: number } {\n    return {\n      itemName: item.key,\n      amount: item.amount,\n    };\n  }\n}\n","<div\n  *ngIf=\"items && items.length\"\n  class=\"display--flex justify-content--between align-items--center heading--6 mb--xxs mt--s\">\n  <div class=\"text-block__left\">\n    {{ translateHelperService.getTitle(type) | translate }}\n  </div>\n  <div class=\"text-block__right display--flex align-items--baseline word-break--keep-all\"></div>\n</div>\n<ng-container *ngFor=\"let item of items\">\n  <ng-container\n    *ngTemplateOutlet=\"\n      record;\n      context: {\n        labelKey: translateHelperService.getLabel(getLabelKey(item)),\n        args: getLabelArgs(item),\n        class: type === overviewGroupTypeEnum.PRODUCTS ? 'text--m text--xm--sm' : ' text--s text--m--sm p--n'\n      }\n    \">\n  </ng-container>\n  <ng-container *ngFor=\"let spec of item.specifications\">\n    <ng-container\n      *ngTemplateOutlet=\"\n        record;\n        context: {\n          labelKey: spec.label.key,\n          args: spec.label.args,\n          icon: spec.icon,\n          rowClass: 'position--relative',\n          class: 'ml--xl text--s text--m--sm p--n'\n        }\n      \">\n    </ng-container>\n  </ng-container>\n</ng-container>\n<ng-template\n  #record\n  let-labelKey=\"labelKey\"\n  let-args=\"args\"\n  let-icon=\"icon\"\n  let-rowClass=\"rowClass\"\n  let-itemClass=\"class\">\n  <div class=\"display--flex justify-content--between align-content--center mb--xxs\" [ngClass]=\"rowClass\">\n    <i *ngIf=\"icon\" class=\"position--absolute cursor--pointer text--xxm line-height--20\" [ngClass]=\"icon\"></i>\n    <div class=\"display--flex flex-grow justify-content--between align-items--center\" [ngClass]=\"itemClass\">\n      <div class=\"text-block__left\" [innerHTML]=\"labelKey | translate: args\"></div>\n      <div class=\"text-block__right display--flex align-items--baseline word-break--keep-all\"></div>\n    </div>\n  </div>\n</ng-template>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { mergeMap, take, tap } from 'rxjs/operators';\nimport { LoginDetails } from '@telenet/ng-lib-ocapi';\nimport { Observable } from 'rxjs';\nimport { Select, Store } from '@ngxs/store';\nimport { PricedCphState } from '../../state/priced-cph.state';\nimport { PricedCphOverview } from '../../model/priced-cph-data.model';\nimport { NotificationsService } from '../../service/notifications.service';\nimport { BackendErrorNotification } from '../../model/backend-error.notification';\nimport { BusinessCustomerNotification } from '../../model/business-customer.notification';\nimport { NoProductsNotification } from '../../model/no-products.notification';\nimport { NoManagerNotification } from '../../model/no-manager.notification';\nimport { Initialize, SetNotificationIfNotSet } from '../../state/priced-cph.actions';\nimport { Notification } from '../../model/notification.model';\nimport { DropDownAccordionComponent } from '../drop-down-accordion/drop-down-accordion.component';\nimport { NgIf, AsyncPipe } from '@angular/common';\nimport { MarketingCafeNgxsModule } from '../../../marketing-cafe-ngxs.module';\n\n@Component({\n  selector: 'tg-marketing-cafe-priced-customer-product-holding',\n  templateUrl: './priced-customer-product-holding.component.html',\n  standalone: true,\n  imports: [NgIf, DropDownAccordionComponent, AsyncPipe, MarketingCafeNgxsModule],\n})\nexport class PricedCustomerProductHoldingComponent implements OnInit {\n  @Input() title: string;\n\n  @Select(PricedCphState.loginDetails) loginDetails$: Observable<LoginDetails>;\n  @Select(PricedCphState.isLoggedIn) isLoggedIn$: Observable<boolean>;\n  @Select(PricedCphState.overview) overview$: Observable<PricedCphOverview[]>;\n\n  constructor(\n    private readonly store: Store,\n    private readonly notificationsService: NotificationsService\n  ) {}\n\n  ngOnInit(): void {\n    const NOTIFICATIONS = [\n      new BackendErrorNotification(),\n      new BusinessCustomerNotification(),\n      new NoManagerNotification(),\n      new NoProductsNotification(),\n    ];\n\n    this.store\n      .dispatch(new Initialize())\n      .pipe(\n        take(1),\n        mergeMap(() => this.notificationsService.notificationsIfConditionsMet$(NOTIFICATIONS)),\n        tap((notification: Notification) => {\n          if (notification) {\n            this.store.dispatch(new SetNotificationIfNotSet(notification));\n          }\n        })\n      )\n      .subscribe();\n  }\n}\n","<tg-marketing-cafe-drop-down-accordion\n  *ngIf=\"isLoggedIn$ | async\"\n  [title]=\"title\"\n  [overviews]=\"(overview$ | async)!\"\n  class=\"Container\">\n</tg-marketing-cafe-drop-down-accordion>\n","export class PricedCphConstants {\n  static readonly MESSAGE_GROUP = 'priced-cph';\n}\n","import { MapperInterface } from '@telenet/ng-lib-shared';\nimport { CafeBill } from '../interfaces/cafe-bill.interface';\nimport { Injectable } from '@angular/core';\n\nexport interface RawCafeBillsInterface {\n  bills: [\n    {\n      accountnumber: string;\n      bills: [\n        {\n          statementdate: string;\n          billamount: {\n            type: string;\n            amount: number;\n          };\n        },\n      ];\n    },\n  ];\n}\n@Injectable({\n  providedIn: 'root',\n})\nexport class CafeBillsMapper implements MapperInterface<RawCafeBillsInterface, CafeBill[]> {\n  toModel(data: RawCafeBillsInterface, _httpStatus?: number): CafeBill[] {\n    return data.bills.map((rawBill): CafeBill => {\n      return {\n        accountnumber: rawBill.accountnumber,\n        bills: rawBill.bills,\n      };\n    });\n  }\n}\n","import { OcapiService, OcapiCallConfig } from '@telenet/ng-lib-ocapi';\nimport { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { CafeBill } from '../interfaces/cafe-bill.interface';\nimport { CafeBillsMapper } from '../mappers/cafe-bills.mapper';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CafeBillsService {\n  private readonly PROPERTY_URL = '/public/?p=bills';\n  private cafeBillsCache: CafeBill[];\n\n  constructor(\n    private readonly ocapiService: OcapiService,\n    private readonly cafeBillsMapper: CafeBillsMapper\n  ) {}\n\n  getBills(messageGroup: string): Observable<CafeBill[]> {\n    if (this.cafeBillsCache) {\n      return of(this.cafeBillsCache);\n    }\n    return this.ocapiService.doGet(new OcapiCallConfig(messageGroup, this.PROPERTY_URL, this.cafeBillsMapper)).pipe(\n      tap((response) => {\n        if (response) {\n          this.cafeBillsCache = response;\n        }\n      })\n    );\n  }\n}\n","import { CafeBill, CafeBillStatement } from '../interfaces/cafe-bill.interface';\n\nexport class CafeBillsUtil {\n  static hasBillsForAccount(accountNumber: string, bills: CafeBill[]): boolean {\n    return bills && bills.some((bill) => bill.accountnumber === accountNumber);\n  }\n\n  static retrieveLastBillStatementByAccountNumber(accountNumber: string, bills: CafeBill[]): CafeBillStatement {\n    const map: CafeBillStatement[] = bills\n      .filter((bill) => bill.accountnumber === accountNumber)\n      .map((billsByAccount) => billsByAccount.bills)\n      .reduce((acc, val) => acc.concat(val), []);\n    return map.reduce((a: CafeBillStatement, b: CafeBillStatement) => {\n      return new Date(a.statementdate) > new Date(b.statementdate) ? a : b;\n    });\n  }\n}\n","export enum CafeContactDetailType {\n  INDIVIDUAL,\n  ORGANIZATION,\n}\n","import { Injectable } from '@angular/core';\nimport { MapperInterface } from '@telenet/ng-lib-shared';\nimport { CafeContactDetails, RawContactDetails } from '../models/cafe-contact-details.model';\nimport { AddressMapper } from '../../../common/address/mappers/address.mapper';\nimport { CafeContactDetailType } from '../enums/cafe-contact-detail-type';\nimport { RawAddressInterface } from '../../../common/address/interfaces/raw-address.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CafeContactDetailsMapper\n  implements MapperInterface<{ contactdetails: RawContactDetails }, CafeContactDetails>\n{\n  constructor(private readonly addressMapper: AddressMapper) {}\n\n  toModel(response?: { contactdetails: RawContactDetails }) {\n    const contactDetails = new CafeContactDetails();\n\n    if (response === undefined || response.contactdetails === undefined) {\n      return contactDetails;\n    }\n    const rawContactDetails = response.contactdetails;\n    switch (rawContactDetails.class) {\n      case 'ORGANIZATION':\n        contactDetails.type = CafeContactDetailType.ORGANIZATION;\n        break;\n      case 'INDIVIDUAL':\n        contactDetails.type = CafeContactDetailType.INDIVIDUAL;\n        break;\n      default:\n        contactDetails.type = CafeContactDetailType.INDIVIDUAL;\n        break;\n    }\n\n    const organization = rawContactDetails.organization;\n    if (organization) {\n      contactDetails.firstName = organization.name;\n      contactDetails.lastName = '';\n      contactDetails.organisation = {\n        companyName: organization.name,\n        customerNumber: organization.customernumber,\n        legalForm: organization.type,\n        vatNumber: organization.vat,\n      };\n    } else {\n      contactDetails.epithet = rawContactDetails?.individual?.epithet ?? '';\n      contactDetails.firstName = rawContactDetails?.individual?.firstname ?? '';\n      contactDetails.lastName = rawContactDetails?.individual?.lastname ?? '';\n      contactDetails.dateofbirth = rawContactDetails?.individual?.dateofbirth;\n    }\n    contactDetails.language = rawContactDetails.language.toLowerCase();\n\n    if (rawContactDetails.contactinfo) {\n      contactDetails.telephoneNumbers = rawContactDetails.contactinfo.telephones;\n      contactDetails.mobilePhoneNumbers = rawContactDetails.contactinfo.mobiles;\n      contactDetails.emails = rawContactDetails.contactinfo.emails;\n      contactDetails.internationalPhoneNumbers = rawContactDetails.contactinfo.internationalphones;\n    }\n    contactDetails.privacySetting = rawContactDetails.privacysetting;\n    contactDetails.rightToObjectStatus = rawContactDetails.righttoobjectstatus;\n\n    this.setAddresses(contactDetails, rawContactDetails?.addresses);\n\n    return contactDetails;\n  }\n\n  private setAddresses(contactDetails: CafeContactDetails, rawAddresses?: RawAddressInterface | RawAddressInterface[]) {\n    if (rawAddresses) contactDetails.addresses = this.addressMapper.toModel(rawAddresses);\n  }\n}\n","import { Address } from '../../../common/address/models/address.model';\nimport { Email, PhoneNumber } from '../interfaces/cafe-contact-details.inteface';\nimport { CafeContactDetailType } from '../enums/cafe-contact-detail-type';\nimport { OrganizationInterface, RawOrganizationInterface } from '../interfaces/organization.interface';\nimport { RawAddressInterface } from '../../../common/address/interfaces/raw-address.interface';\n\nexport class CafeContactDetails {\n  static POSTAL_CONTACT_TYPE = 'POSTALCONTACT';\n  type: CafeContactDetailType;\n  language: string;\n  epithet: string;\n  firstName: string;\n  lastName: string;\n  dateofbirth?: string;\n  addresses: Address[] = [];\n  telephoneNumbers: PhoneNumber[] = [];\n  mobilePhoneNumbers: PhoneNumber[] = [];\n  emails: Email[] = [];\n  internationalPhoneNumbers: PhoneNumber[] = [];\n  privacySetting: number;\n  rightToObjectStatus: boolean;\n  organisation?: OrganizationInterface;\n\n  isOrganization(): boolean {\n    return this.type === CafeContactDetailType.ORGANIZATION;\n  }\n}\n\nexport class RawContactDetails {\n  class: string;\n  specurl: string;\n  privacysetting: number;\n  organization?: RawOrganizationInterface;\n  individual?: RawIndividualInterface;\n  language: string;\n  righttoobjectstatus: boolean;\n  addresses?: RawAddressInterface[];\n  contactinfo?: RawContactInfoInterface;\n}\n\nexport interface RawIndividualInterface {\n  epithet: string;\n  firstname: string;\n  lastname: string;\n  dateofbirth?: string;\n}\n\nexport interface RawContactInfoInterface {\n  telephones: PhoneNumber[];\n  mobiles: PhoneNumber[];\n  emails: Email[];\n  internationalphones: PhoneNumber[];\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { OcapiService, OcapiCallConfig } from '@telenet/ng-lib-ocapi';\nimport { CafeContactDetailsMapper } from '../mappers/cafe-contact-details.mapper';\nimport { CafeContactDetails } from '../models/cafe-contact-details.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CafeContactDetailsService {\n  private readonly PROPERTY_URL = '/public/?p=contactdetails';\n\n  constructor(\n    private readonly ocapiService: OcapiService,\n    private readonly cafeContactDetailsMapper: CafeContactDetailsMapper\n  ) {}\n\n  getContactDetails(messageGroup: string): Observable<CafeContactDetails> {\n    return this.ocapiService.doGet(this.getOcapiCallConfig(messageGroup));\n  }\n\n  private getOcapiCallConfig(messageGroup: string): OcapiCallConfig<unknown, CafeContactDetails> {\n    return new OcapiCallConfig(messageGroup, this.PROPERTY_URL, this.cafeContactDetailsMapper);\n  }\n}\n","export enum ProductCharacteristicEnum {\n  PRODUCT_GROUP = 'productGroup',\n  PRODUCT_LEVEL = 'productLevel',\n  PRODUCT_TIER = 'productTier',\n  MAX_MOBILE_LINES = 'maxMobileLines',\n  SHARED_MOBILE_DATA = 'sharedMobileData',\n}\n\nexport enum ProductGroupEnum {\n  FMC = 'FMC',\n}\n\nexport enum ProductLevelEnum {\n  LEVEL_2P = '2P',\n  LEVEL_3P = '3P',\n  LEVEL_4P = '4P',\n}\n\nexport enum ProductTierEnum {\n  LOW = 'Low',\n  MID = 'Mid',\n  HIGH = 'High',\n}\n","export class ProductConstants {\n  static CUSTOMER_PRODUCT_HOLDING = 'customerproductholding';\n  static ADAPTOR_URL = '-adaptor';\n}\n","import { Injectable } from '@angular/core';\nimport { MapperInterface } from '@telenet/ng-lib-shared';\nimport { OmapiProductMapper } from '@telenet/ng-lib-omapi';\nimport { Option } from '../models/option.model';\nimport { RawOptionInterface } from '../interfaces/raw-product-holding.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class OptionMapper implements MapperInterface<RawOptionInterface, Option> {\n  constructor(private readonly omapiMapper: OmapiProductMapper) {}\n\n  toModel(option: RawOptionInterface): Option {\n    return this.createOption(option);\n  }\n\n  private createOption(rawOption: RawOptionInterface): Option {\n    const option = new Option();\n\n    option.label = rawOption.label;\n    option.specUrl = rawOption.specurl;\n    option.productInfo = this.omapiMapper.toModel(rawOption.rawOmapi);\n\n    return option;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MapperInterface } from '@telenet/ng-lib-shared';\nimport { ProductHolding } from '../models/product-holding.model';\nimport { RawProductInterface } from '../interfaces/raw-product-holding.interface';\nimport { ProductMapper } from './product.mapper';\nimport { Product } from '../models/product.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ProductHoldingMapper\n  implements MapperInterface<{ customerproductholding: RawProductInterface[] }, ProductHolding>\n{\n  constructor(private readonly productMapper: ProductMapper) {}\n\n  toModel(data: { customerproductholding: RawProductInterface[] }, _httpStatus?: number): ProductHolding {\n    return this.createCustomerProductHoldings(data.customerproductholding);\n  }\n\n  private createCustomerProductHoldings(rawProductHolding: RawProductInterface[]): ProductHolding {\n    const productHolding = new ProductHolding();\n    productHolding.products = this.createProducts(rawProductHolding);\n    return productHolding;\n  }\n\n  private createProducts(rawProductHolding: RawProductInterface[]): Product[] {\n    const products: Product[] = [];\n    rawProductHolding.forEach((rawProduct) => {\n      products.push(this.productMapper.toModel(rawProduct));\n    });\n    return products;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MapperInterface } from '@telenet/ng-lib-shared';\nimport { AddressMapper } from '../../../common/address/mappers/address.mapper';\nimport { Product } from '../models/product.model';\nimport { Address } from '../../../common/address/models/address.model';\nimport { OmapiProduct, OmapiProductMapper, RawOmapiProductInterface } from '@telenet/ng-lib-omapi';\nimport { RawOptionInterface, RawProductInterface } from '../interfaces/raw-product-holding.interface';\nimport { RawAddressInterface } from '../../../common/address/interfaces/raw-address.interface';\nimport { first } from 'lodash-es';\nimport { Option } from '../models/option.model';\nimport { OptionMapper } from './option.mapper';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ProductMapper implements MapperInterface<RawProductInterface, Product> {\n  constructor(\n    private readonly addressMapper: AddressMapper,\n    private readonly omapiMapper: OmapiProductMapper,\n    private readonly optionMapper: OptionMapper\n  ) {}\n\n  toModel(product: RawProductInterface): Product {\n    return this.createProduct(product);\n  }\n\n  private createProduct(rawProduct: RawProductInterface): Product {\n    const product = new Product();\n    product.accountNumber = Number(rawProduct.accountnumber);\n    if (rawProduct.address) {\n      product.address = first(this.createAddress(rawProduct.address));\n    }\n    product.customerProductId = Number(rawProduct.customerproductid);\n    product.identifier = rawProduct.identifier;\n    product.lineIdentifier = rawProduct.lineIdentifier;\n    product.label = rawProduct.label;\n    product.specUrl = rawProduct.specurl;\n    product.products = this.createProducts(rawProduct.products, rawProduct?.address);\n    if (rawProduct.rawOmapi) product.productInfo = this.createProductInfo(rawProduct.rawOmapi);\n    product.options = this.createOptions(rawProduct.options);\n    return product;\n  }\n\n  private createProductInfo(rawOmapi: RawOmapiProductInterface): OmapiProduct {\n    if (rawOmapi) {\n      return this.omapiMapper.toModel(rawOmapi);\n    }\n\n    return {} as OmapiProduct;\n  }\n\n  private createAddress(rawAddresses: RawAddressInterface): Address[] | undefined {\n    if (rawAddresses) {\n      return this.addressMapper.toModel([rawAddresses]);\n    }\n    return undefined;\n  }\n\n  private createProducts(products: RawProductInterface[], address?: RawAddressInterface): Product[] {\n    if (products) {\n      return products.map((product: RawProductInterface) => {\n        product.address = address;\n        return this.toModel(product);\n      });\n    }\n\n    return [];\n  }\n\n  private createOptions(options: RawOptionInterface[]): Option[] {\n    return options.map((option: RawOptionInterface) => {\n      return this.optionMapper.toModel(option);\n    });\n  }\n}\n","import { OmapiProduct } from '@telenet/ng-lib-omapi';\n\nexport class Option {\n  label: string;\n  specUrl: string;\n  productInfo?: OmapiProduct;\n\n  getOmapiId(): string | undefined {\n    return this.productInfo ? this.productInfo.productId : undefined;\n  }\n}\n","import { LineEnum } from '@telenet/ng-lib-form';\nimport { uniq } from 'factory.ts/lib/shared';\nimport { Predicate } from '@angular/core';\nimport { Product } from './product.model';\nimport { Address } from '../../../common/address/models/address.model';\nimport { AddressUtil } from '../../../common/address/utils/address.util';\n\nexport class ProductHolding {\n  products: Product[] = [];\n\n  private _installationAddresses: Address[];\n\n  containsFMC(): boolean {\n    return this.products.some((product) => {\n      return product.isFmc();\n    });\n  }\n\n  containsWigoHomeS(): boolean {\n    return this.products.some((product) => {\n      return product.isFmc() && product.isMidTier() && product.is3P();\n    });\n  }\n\n  containsWhoppa(): boolean {\n    return this.products.some((product) => {\n      return product.isWhoppa();\n    });\n  }\n\n  containsInternetProduct(): boolean {\n    return this.getFlattenedProducts(this.products).some((product: Product) => {\n      return product.isInternet();\n    });\n  }\n\n  containsOnlyGivenProductsAndOptions(omapiIds: string[]): boolean {\n    const holdingOmapiIds: string[] = uniq(this.getProductsAndOptionsOmapiIds());\n    return (\n      holdingOmapiIds.length === omapiIds.length &&\n      this.products.every((product: Product) => {\n        return omapiIds.indexOf(product.getOmapiId() ?? '') >= 0;\n      })\n    );\n  }\n\n  containsFixedLine(): boolean {\n    return this.getLines().indexOf(LineEnum.PHONE) >= 0;\n  }\n\n  containsDtv(): boolean {\n    return this.getLines().indexOf(LineEnum.IDTV) >= 0;\n  }\n\n  getFixedLine(): string {\n    const product = this.getFlattenedProducts(this.products).find((currentProduct: Product) => {\n      return currentProduct.isFixedCalling();\n    });\n\n    return product ? product.identifier : '';\n  }\n\n  getLines(): LineEnum[] {\n    const flattenedProducts = this.getFlattenedProducts(this.products);\n    return this.getProductLines(flattenedProducts);\n  }\n\n  getLinesForAddress(address: Address): LineEnum[] {\n    let flattenedProducts = this.getFlattenedProducts(this.products);\n    flattenedProducts = this.getProductsForAddress(flattenedProducts, address);\n    return this.getProductLines(flattenedProducts);\n  }\n\n  getMaxMobileLines(): string {\n    if (\n      typeof this.products[0]?.productInfo?.characteristics === 'object' &&\n      this.products[0]?.productInfo?.characteristics &&\n      typeof this.products[0]?.productInfo?.characteristics['maxMobileLines'] === 'string'\n    )\n      return this.products[0]?.productInfo?.characteristics['maxMobileLines'];\n    return '';\n  }\n\n  getBundleMaxMobileLines(): number {\n    return Number(\n      this.products\n        .find((product) => product.productInfo && product.productInfo.isBundle())\n        ?.productInfo?.getMaxMobileLines()\n    );\n  }\n\n  getBundleDtvIdentifier(): string | undefined {\n    const bundle = this.products.find((product) => product.productInfo && product.productInfo.isBundle());\n    return bundle ? bundle.getDtvIdentifier() : undefined;\n  }\n\n  getProductsForAddress(flattenedProducts: Product[], address: Address): Product[] {\n    return flattenedProducts.filter((product) => {\n      return product.address ? AddressUtil.compareAddresses(product.address, address) : false;\n    });\n  }\n\n  getProductIds(): string[] {\n    return this.products.flatMap((product) =>\n      product.productInfo?.productId !== undefined ? [product.productInfo?.productId] : []\n    );\n  }\n\n  get installationAddresses(): Address[] {\n    if (this._installationAddresses) {\n      return this._installationAddresses;\n    }\n    this._installationAddresses = this.getInstallationAddressesForProduct(() => {\n      return true;\n    });\n    return this._installationAddresses;\n  }\n\n  getInstallationAddressesForProduct(predicate: Predicate<Product>) {\n    return this.getFlattenedProducts(this.products)\n      .filter(predicate)\n      .filter((product) => {\n        return !!product.address?.addressId;\n      })\n      .reduce((addresses: Address[], product) => {\n        if (\n          !addresses.find((needle: Address) => {\n            return needle.addressId === product.address?.addressId;\n          })\n        ) {\n          const productAdress = product.address;\n          if (productAdress) addresses.push(productAdress);\n        }\n        return addresses;\n      }, []);\n  }\n\n  private getFlattenedProducts(products: Product[], returnProductList: Product[] = []): Product[] {\n    products.forEach((product) => {\n      if (product.products && product.products.length > 0) {\n        returnProductList.push(product);\n        returnProductList = this.getFlattenedProducts(product.products, returnProductList);\n      } else {\n        returnProductList.push(product);\n      }\n    });\n    return returnProductList;\n  }\n\n  getProductsAndOptionsOmapiIds(): string[] {\n    const omapiIds: string[] = [];\n\n    this.getFlattenedProducts(this.products).forEach((product) => {\n      const productId = product.getOmapiId();\n      if (productId) omapiIds.push(productId);\n      product.options.forEach((option) => {\n        const optionOmapiId = option.getOmapiId();\n        if (optionOmapiId) {\n          omapiIds.push(optionOmapiId);\n        }\n      });\n    });\n    return omapiIds;\n  }\n\n  private getProductLines(products: Product[]): LineEnum[] {\n    const serviceTypes: LineEnum[] = [];\n    products.forEach((product) => {\n      product?.productInfo?.services?.forEach((service) => {\n        switch (service.serviceType) {\n          case 'DTV':\n            serviceTypes.push(LineEnum.IDTV);\n            break;\n          case 'FIXED_INTERNET':\n            serviceTypes.push(LineEnum.INTERNET);\n            break;\n          case 'FIXED_CALLING':\n            serviceTypes.push(LineEnum.PHONE);\n            break;\n          case 'ATV':\n            serviceTypes.push(LineEnum.ANALOGTV);\n            break;\n        }\n      });\n    });\n    return serviceTypes;\n  }\n}\n","export enum ProductIdentifierEnum {\n  WHOPPA = 70,\n  WHOP = 71,\n  FLOW = 43755,\n  ICONIC = 40816,\n  YUGO_TV = 12948,\n  PVV = 678,\n}\n","import { Address } from '../../../common/address/models/address.model';\nimport { OmapiProduct } from '@telenet/ng-lib-omapi';\nimport {\n  ProductCharacteristicEnum,\n  ProductGroupEnum,\n  ProductLevelEnum,\n  ProductTierEnum,\n} from '../constants/product-characteristic.enum';\nimport { Option } from './option.model';\nimport { ProductIdentifierEnum } from './product-identifier.enum';\n\nexport class Product {\n  static FIXED_INTERNET = 'FIXED_INTERNET';\n  static DTV = 'DTV';\n  static GENERAL = 'GENERAL';\n  static FIXED_CALLING = 'FIXED_CALLING';\n  static MOBILE_CALLING = 'MOBILE_CALLING';\n  static MOBILE_INTERNET = 'MOBILE_INTERNET';\n  static ATV = 'ATV';\n  identifier: string;\n  lineIdentifier?: string;\n  customerProductId?: number;\n  accountNumber: number;\n  label: string;\n  specUrl: string;\n  options: Option[] = [];\n  products: Product[] = [];\n  productInfo?: OmapiProduct;\n  address?: Address;\n\n  hasIdentifier(identifier: string): boolean {\n    return (\n      identifier === this.identifier ||\n      (this.products &&\n        this.products.some((product) => {\n          return product.identifier === identifier;\n        }))\n    );\n  }\n\n  isFmc(): boolean {\n    return this.getProductGroup() === ProductGroupEnum.FMC;\n  }\n\n  is3P(): boolean {\n    return this.getProductLevel() === ProductLevelEnum.LEVEL_3P;\n  }\n\n  is4P(): boolean {\n    return this.getProductLevel() === ProductLevelEnum.LEVEL_4P;\n  }\n\n  isMidTier(): boolean {\n    return this.getProductTier() === ProductTierEnum.MID;\n  }\n\n  isHighTier(): boolean {\n    return this.getProductTier() === ProductTierEnum.HIGH;\n  }\n\n  isWhop() {\n    return (\n      this.productInfo &&\n      this.productInfo.productId &&\n      this.productInfo.productId === ProductIdentifierEnum.WHOP.toString()\n    );\n  }\n\n  isWhoppa() {\n    return (\n      this.productInfo &&\n      this.productInfo.productId &&\n      this.productInfo.productId === ProductIdentifierEnum.WHOPPA.toString()\n    );\n  }\n\n  isFlow() {\n    return (\n      this.productInfo &&\n      this.productInfo.productId &&\n      this.productInfo.productId === ProductIdentifierEnum.FLOW.toString()\n    );\n  }\n\n  isIconic() {\n    return (\n      this.productInfo &&\n      this.productInfo.productId &&\n      this.productInfo.productId === ProductIdentifierEnum.ICONIC.toString()\n    );\n  }\n\n  isYugoTv() {\n    return (\n      this.productInfo &&\n      this.productInfo.productId &&\n      this.productInfo.productId === ProductIdentifierEnum.YUGO_TV.toString()\n    );\n  }\n\n  isPVV() {\n    return (\n      this.productInfo &&\n      this.productInfo.productId &&\n      this.productInfo.productId === ProductIdentifierEnum.PVV.toString()\n    );\n  }\n\n  isInternet(): boolean {\n    return this.productInfo?.hasServiceType(Product.FIXED_INTERNET) || false;\n  }\n\n  isFixedCalling(): boolean {\n    return this.productInfo?.hasServiceType(Product.FIXED_CALLING) || false;\n  }\n\n  isDTV(): boolean {\n    return this.productInfo?.hasServiceType(Product.DTV) || false;\n  }\n\n  hasDtvSubProducts(): boolean {\n    return (\n      this.products &&\n      this.products.some((product) => {\n        return product.isDTV();\n      })\n    );\n  }\n\n  getDtvIdentifier(): string | undefined {\n    if (this.products) {\n      const dtvProduct = this.products.find((product) => product.isDTV());\n\n      if (dtvProduct) {\n        return dtvProduct.identifier;\n      }\n    }\n    return undefined;\n  }\n\n  isMobile(): boolean {\n    return this.productInfo?.hasServiceType(Product.MOBILE_CALLING) || false;\n  }\n\n  isMobileInternet(): boolean {\n    return (this.productInfo?.hasServiceType(Product.MOBILE_INTERNET) && !this.isMobile()) || false;\n  }\n\n  getOmapiId(): string | undefined {\n    return this.productInfo ? this.productInfo.productId : undefined;\n  }\n\n  getProductGroup() {\n    if (this.productInfo && this.productInfo.characteristics) {\n      return this.productInfo.getCharacteristic(ProductCharacteristicEnum.PRODUCT_GROUP);\n    }\n    return false;\n  }\n\n  isOnAddress(addressId: string): boolean {\n    return this.address?.addressId === addressId;\n  }\n\n  private getProductLevel() {\n    if (this.productInfo && this.productInfo.characteristics) {\n      return this.productInfo.getCharacteristic(ProductCharacteristicEnum.PRODUCT_LEVEL);\n    }\n    return false;\n  }\n\n  private getProductTier() {\n    if (this.productInfo && this.productInfo.characteristics) {\n      return this.productInfo.getCharacteristic(ProductCharacteristicEnum.PRODUCT_TIER);\n    }\n    return false;\n  }\n}\n","import { OcapiCallConfig, OcapiService } from '@telenet/ng-lib-ocapi';\nimport { Observable, of } from 'rxjs';\nimport { map, tap } from 'rxjs/operators';\nimport { ProductHolding } from '../models/product-holding.model';\nimport { ProductHoldingMapper } from '../mappers/product-holding.mapper';\nimport { Product } from '../models/product.model';\nimport { ProductConstants } from '../constants/product.constants';\n\nexport class BaseProductHoldingService {\n  public PROPERTY_URL = '/public/?p=' + ProductConstants.CUSTOMER_PRODUCT_HOLDING;\n  private productHoldingCache: ProductHolding;\n\n  constructor(\n    public ocapiService: OcapiService,\n    public productHoldingMapper: ProductHoldingMapper\n  ) {}\n\n  public getCustomerProductHolding(messageGroup: string): Observable<ProductHolding> {\n    if (this.productHoldingCache) {\n      return of(this.productHoldingCache);\n    }\n    return this.ocapiService\n      .doGet(new OcapiCallConfig(messageGroup, this.PROPERTY_URL, this.productHoldingMapper))\n      .pipe(\n        tap((response) => {\n          if (response) {\n            this.productHoldingCache = response;\n          }\n        })\n      );\n  }\n\n  public getCustomerProductsByAddressId(messageGroup: string, addressId: string): Observable<Product[]> {\n    return this.getCustomerProductHolding(messageGroup).pipe(\n      map((response) =>\n        response.products.filter((product: Product) => product.address && product.address.addressId === addressId)\n      )\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { OcapiService } from '@telenet/ng-lib-ocapi';\nimport { ProductHoldingMapper } from '../mappers/product-holding.mapper';\nimport { ProductConstants } from '../constants/product.constants';\nimport { BaseProductHoldingService } from './base-product-holding.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ProductHoldingAdaptorService extends BaseProductHoldingService {\n  constructor(\n    public ocapiService: OcapiService,\n    public productHoldingMapper: ProductHoldingMapper\n  ) {\n    super(ocapiService, productHoldingMapper);\n    this.PROPERTY_URL = '-adaptor/public/?p=' + ProductConstants.CUSTOMER_PRODUCT_HOLDING;\n  }\n}\n","import { RawAddressInterface } from '../interfaces/raw-address.interface';\nimport { Address } from '../models/address.model';\nimport { MapperInterface } from '@telenet/ng-lib-shared';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AddressMapper implements MapperInterface<RawAddressInterface[], Address[]> {\n  toModel(rawAddresses: RawAddressInterface[] | RawAddressInterface): Address[] {\n    return this.createContactAddresses(rawAddresses);\n  }\n\n  private createContactAddresses(rawAddresses: RawAddressInterface[] | RawAddressInterface): Address[] {\n    let address: RawAddressInterface[];\n    if (rawAddresses instanceof Array) {\n      address = rawAddresses;\n    } else if (rawAddresses.address instanceof Array) {\n      return this.createContactAddressesForObject(rawAddresses);\n    } else {\n      address = [rawAddresses];\n    }\n\n    return address.map((rawAddress) => this.createContactAddress(rawAddress));\n  }\n\n  createContactAddress(rawAddress: RawAddressInterface): Address {\n    const address = new Address();\n    address.street = rawAddress.street;\n    address.streetId = rawAddress.streetId ?? '';\n    address.country = rawAddress.country;\n    address.municipality = rawAddress.municipality;\n    address.addressId = rawAddress.id || rawAddress.addressid || '';\n    address.type = rawAddress.type || rawAddress.addresstype || '';\n    address.boxNumber = rawAddress.boxNumber || rawAddress.boxnr || '';\n    address.floorNumber = rawAddress.floorNumber || rawAddress.floor;\n    address.houseNumber = rawAddress.houseNumber || rawAddress.housenr || '';\n    address.postalCode = rawAddress.postalCode || rawAddress.postalcode || '';\n    address.countryCode = rawAddress.countryCode || rawAddress.countrycode;\n    address.subHouseNumber = rawAddress.subHouseNumber || rawAddress.subhousenr || '';\n    address.tinaLocationId = rawAddress.tinaLocationId;\n    return address;\n  }\n\n  private createContactAddressesForObject(rawAddresses: RawAddressInterface): Address[] {\n    const address: RawAddressInterface[] =\n      rawAddresses.address && rawAddresses.address.length > 0 ? rawAddresses.address : [rawAddresses];\n    return address.map((rawAddress: RawAddressInterface) =>\n      this.createContactAddressForObject(rawAddress, rawAddresses)\n    );\n  }\n\n  private createContactAddressForObject(\n    rawChildAddress: RawAddressInterface,\n    rawParentAddress: RawAddressInterface\n  ): Address {\n    const address = new Address();\n    address.street = rawParentAddress.street;\n    address.streetId = rawParentAddress.streetId ?? '';\n    address.country = rawParentAddress.country;\n    address.type = rawParentAddress.type || rawParentAddress.addresstype || '';\n    address.municipality = rawParentAddress.municipality;\n    address.houseNumber = rawParentAddress.houseNumber || rawParentAddress.housenr || '';\n    address.postalCode = rawParentAddress.postalCode || rawParentAddress.postalcode || '';\n    address.countryCode = rawParentAddress.countryCode || rawParentAddress.countrycode || '';\n    address.addressId = rawChildAddress.id || rawChildAddress.addressid || '';\n    address.boxNumber = rawChildAddress.boxNumber || rawChildAddress.boxnr || '';\n    address.floorNumber = rawChildAddress.floorNumber || rawChildAddress.floor;\n    address.subHouseNumber = rawChildAddress.subHouseNumber || rawChildAddress.subhousenr || '';\n    address.tinaLocationId = rawChildAddress.tinaLocationId;\n    return address;\n  }\n}\n","import { DisplayAddressInterface } from '../interfaces/display-address.interface';\nimport { Location } from '../../geolocation/models/location.model';\nimport { ConnectFiveAddressDetailsInterface } from '../../connect-five/interfaces/connect-five-order.interface';\nimport { PlannedMaintenanceModel } from './planned-maintenance.model';\n\nexport class Address {\n  addressId: string;\n  type: string;\n  houseNumber: string;\n  boxNumber: string;\n  subHouseNumber: string;\n  street: string;\n  streetId: string;\n  postalCode: string;\n  municipality: string;\n  country?: string;\n  countryCode?: string;\n  floorNumber?: string;\n  addressType?: string;\n  tinaLocationId?: string;\n  plannedMaintenance?: PlannedMaintenanceModel[];\n\n  getDisplayAddress(getFullAddress = false, singleLine = false): DisplayAddressInterface {\n    const displayAddress = {} as DisplayAddressInterface;\n    if (this.street) {\n      displayAddress.address = this.street.concat(' ').concat(this.houseNumber);\n    }\n    if (this.subHouseNumber) {\n      displayAddress.address = displayAddress.address.concat('/').concat(this.subHouseNumber);\n    }\n    if (this.boxNumber) {\n      displayAddress.address = displayAddress.address.concat('/').concat(this.boxNumber);\n    }\n    if (this.postalCode && getFullAddress) {\n      displayAddress.address = this.getPostalCode(displayAddress, singleLine);\n    }\n    displayAddress.zipMunicipality = this.getDisplayAddressValue(this.postalCode);\n    displayAddress.addressId = this.getDisplayAddressValue(this.addressId);\n    if (this.municipality) {\n      displayAddress.zipMunicipality = displayAddress.zipMunicipality.concat(' ').concat(this.municipality);\n      if (getFullAddress) {\n        displayAddress.address = displayAddress.address.concat(' ').concat(this.municipality);\n      }\n    }\n    displayAddress.houseNrSubHouseNr = this.houseNumber;\n    if (this.subHouseNumber) {\n      displayAddress.houseNrSubHouseNr = displayAddress.houseNrSubHouseNr.concat('/').concat(this.subHouseNumber);\n    }\n\n    displayAddress.country = this.country || '';\n\n    return displayAddress;\n  }\n\n  getDisplayAddressValue(value: string): string {\n    return value ? value : '';\n  }\n\n  isAppartment(): boolean {\n    return !!this.floorNumber;\n  }\n\n  getLocation(): Location {\n    const location = new Location();\n    location.location = this.municipality;\n    location.postalCode = this.postalCode;\n    return location;\n  }\n\n  doesContainAllDataNeededForConnectFiveCheckout(): boolean {\n    return !!this.postalCode && !!this.municipality && !!this.street && !!this.houseNumber;\n  }\n\n  connectFiveAddressFormat(): ConnectFiveAddressDetailsInterface {\n    const connectFiveAddress: ConnectFiveAddressDetailsInterface = {\n      city: this.municipality,\n      zip: this.postalCode,\n      street: this.street,\n      nr: this.houseNumber,\n      floor: '',\n    };\n    if (this.boxNumber) {\n      connectFiveAddress.box = this.boxNumber;\n    }\n    return connectFiveAddress;\n  }\n\n  private getPostalCode(displayAddress: DisplayAddressInterface, singleLine: boolean) {\n    return displayAddress.address\n      .concat(', ')\n      .concat(singleLine ? '' : '\\n')\n      .concat(this.postalCode);\n  }\n}\n","import { Address } from '../models/address.model';\nimport { AddressPipeOptionsInterface } from '../interfaces/address-pipe-options.interface';\n\nexport class AddressUtil {\n  static compareAddresses(address: Address, secondAddress: Address): boolean {\n    return address.addressId === secondAddress.addressId;\n  }\n  static formatAddress(address: Address, options?: AddressPipeOptionsInterface): string {\n    let addressString = '';\n    addressString = this.addParameter(addressString, address.street);\n    addressString = this.addParameter(addressString, address.houseNumber);\n    addressString = this.addParameter(addressString, address.boxNumber, '/');\n    if (options && options.streetMunicipalitySeperator && address.street) {\n      addressString = this.addParameter(addressString, options.streetMunicipalitySeperator, '');\n    }\n    if (options && options.useBreak) {\n      addressString = this.addParameter(addressString, '<br>', '');\n    }\n\n    addressString = this.addParameter(addressString, address.postalCode);\n    addressString = this.addParameter(addressString, address.municipality);\n\n    return addressString;\n  }\n\n  private static addParameter(initialString: string, parameter?: string, seperator: string = ' '): string {\n    if (parameter) {\n      if (initialString === '') {\n        initialString = initialString.concat(parameter);\n      } else {\n        initialString = initialString.concat(seperator).concat(parameter);\n      }\n    }\n    return initialString;\n  }\n}\n","export class Location {\n  postalCode: string;\n  location: string;\n\n  toString(): string {\n    return `${this.postalCode} - ${this.location}`;\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uniq = exports.recursivePartialOverride = void 0;\nfunction recursivePartialOverride(x, y) {\n    if (y === undefined || y === null)\n        return x;\n    const objProto = Object.getPrototypeOf({});\n    if (Object.getPrototypeOf(y) != objProto)\n        return y;\n    let v = Object.assign({}, x);\n    let yKeys = Object.keys(y);\n    const allKeys = uniq(Object.keys(v).concat(yKeys));\n    for (const key of allKeys) {\n        if (yKeys.indexOf(key) >= 0) {\n            const itemKeyVal = y[key];\n            if (null != itemKeyVal && typeof itemKeyVal === \"object\") {\n                const baseKeyVal = v[key];\n                v[key] = recursivePartialOverride(baseKeyVal, itemKeyVal);\n            }\n            else {\n                v[key] = itemKeyVal;\n            }\n        }\n    }\n    return v;\n}\nexports.recursivePartialOverride = recursivePartialOverride;\nfunction uniq(ts) {\n    const out = [];\n    for (const v of ts) {\n        if (out.indexOf(v) < 0) {\n            out.push(v);\n        }\n    }\n    return out;\n}\nexports.uniq = uniq;\n","// src/utils/env.ts\nvar NOTHING = Symbol.for(\"immer-nothing\");\nvar DRAFTABLE = Symbol.for(\"immer-draftable\");\nvar DRAFT_STATE = Symbol.for(\"immer-state\");\n\n// src/utils/errors.ts\nvar errors = process.env.NODE_ENV !== \"production\" ? [\n  // All error codes, starting by 0:\n  function(plugin) {\n    return `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`;\n  },\n  function(thing) {\n    return `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`;\n  },\n  \"This object has been frozen and should not be mutated\",\n  function(data) {\n    return \"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + data;\n  },\n  \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n  \"Immer forbids circular references\",\n  \"The first or second argument to `produce` must be a function\",\n  \"The third argument to `produce` must be a function or undefined\",\n  \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n  \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n  function(thing) {\n    return `'current' expects a draft, got: ${thing}`;\n  },\n  \"Object.defineProperty() cannot be used on an Immer draft\",\n  \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n  \"Immer only supports deleting array indices\",\n  \"Immer only supports setting array indices and the 'length' property\",\n  function(thing) {\n    return `'original' expects a draft, got: ${thing}`;\n  }\n  // Note: if more errors are added, the errorOffset in Patches.ts should be increased\n  // See Patches.ts for additional errors\n] : [];\nfunction die(error, ...args) {\n  if (process.env.NODE_ENV !== \"production\") {\n    const e = errors[error];\n    const msg = typeof e === \"function\" ? e.apply(null, args) : e;\n    throw new Error(`[Immer] ${msg}`);\n  }\n  throw new Error(\n    `[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`\n  );\n}\n\n// src/utils/common.ts\nvar getPrototypeOf = Object.getPrototypeOf;\nfunction isDraft(value) {\n  return !!value && !!value[DRAFT_STATE];\n}\nfunction isDraftable(value) {\n  if (!value)\n    return false;\n  return isPlainObject(value) || Array.isArray(value) || !!value[DRAFTABLE] || !!value.constructor?.[DRAFTABLE] || isMap(value) || isSet(value);\n}\nvar objectCtorString = Object.prototype.constructor.toString();\nfunction isPlainObject(value) {\n  if (!value || typeof value !== \"object\")\n    return false;\n  const proto = getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n  const Ctor = Object.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  if (Ctor === Object)\n    return true;\n  return typeof Ctor == \"function\" && Function.toString.call(Ctor) === objectCtorString;\n}\nfunction original(value) {\n  if (!isDraft(value))\n    die(15, value);\n  return value[DRAFT_STATE].base_;\n}\nfunction each(obj, iter) {\n  if (getArchtype(obj) === 0 /* Object */) {\n    Object.entries(obj).forEach(([key, value]) => {\n      iter(key, value, obj);\n    });\n  } else {\n    obj.forEach((entry, index) => iter(index, entry, obj));\n  }\n}\nfunction getArchtype(thing) {\n  const state = thing[DRAFT_STATE];\n  return state ? state.type_ : Array.isArray(thing) ? 1 /* Array */ : isMap(thing) ? 2 /* Map */ : isSet(thing) ? 3 /* Set */ : 0 /* Object */;\n}\nfunction has(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.has(prop) : Object.prototype.hasOwnProperty.call(thing, prop);\n}\nfunction get(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.get(prop) : thing[prop];\n}\nfunction set(thing, propOrOldValue, value) {\n  const t = getArchtype(thing);\n  if (t === 2 /* Map */)\n    thing.set(propOrOldValue, value);\n  else if (t === 3 /* Set */) {\n    thing.add(value);\n  } else\n    thing[propOrOldValue] = value;\n}\nfunction is(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\nfunction isMap(target) {\n  return target instanceof Map;\n}\nfunction isSet(target) {\n  return target instanceof Set;\n}\nfunction latest(state) {\n  return state.copy_ || state.base_;\n}\nfunction shallowCopy(base, strict) {\n  if (isMap(base)) {\n    return new Map(base);\n  }\n  if (isSet(base)) {\n    return new Set(base);\n  }\n  if (Array.isArray(base))\n    return Array.prototype.slice.call(base);\n  if (!strict && isPlainObject(base)) {\n    if (!getPrototypeOf(base)) {\n      const obj = /* @__PURE__ */ Object.create(null);\n      return Object.assign(obj, base);\n    }\n    return { ...base };\n  }\n  const descriptors = Object.getOwnPropertyDescriptors(base);\n  delete descriptors[DRAFT_STATE];\n  let keys = Reflect.ownKeys(descriptors);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    const desc = descriptors[key];\n    if (desc.writable === false) {\n      desc.writable = true;\n      desc.configurable = true;\n    }\n    if (desc.get || desc.set)\n      descriptors[key] = {\n        configurable: true,\n        writable: true,\n        // could live with !!desc.set as well here...\n        enumerable: desc.enumerable,\n        value: base[key]\n      };\n  }\n  return Object.create(getPrototypeOf(base), descriptors);\n}\nfunction freeze(obj, deep = false) {\n  if (isFrozen(obj) || isDraft(obj) || !isDraftable(obj))\n    return obj;\n  if (getArchtype(obj) > 1) {\n    obj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections;\n  }\n  Object.freeze(obj);\n  if (deep)\n    each(obj, (_key, value) => freeze(value, true), true);\n  return obj;\n}\nfunction dontMutateFrozenCollections() {\n  die(2);\n}\nfunction isFrozen(obj) {\n  return Object.isFrozen(obj);\n}\n\n// src/utils/plugins.ts\nvar plugins = {};\nfunction getPlugin(pluginKey) {\n  const plugin = plugins[pluginKey];\n  if (!plugin) {\n    die(0, pluginKey);\n  }\n  return plugin;\n}\nfunction loadPlugin(pluginKey, implementation) {\n  if (!plugins[pluginKey])\n    plugins[pluginKey] = implementation;\n}\n\n// src/core/scope.ts\nvar currentScope;\nfunction getCurrentScope() {\n  return currentScope;\n}\nfunction createScope(parent_, immer_) {\n  return {\n    drafts_: [],\n    parent_,\n    immer_,\n    // Whenever the modified draft contains a draft from another scope, we\n    // need to prevent auto-freezing so the unowned draft can be finalized.\n    canAutoFreeze_: true,\n    unfinalizedDrafts_: 0\n  };\n}\nfunction usePatchesInScope(scope, patchListener) {\n  if (patchListener) {\n    getPlugin(\"Patches\");\n    scope.patches_ = [];\n    scope.inversePatches_ = [];\n    scope.patchListener_ = patchListener;\n  }\n}\nfunction revokeScope(scope) {\n  leaveScope(scope);\n  scope.drafts_.forEach(revokeDraft);\n  scope.drafts_ = null;\n}\nfunction leaveScope(scope) {\n  if (scope === currentScope) {\n    currentScope = scope.parent_;\n  }\n}\nfunction enterScope(immer2) {\n  return currentScope = createScope(currentScope, immer2);\n}\nfunction revokeDraft(draft) {\n  const state = draft[DRAFT_STATE];\n  if (state.type_ === 0 /* Object */ || state.type_ === 1 /* Array */)\n    state.revoke_();\n  else\n    state.revoked_ = true;\n}\n\n// src/core/finalize.ts\nfunction processResult(result, scope) {\n  scope.unfinalizedDrafts_ = scope.drafts_.length;\n  const baseDraft = scope.drafts_[0];\n  const isReplaced = result !== void 0 && result !== baseDraft;\n  if (isReplaced) {\n    if (baseDraft[DRAFT_STATE].modified_) {\n      revokeScope(scope);\n      die(4);\n    }\n    if (isDraftable(result)) {\n      result = finalize(scope, result);\n      if (!scope.parent_)\n        maybeFreeze(scope, result);\n    }\n    if (scope.patches_) {\n      getPlugin(\"Patches\").generateReplacementPatches_(\n        baseDraft[DRAFT_STATE].base_,\n        result,\n        scope.patches_,\n        scope.inversePatches_\n      );\n    }\n  } else {\n    result = finalize(scope, baseDraft, []);\n  }\n  revokeScope(scope);\n  if (scope.patches_) {\n    scope.patchListener_(scope.patches_, scope.inversePatches_);\n  }\n  return result !== NOTHING ? result : void 0;\n}\nfunction finalize(rootScope, value, path) {\n  if (isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  if (!state) {\n    each(\n      value,\n      (key, childValue) => finalizeProperty(rootScope, state, value, key, childValue, path),\n      true\n      // See #590, don't recurse into non-enumerable of non drafted objects\n    );\n    return value;\n  }\n  if (state.scope_ !== rootScope)\n    return value;\n  if (!state.modified_) {\n    maybeFreeze(rootScope, state.base_, true);\n    return state.base_;\n  }\n  if (!state.finalized_) {\n    state.finalized_ = true;\n    state.scope_.unfinalizedDrafts_--;\n    const result = state.copy_;\n    let resultEach = result;\n    let isSet2 = false;\n    if (state.type_ === 3 /* Set */) {\n      resultEach = new Set(result);\n      result.clear();\n      isSet2 = true;\n    }\n    each(\n      resultEach,\n      (key, childValue) => finalizeProperty(rootScope, state, result, key, childValue, path, isSet2)\n    );\n    maybeFreeze(rootScope, result, false);\n    if (path && rootScope.patches_) {\n      getPlugin(\"Patches\").generatePatches_(\n        state,\n        path,\n        rootScope.patches_,\n        rootScope.inversePatches_\n      );\n    }\n  }\n  return state.copy_;\n}\nfunction finalizeProperty(rootScope, parentState, targetObject, prop, childValue, rootPath, targetIsSet) {\n  if (process.env.NODE_ENV !== \"production\" && childValue === targetObject)\n    die(5);\n  if (isDraft(childValue)) {\n    const path = rootPath && parentState && parentState.type_ !== 3 /* Set */ && // Set objects are atomic since they have no keys.\n    !has(parentState.assigned_, prop) ? rootPath.concat(prop) : void 0;\n    const res = finalize(rootScope, childValue, path);\n    set(targetObject, prop, res);\n    if (isDraft(res)) {\n      rootScope.canAutoFreeze_ = false;\n    } else\n      return;\n  } else if (targetIsSet) {\n    targetObject.add(childValue);\n  }\n  if (isDraftable(childValue) && !isFrozen(childValue)) {\n    if (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n      return;\n    }\n    finalize(rootScope, childValue);\n    if (!parentState || !parentState.scope_.parent_)\n      maybeFreeze(rootScope, childValue);\n  }\n}\nfunction maybeFreeze(scope, value, deep = false) {\n  if (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n    freeze(value, deep);\n  }\n}\n\n// src/core/proxy.ts\nfunction createProxyProxy(base, parent) {\n  const isArray = Array.isArray(base);\n  const state = {\n    type_: isArray ? 1 /* Array */ : 0 /* Object */,\n    // Track which produce call this is associated with.\n    scope_: parent ? parent.scope_ : getCurrentScope(),\n    // True for both shallow and deep changes.\n    modified_: false,\n    // Used during finalization.\n    finalized_: false,\n    // Track which properties have been assigned (true) or deleted (false).\n    assigned_: {},\n    // The parent draft state.\n    parent_: parent,\n    // The base state.\n    base_: base,\n    // The base proxy.\n    draft_: null,\n    // set below\n    // The base copy with any updated values.\n    copy_: null,\n    // Called by the `produce` function.\n    revoke_: null,\n    isManual_: false\n  };\n  let target = state;\n  let traps = objectTraps;\n  if (isArray) {\n    target = [state];\n    traps = arrayTraps;\n  }\n  const { revoke, proxy } = Proxy.revocable(target, traps);\n  state.draft_ = proxy;\n  state.revoke_ = revoke;\n  return proxy;\n}\nvar objectTraps = {\n  get(state, prop) {\n    if (prop === DRAFT_STATE)\n      return state;\n    const source = latest(state);\n    if (!has(source, prop)) {\n      return readPropFromProto(state, source, prop);\n    }\n    const value = source[prop];\n    if (state.finalized_ || !isDraftable(value)) {\n      return value;\n    }\n    if (value === peek(state.base_, prop)) {\n      prepareCopy(state);\n      return state.copy_[prop] = createProxy(value, state);\n    }\n    return value;\n  },\n  has(state, prop) {\n    return prop in latest(state);\n  },\n  ownKeys(state) {\n    return Reflect.ownKeys(latest(state));\n  },\n  set(state, prop, value) {\n    const desc = getDescriptorFromProto(latest(state), prop);\n    if (desc?.set) {\n      desc.set.call(state.draft_, value);\n      return true;\n    }\n    if (!state.modified_) {\n      const current2 = peek(latest(state), prop);\n      const currentState = current2?.[DRAFT_STATE];\n      if (currentState && currentState.base_ === value) {\n        state.copy_[prop] = value;\n        state.assigned_[prop] = false;\n        return true;\n      }\n      if (is(value, current2) && (value !== void 0 || has(state.base_, prop)))\n        return true;\n      prepareCopy(state);\n      markChanged(state);\n    }\n    if (state.copy_[prop] === value && // special case: handle new props with value 'undefined'\n    (value !== void 0 || prop in state.copy_) || // special case: NaN\n    Number.isNaN(value) && Number.isNaN(state.copy_[prop]))\n      return true;\n    state.copy_[prop] = value;\n    state.assigned_[prop] = true;\n    return true;\n  },\n  deleteProperty(state, prop) {\n    if (peek(state.base_, prop) !== void 0 || prop in state.base_) {\n      state.assigned_[prop] = false;\n      prepareCopy(state);\n      markChanged(state);\n    } else {\n      delete state.assigned_[prop];\n    }\n    if (state.copy_) {\n      delete state.copy_[prop];\n    }\n    return true;\n  },\n  // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n  // the same guarantee in ES5 mode.\n  getOwnPropertyDescriptor(state, prop) {\n    const owner = latest(state);\n    const desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n    if (!desc)\n      return desc;\n    return {\n      writable: true,\n      configurable: state.type_ !== 1 /* Array */ || prop !== \"length\",\n      enumerable: desc.enumerable,\n      value: owner[prop]\n    };\n  },\n  defineProperty() {\n    die(11);\n  },\n  getPrototypeOf(state) {\n    return getPrototypeOf(state.base_);\n  },\n  setPrototypeOf() {\n    die(12);\n  }\n};\nvar arrayTraps = {};\neach(objectTraps, (key, fn) => {\n  arrayTraps[key] = function() {\n    arguments[0] = arguments[0][0];\n    return fn.apply(this, arguments);\n  };\n});\narrayTraps.deleteProperty = function(state, prop) {\n  if (process.env.NODE_ENV !== \"production\" && isNaN(parseInt(prop)))\n    die(13);\n  return arrayTraps.set.call(this, state, prop, void 0);\n};\narrayTraps.set = function(state, prop, value) {\n  if (process.env.NODE_ENV !== \"production\" && prop !== \"length\" && isNaN(parseInt(prop)))\n    die(14);\n  return objectTraps.set.call(this, state[0], prop, value, state[0]);\n};\nfunction peek(draft, prop) {\n  const state = draft[DRAFT_STATE];\n  const source = state ? latest(state) : draft;\n  return source[prop];\n}\nfunction readPropFromProto(state, source, prop) {\n  const desc = getDescriptorFromProto(source, prop);\n  return desc ? `value` in desc ? desc.value : (\n    // This is a very special case, if the prop is a getter defined by the\n    // prototype, we should invoke it with the draft as context!\n    desc.get?.call(state.draft_)\n  ) : void 0;\n}\nfunction getDescriptorFromProto(source, prop) {\n  if (!(prop in source))\n    return void 0;\n  let proto = getPrototypeOf(source);\n  while (proto) {\n    const desc = Object.getOwnPropertyDescriptor(proto, prop);\n    if (desc)\n      return desc;\n    proto = getPrototypeOf(proto);\n  }\n  return void 0;\n}\nfunction markChanged(state) {\n  if (!state.modified_) {\n    state.modified_ = true;\n    if (state.parent_) {\n      markChanged(state.parent_);\n    }\n  }\n}\nfunction prepareCopy(state) {\n  if (!state.copy_) {\n    state.copy_ = shallowCopy(\n      state.base_,\n      state.scope_.immer_.useStrictShallowCopy_\n    );\n  }\n}\n\n// src/core/immerClass.ts\nvar Immer2 = class {\n  constructor(config) {\n    this.autoFreeze_ = true;\n    this.useStrictShallowCopy_ = false;\n    /**\n     * The `produce` function takes a value and a \"recipe function\" (whose\n     * return value often depends on the base state). The recipe function is\n     * free to mutate its first argument however it wants. All mutations are\n     * only ever applied to a __copy__ of the base state.\n     *\n     * Pass only a function to create a \"curried producer\" which relieves you\n     * from passing the recipe function every time.\n     *\n     * Only plain objects and arrays are made mutable. All other objects are\n     * considered uncopyable.\n     *\n     * Note: This function is __bound__ to its `Immer` instance.\n     *\n     * @param {any} base - the initial state\n     * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n     * @param {Function} patchListener - optional function that will be called with all the patches produced here\n     * @returns {any} a new state, or the initial state if nothing was modified\n     */\n    this.produce = (base, recipe, patchListener) => {\n      if (typeof base === \"function\" && typeof recipe !== \"function\") {\n        const defaultBase = recipe;\n        recipe = base;\n        const self = this;\n        return function curriedProduce(base2 = defaultBase, ...args) {\n          return self.produce(base2, (draft) => recipe.call(this, draft, ...args));\n        };\n      }\n      if (typeof recipe !== \"function\")\n        die(6);\n      if (patchListener !== void 0 && typeof patchListener !== \"function\")\n        die(7);\n      let result;\n      if (isDraftable(base)) {\n        const scope = enterScope(this);\n        const proxy = createProxy(base, void 0);\n        let hasError = true;\n        try {\n          result = recipe(proxy);\n          hasError = false;\n        } finally {\n          if (hasError)\n            revokeScope(scope);\n          else\n            leaveScope(scope);\n        }\n        usePatchesInScope(scope, patchListener);\n        return processResult(result, scope);\n      } else if (!base || typeof base !== \"object\") {\n        result = recipe(base);\n        if (result === void 0)\n          result = base;\n        if (result === NOTHING)\n          result = void 0;\n        if (this.autoFreeze_)\n          freeze(result, true);\n        if (patchListener) {\n          const p = [];\n          const ip = [];\n          getPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip);\n          patchListener(p, ip);\n        }\n        return result;\n      } else\n        die(1, base);\n    };\n    this.produceWithPatches = (base, recipe) => {\n      if (typeof base === \"function\") {\n        return (state, ...args) => this.produceWithPatches(state, (draft) => base(draft, ...args));\n      }\n      let patches, inversePatches;\n      const result = this.produce(base, recipe, (p, ip) => {\n        patches = p;\n        inversePatches = ip;\n      });\n      return [result, patches, inversePatches];\n    };\n    if (typeof config?.autoFreeze === \"boolean\")\n      this.setAutoFreeze(config.autoFreeze);\n    if (typeof config?.useStrictShallowCopy === \"boolean\")\n      this.setUseStrictShallowCopy(config.useStrictShallowCopy);\n  }\n  createDraft(base) {\n    if (!isDraftable(base))\n      die(8);\n    if (isDraft(base))\n      base = current(base);\n    const scope = enterScope(this);\n    const proxy = createProxy(base, void 0);\n    proxy[DRAFT_STATE].isManual_ = true;\n    leaveScope(scope);\n    return proxy;\n  }\n  finishDraft(draft, patchListener) {\n    const state = draft && draft[DRAFT_STATE];\n    if (!state || !state.isManual_)\n      die(9);\n    const { scope_: scope } = state;\n    usePatchesInScope(scope, patchListener);\n    return processResult(void 0, scope);\n  }\n  /**\n   * Pass true to automatically freeze all copies created by Immer.\n   *\n   * By default, auto-freezing is enabled.\n   */\n  setAutoFreeze(value) {\n    this.autoFreeze_ = value;\n  }\n  /**\n   * Pass true to enable strict shallow copy.\n   *\n   * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n   */\n  setUseStrictShallowCopy(value) {\n    this.useStrictShallowCopy_ = value;\n  }\n  applyPatches(base, patches) {\n    let i;\n    for (i = patches.length - 1; i >= 0; i--) {\n      const patch = patches[i];\n      if (patch.path.length === 0 && patch.op === \"replace\") {\n        base = patch.value;\n        break;\n      }\n    }\n    if (i > -1) {\n      patches = patches.slice(i + 1);\n    }\n    const applyPatchesImpl = getPlugin(\"Patches\").applyPatches_;\n    if (isDraft(base)) {\n      return applyPatchesImpl(base, patches);\n    }\n    return this.produce(\n      base,\n      (draft) => applyPatchesImpl(draft, patches)\n    );\n  }\n};\nfunction createProxy(value, parent) {\n  const draft = isMap(value) ? getPlugin(\"MapSet\").proxyMap_(value, parent) : isSet(value) ? getPlugin(\"MapSet\").proxySet_(value, parent) : createProxyProxy(value, parent);\n  const scope = parent ? parent.scope_ : getCurrentScope();\n  scope.drafts_.push(draft);\n  return draft;\n}\n\n// src/core/current.ts\nfunction current(value) {\n  if (!isDraft(value))\n    die(10, value);\n  return currentImpl(value);\n}\nfunction currentImpl(value) {\n  if (!isDraftable(value) || isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  let copy;\n  if (state) {\n    if (!state.modified_)\n      return state.base_;\n    state.finalized_ = true;\n    copy = shallowCopy(value, state.scope_.immer_.useStrictShallowCopy_);\n  } else {\n    copy = shallowCopy(value, true);\n  }\n  each(copy, (key, childValue) => {\n    set(copy, key, currentImpl(childValue));\n  });\n  if (state) {\n    state.finalized_ = false;\n  }\n  return copy;\n}\n\n// src/plugins/patches.ts\nfunction enablePatches() {\n  const errorOffset = 16;\n  if (process.env.NODE_ENV !== \"production\") {\n    errors.push(\n      'Sets cannot have \"replace\" patches.',\n      function(op) {\n        return \"Unsupported patch operation: \" + op;\n      },\n      function(path) {\n        return \"Cannot apply patch, path doesn't resolve: \" + path;\n      },\n      \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n    );\n  }\n  const REPLACE = \"replace\";\n  const ADD = \"add\";\n  const REMOVE = \"remove\";\n  function generatePatches_(state, basePath, patches, inversePatches) {\n    switch (state.type_) {\n      case 0 /* Object */:\n      case 2 /* Map */:\n        return generatePatchesFromAssigned(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n      case 1 /* Array */:\n        return generateArrayPatches(state, basePath, patches, inversePatches);\n      case 3 /* Set */:\n        return generateSetPatches(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n    }\n  }\n  function generateArrayPatches(state, basePath, patches, inversePatches) {\n    let { base_, assigned_ } = state;\n    let copy_ = state.copy_;\n    if (copy_.length < base_.length) {\n      ;\n      [base_, copy_] = [copy_, base_];\n      [patches, inversePatches] = [inversePatches, patches];\n    }\n    for (let i = 0; i < base_.length; i++) {\n      if (assigned_[i] && copy_[i] !== base_[i]) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REPLACE,\n          path,\n          // Need to maybe clone it, as it can in fact be the original value\n          // due to the base/copy inversion at the start of this function\n          value: clonePatchValueIfNeeded(copy_[i])\n        });\n        inversePatches.push({\n          op: REPLACE,\n          path,\n          value: clonePatchValueIfNeeded(base_[i])\n        });\n      }\n    }\n    for (let i = base_.length; i < copy_.length; i++) {\n      const path = basePath.concat([i]);\n      patches.push({\n        op: ADD,\n        path,\n        // Need to maybe clone it, as it can in fact be the original value\n        // due to the base/copy inversion at the start of this function\n        value: clonePatchValueIfNeeded(copy_[i])\n      });\n    }\n    for (let i = copy_.length - 1; base_.length <= i; --i) {\n      const path = basePath.concat([i]);\n      inversePatches.push({\n        op: REMOVE,\n        path\n      });\n    }\n  }\n  function generatePatchesFromAssigned(state, basePath, patches, inversePatches) {\n    const { base_, copy_ } = state;\n    each(state.assigned_, (key, assignedValue) => {\n      const origValue = get(base_, key);\n      const value = get(copy_, key);\n      const op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD;\n      if (origValue === value && op === REPLACE)\n        return;\n      const path = basePath.concat(key);\n      patches.push(op === REMOVE ? { op, path } : { op, path, value });\n      inversePatches.push(\n        op === ADD ? { op: REMOVE, path } : op === REMOVE ? { op: ADD, path, value: clonePatchValueIfNeeded(origValue) } : { op: REPLACE, path, value: clonePatchValueIfNeeded(origValue) }\n      );\n    });\n  }\n  function generateSetPatches(state, basePath, patches, inversePatches) {\n    let { base_, copy_ } = state;\n    let i = 0;\n    base_.forEach((value) => {\n      if (!copy_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REMOVE,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: ADD,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n    i = 0;\n    copy_.forEach((value) => {\n      if (!base_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: ADD,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: REMOVE,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n  }\n  function generateReplacementPatches_(baseValue, replacement, patches, inversePatches) {\n    patches.push({\n      op: REPLACE,\n      path: [],\n      value: replacement === NOTHING ? void 0 : replacement\n    });\n    inversePatches.push({\n      op: REPLACE,\n      path: [],\n      value: baseValue\n    });\n  }\n  function applyPatches_(draft, patches) {\n    patches.forEach((patch) => {\n      const { path, op } = patch;\n      let base = draft;\n      for (let i = 0; i < path.length - 1; i++) {\n        const parentType = getArchtype(base);\n        let p = path[i];\n        if (typeof p !== \"string\" && typeof p !== \"number\") {\n          p = \"\" + p;\n        }\n        if ((parentType === 0 /* Object */ || parentType === 1 /* Array */) && (p === \"__proto__\" || p === \"constructor\"))\n          die(errorOffset + 3);\n        if (typeof base === \"function\" && p === \"prototype\")\n          die(errorOffset + 3);\n        base = get(base, p);\n        if (typeof base !== \"object\")\n          die(errorOffset + 2, path.join(\"/\"));\n      }\n      const type = getArchtype(base);\n      const value = deepClonePatchValue(patch.value);\n      const key = path[path.length - 1];\n      switch (op) {\n        case REPLACE:\n          switch (type) {\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              die(errorOffset);\n            default:\n              return base[key] = value;\n          }\n        case ADD:\n          switch (type) {\n            case 1 /* Array */:\n              return key === \"-\" ? base.push(value) : base.splice(key, 0, value);\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              return base.add(value);\n            default:\n              return base[key] = value;\n          }\n        case REMOVE:\n          switch (type) {\n            case 1 /* Array */:\n              return base.splice(key, 1);\n            case 2 /* Map */:\n              return base.delete(key);\n            case 3 /* Set */:\n              return base.delete(patch.value);\n            default:\n              return delete base[key];\n          }\n        default:\n          die(errorOffset + 1, op);\n      }\n    });\n    return draft;\n  }\n  function deepClonePatchValue(obj) {\n    if (!isDraftable(obj))\n      return obj;\n    if (Array.isArray(obj))\n      return obj.map(deepClonePatchValue);\n    if (isMap(obj))\n      return new Map(\n        Array.from(obj.entries()).map(([k, v]) => [k, deepClonePatchValue(v)])\n      );\n    if (isSet(obj))\n      return new Set(Array.from(obj).map(deepClonePatchValue));\n    const cloned = Object.create(getPrototypeOf(obj));\n    for (const key in obj)\n      cloned[key] = deepClonePatchValue(obj[key]);\n    if (has(obj, DRAFTABLE))\n      cloned[DRAFTABLE] = obj[DRAFTABLE];\n    return cloned;\n  }\n  function clonePatchValueIfNeeded(obj) {\n    if (isDraft(obj)) {\n      return deepClonePatchValue(obj);\n    } else\n      return obj;\n  }\n  loadPlugin(\"Patches\", {\n    applyPatches_,\n    generatePatches_,\n    generateReplacementPatches_\n  });\n}\n\n// src/plugins/mapset.ts\nfunction enableMapSet() {\n  class DraftMap extends Map {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 2 /* Map */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        assigned_: void 0,\n        base_: target,\n        draft_: this,\n        isManual_: false,\n        revoked_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(key) {\n      return latest(this[DRAFT_STATE]).has(key);\n    }\n    set(key, value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!latest(state).has(key) || latest(state).get(key) !== value) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_.set(key, true);\n        state.copy_.set(key, value);\n        state.assigned_.set(key, true);\n      }\n      return this;\n    }\n    delete(key) {\n      if (!this.has(key)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareMapCopy(state);\n      markChanged(state);\n      if (state.base_.has(key)) {\n        state.assigned_.set(key, false);\n      } else {\n        state.assigned_.delete(key);\n      }\n      state.copy_.delete(key);\n      return true;\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_ = /* @__PURE__ */ new Map();\n        each(state.base_, (key) => {\n          state.assigned_.set(key, false);\n        });\n        state.copy_.clear();\n      }\n    }\n    forEach(cb, thisArg) {\n      const state = this[DRAFT_STATE];\n      latest(state).forEach((_value, key, _map) => {\n        cb.call(thisArg, this.get(key), key, this);\n      });\n    }\n    get(key) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      const value = latest(state).get(key);\n      if (state.finalized_ || !isDraftable(value)) {\n        return value;\n      }\n      if (value !== state.base_.get(key)) {\n        return value;\n      }\n      const draft = createProxy(value, state);\n      prepareMapCopy(state);\n      state.copy_.set(key, draft);\n      return draft;\n    }\n    keys() {\n      return latest(this[DRAFT_STATE]).keys();\n    }\n    values() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.values(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value\n          };\n        }\n      };\n    }\n    entries() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.entries(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value: [r.value, value]\n          };\n        }\n      };\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.entries();\n    }\n  }\n  function proxyMap_(target, parent) {\n    return new DraftMap(target, parent);\n  }\n  function prepareMapCopy(state) {\n    if (!state.copy_) {\n      state.assigned_ = /* @__PURE__ */ new Map();\n      state.copy_ = new Map(state.base_);\n    }\n  }\n  class DraftSet extends Set {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 3 /* Set */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        base_: target,\n        draft_: this,\n        drafts_: /* @__PURE__ */ new Map(),\n        revoked_: false,\n        isManual_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!state.copy_) {\n        return state.base_.has(value);\n      }\n      if (state.copy_.has(value))\n        return true;\n      if (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value)))\n        return true;\n      return false;\n    }\n    add(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!this.has(value)) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.add(value);\n      }\n      return this;\n    }\n    delete(value) {\n      if (!this.has(value)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      markChanged(state);\n      return state.copy_.delete(value) || (state.drafts_.has(value) ? state.copy_.delete(state.drafts_.get(value)) : (\n        /* istanbul ignore next */\n        false\n      ));\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.clear();\n      }\n    }\n    values() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.values();\n    }\n    entries() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.entries();\n    }\n    keys() {\n      return this.values();\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.values();\n    }\n    forEach(cb, thisArg) {\n      const iterator = this.values();\n      let result = iterator.next();\n      while (!result.done) {\n        cb.call(thisArg, result.value, result.value, this);\n        result = iterator.next();\n      }\n    }\n  }\n  function proxySet_(target, parent) {\n    return new DraftSet(target, parent);\n  }\n  function prepareSetCopy(state) {\n    if (!state.copy_) {\n      state.copy_ = /* @__PURE__ */ new Set();\n      state.base_.forEach((value) => {\n        if (isDraftable(value)) {\n          const draft = createProxy(value, state);\n          state.drafts_.set(value, draft);\n          state.copy_.add(draft);\n        } else {\n          state.copy_.add(value);\n        }\n      });\n    }\n  }\n  function assertUnrevoked(state) {\n    if (state.revoked_)\n      die(3, JSON.stringify(latest(state)));\n  }\n  loadPlugin(\"MapSet\", { proxyMap_, proxySet_ });\n}\n\n// src/immer.ts\nvar immer = new Immer2();\nvar produce = immer.produce;\nvar produceWithPatches = immer.produceWithPatches.bind(\n  immer\n);\nvar setAutoFreeze = immer.setAutoFreeze.bind(immer);\nvar setUseStrictShallowCopy = immer.setUseStrictShallowCopy.bind(immer);\nvar applyPatches = immer.applyPatches.bind(immer);\nvar createDraft = immer.createDraft.bind(immer);\nvar finishDraft = immer.finishDraft.bind(immer);\nfunction castDraft(value) {\n  return value;\n}\nfunction castImmutable(value) {\n  return value;\n}\nexport {\n  Immer2 as Immer,\n  applyPatches,\n  castDraft,\n  castImmutable,\n  createDraft,\n  current,\n  enableMapSet,\n  enablePatches,\n  finishDraft,\n  freeze,\n  DRAFTABLE as immerable,\n  isDraft,\n  isDraftable,\n  NOTHING as nothing,\n  original,\n  produce,\n  produceWithPatches,\n  setAutoFreeze,\n  setUseStrictShallowCopy\n};\n","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nexport default head;\n"],"names":["NgxsModule","PricedCphState","MarketingCafeNgxsModule","forFeature","imports","i1","NgxsFeatureModule","NotificationTypeEnum","of","BackendErrorNotification","type","ERROR","labelKey","shouldShow","map","PricedCphConstants","CafeContactDetailsService","BusinessCustomerNotification","injector","cafeContactDetailsService","get","getContactDetails","MESSAGE_GROUP","pipe","cafeContactDetails","isOrganization","Store","NoManagerNotification","WARNING","store","loginDetails","selectSnapshot","hasManagerRole","NoProductsNotification","overview","hasNoProducts","some","value","products","length","AbstractMapper","icon","MAX_WEIGHT","constructor","product","parent","undefined","label","getLabel","key","getKey","amount","weight","getWeight","productInfo","omapiProduct","DataSimMapper","_key","_product","_parent","factory","fac","providedIn","TranslateHelperService","DefaultMapper","translateHelperService","args","itemName","name","i0","inject","DigitalTvMapper","ICON_DTV","isFlow","isIconic","isYugoTv","isHighTierWigo","Boolean","isWigo","isHighTier","FixedTelMapper","ICON_FIXED_TEL","isWigo3p","isWigo4p","isConnect5","is4P","is3P","InternetMapper","ICON_WIFI_SIGNAL","_downloadSpeedSpec","_downloadVolumeSpec","FUP","_serviceCategory","keyValue","getCharacteristic","getLabelArgs","downloadSpeedSpec","getSpecOrUndefined","downloadVolumeSpec","Object","assign","internetSpeed","createSpecString","internetVolume","keys","getServiceSpecificationByLabelKey","spec","unit","MobileMapper","ICON_MOBILE","_gbDisplay","_unlimitedDisplay","_mobileInternetVolume","_mobileInternet","maxMobileLines","hasParent","getMaxMobileLines","data","getDataForParent","simCards","isPVV","getData","hasUnlimitedInternetBasedOnLabelKey","getSharedMobileData","Number","Injector","from","filter","mergeMap","take","NotificationsService","notificationsIfConditionsMet$","notifications","notification","shouldShowNotification","inject","DataLayerService","PricedCphDatalayerService","dataLayerService","category","createCategory","viewedEventInfo","createEventInfo","openedEventInfo","pushComponentViewed","sendEvent","eventInfo","attributes","pushComponentOpened","CafeBillsUtil","SpecificationsMapperService","PricedCphService","specificationsMapperService","getOverview","productHolding","bills","overviews","getVisibleProductsOnFirstInstallationAddress","defaultOverviews","accountNumbers","getFlattenedUniqueAccountNumbers","accountNumber","cphOverview","getCphOverview","enrichWithPrice","push","options","reduce","acc","val","concat","Array","Set","getProducts","sort","sortByWeight","groupThem","getOptions","firstInstallationAddress","installationAddresses","productsForAddress","getProductsForAddress","filterInvisibleProducts","filteredProducts","visible","forEach","option","specifications","getSpecifications","isBundle","subProduct","mappedProduct","mapOptions","flatMap","mapBundleOptions","accum","each","existingItem","find","pricedItem","hasBillsForAccount","String","statement","retrieveLastBillStatementByAccountNumber","lastBillPrice","billamount","a","b","digitalTvMapper","fixedTelMapper","internetMapper","mobileMapper","dataSimMapper","defaultMapper","mapper","getMapper","pricedCphSpec","hasServiceType","isInternet","isMobile","isDTV","isFixedCalling","isMobileInternet","i2","i3","i4","i5","i6","LabelUtil","getTitle","getLabelKeyWithTypeTitle","joinValues","getLabelKeyWithTypeLabel","getText","getLabelKeyWithTypeText","values","join","defaultState","isLoggedIn","Initialize","SetNotificationIfNotSet","SetLoginDetails","SetOverview","Action","Selector","State","catchError","switchMap","tap","combineLatest","Observable","produce","LoginService","ProductHoldingAdaptorService","CafeBillsService","ProductHolding","loginService","productHoldingService","pricedCphService","billService","state","initialize","ctx","getLoginDetails","loadCustomerProductHolding","loadBills","dispatch","result","pricedCphOverviews","err","console","error","setOverview","action","setState","getState","draft","setNotificationIfNotSet","setLoginDetails","getCustomerProductHolding","isManager","getBills","__decorate","defaults","LanguageEnum","LanguageService","TranslateModule","NgIf","elementStart","text","elementEnd","advance","textInterpolate1","ctx_r1","decimal","BillPriceComponent","languageService","price","integer","isFrench","ngOnInit","priceArray","split","getLanguage","FR","directiveInject","selectors","inputs","standalone","features","StandaloneFeature","decls","vars","consts","template","BillPriceComponent_Template","rf","template","BillPriceComponent_span_3_Template","BillPriceComponent_span_6_Template","BillPriceComponent_span_7_Template","element","property","textInterpolate","pipeBind1","TranslatePipe","encapsulation","ElementRef","Renderer2","TogglePanelDirective","elRef","renderer","CLASS_PANEL_COLLAPSED","panelClass","handleClick","header","nativeElement","panel","parentElement","querySelector","nextSibling","classList","contains","addClass","style","maxHeight","setHeight","requestAnimationFrame","eventHandler","getComputedStyle","removeEventListener","addEventListener","el","heightProperty","setStyle","hostBindings","TogglePanelDirective_HostBindings","listener","DisclaimerComponent_span_3_Template_span_click_0_listener","restoreView","_r3","ctx_r2","nextContext","resetView","toggleShowMore","ctx_r0","sanitizeHtml","DisclaimerComponent","showMore","DisclaimerComponent_Template","DisclaimerComponent_span_3_Template","DisclaimerComponent_span_4_Template","NgClass","DropDownAccordionHeaderComponent","pricedCphDatalayerService","title","isPanelCollapsed","rotateChevron","DropDownAccordionHeaderComponent_Template","DropDownAccordionHeaderComponent_Template_div_click_0_listener","classProp","Select","OverviewGroupTypeEnum","ErrorNotificationComponent","OverviewGroupComponent","NgFor","AsyncPipe","overview_r4","elementContainerStart","DropDownAccordionPanelComponent_ng_container_0_div_1_ng_container_1_ng_container_1_tg_marketing_cafe_bill_price_3_Template","elementContainerEnd","ctx_r6","overviewGroupTypeEnum","PRODUCTS","OPTIONS","DropDownAccordionPanelComponent_ng_container_0_div_1_ng_container_1_ng_container_1_Template","DropDownAccordionPanelComponent_ng_container_0_div_1_ng_container_1_Template","DropDownAccordionPanelComponent_ng_container_0_div_1_Template","DropDownAccordionPanelComponent","DropDownAccordionPanelComponent_Template","DropDownAccordionPanelComponent_ng_container_0_Template","DropDownAccordionPanelComponent_ng_template_2_Template","templateRefExtractor","_r2","DropDownAccordionComponent","DropDownAccordionComponent_Template","getClass","INFO","getIconClass","ErrorNotificationComponent_Template","NgTemplateOutlet","elementContainer","OverviewGroupComponent_ng_container_1_ng_container_2_ng_container_1_Template","pureFunction3","_c0","spec_r7","OverviewGroupComponent_ng_container_1_ng_container_1_Template","OverviewGroupComponent_ng_container_1_ng_container_2_Template","_c1","getLabelKey","item_r4","icon_r11","OverviewGroupComponent_ng_template_2_i_1_Template","rowClass_r12","itemClass_r13","pipeBind2","labelKey_r9","args_r10","items","item","OverviewGroupComponent_Template","OverviewGroupComponent_div_0_Template","OverviewGroupComponent_ng_container_1_Template","OverviewGroupComponent_ng_template_2_Template","overview$","PricedCustomerProductHoldingComponent","notificationsService","loginDetails$","isLoggedIn$","NOTIFICATIONS","subscribe","PricedCustomerProductHoldingComponent_Template","PricedCustomerProductHoldingComponent_tg_marketing_cafe_drop_down_accordion_0_Template","CafeBillsMapper","toModel","_httpStatus","rawBill","accountnumber","OcapiService","OcapiCallConfig","ocapiService","cafeBillsMapper","PROPERTY_URL","cafeBillsCache","messageGroup","doGet","response","bill","billsByAccount","Date","statementdate","CafeContactDetailType","CafeContactDetails","AddressMapper","CafeContactDetailsMapper","addressMapper","contactDetails","contactdetails","rawContactDetails","class","ORGANIZATION","INDIVIDUAL","organization","firstName","lastName","organisation","companyName","customerNumber","customernumber","legalForm","vatNumber","vat","epithet","individual","firstname","lastname","dateofbirth","language","toLowerCase","contactinfo","telephoneNumbers","telephones","mobilePhoneNumbers","mobiles","emails","internationalPhoneNumbers","internationalphones","privacySetting","privacysetting","rightToObjectStatus","righttoobjectstatus","setAddresses","addresses","rawAddresses","POSTAL_CONTACT_TYPE","RawContactDetails","specurl","cafeContactDetailsMapper","getOcapiCallConfig","ProductCharacteristicEnum","ProductGroupEnum","ProductLevelEnum","ProductTierEnum","ProductConstants","CUSTOMER_PRODUCT_HOLDING","ADAPTOR_URL","OmapiProductMapper","Option","OptionMapper","omapiMapper","createOption","rawOption","specUrl","rawOmapi","ProductMapper","ProductHoldingMapper","productMapper","createCustomerProductHoldings","customerproductholding","rawProductHolding","createProducts","rawProduct","Product","first","optionMapper","createProduct","address","createAddress","customerProductId","customerproductid","identifier","lineIdentifier","createProductInfo","createOptions","getOmapiId","productId","LineEnum","uniq","AddressUtil","_installationAddresses","containsFMC","isFmc","containsWigoHomeS","isMidTier","containsWhoppa","isWhoppa","containsInternetProduct","getFlattenedProducts","containsOnlyGivenProductsAndOptions","omapiIds","holdingOmapiIds","getProductsAndOptionsOmapiIds","every","indexOf","containsFixedLine","getLines","PHONE","containsDtv","IDTV","getFixedLine","currentProduct","flattenedProducts","getProductLines","getLinesForAddress","characteristics","getBundleMaxMobileLines","getBundleDtvIdentifier","bundle","getDtvIdentifier","compareAddresses","getProductIds","getInstallationAddressesForProduct","predicate","addressId","needle","productAdress","returnProductList","optionOmapiId","serviceTypes","services","service","serviceType","INTERNET","ANALOGTV","ProductIdentifierEnum","FIXED_INTERNET","DTV","GENERAL","FIXED_CALLING","MOBILE_CALLING","MOBILE_INTERNET","ATV","hasIdentifier","getProductGroup","FMC","getProductLevel","LEVEL_3P","LEVEL_4P","getProductTier","MID","HIGH","isWhop","WHOP","toString","WHOPPA","FLOW","ICONIC","YUGO_TV","PVV","hasDtvSubProducts","dtvProduct","PRODUCT_GROUP","isOnAddress","PRODUCT_LEVEL","PRODUCT_TIER","BaseProductHoldingService","productHoldingMapper","productHoldingCache","getCustomerProductsByAddressId","Address","createContactAddresses","createContactAddressesForObject","rawAddress","createContactAddress","street","streetId","country","municipality","id","addressid","addresstype","boxNumber","boxnr","floorNumber","floor","houseNumber","housenr","postalCode","postalcode","countryCode","countrycode","subHouseNumber","subhousenr","tinaLocationId","createContactAddressForObject","rawChildAddress","rawParentAddress","Location","addressType","plannedMaintenance","getDisplayAddress","getFullAddress","singleLine","displayAddress","getPostalCode","zipMunicipality","getDisplayAddressValue","houseNrSubHouseNr","isAppartment","getLocation","location","doesContainAllDataNeededForConnectFiveCheckout","connectFiveAddressFormat","connectFiveAddress","city","zip","nr","box","secondAddress","formatAddress","addressString","addParameter","streetMunicipalitySeperator","useBreak","initialString","parameter","seperator","defineProperty","exports","recursivePartialOverride","x","y","objProto","getPrototypeOf","v","yKeys","allKeys","itemKeyVal","baseKeyVal","ts","out","NOTHING","Symbol","for","DRAFTABLE","DRAFT_STATE","errors","process","env","NODE_ENV","plugin","thing","die","e","msg","apply","Error","isDraft","isDraftable","isPlainObject","isArray","isMap","isSet","objectCtorString","prototype","proto","Ctor","hasOwnProperty","call","Function","original","base_","obj","iter","getArchtype","entries","entry","index","type_","has","prop","set","propOrOldValue","t","add","is","target","Map","latest","copy_","shallowCopy","base","strict","slice","create","descriptors","getOwnPropertyDescriptors","Reflect","ownKeys","i","desc","writable","configurable","enumerable","freeze","deep","isFrozen","clear","delete","dontMutateFrozenCollections","plugins","getPlugin","pluginKey","loadPlugin","implementation","currentScope","getCurrentScope","createScope","parent_","immer_","drafts_","canAutoFreeze_","unfinalizedDrafts_","usePatchesInScope","scope","patchListener","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","revokeDraft","enterScope","immer2","revoke_","revoked_","processResult","baseDraft","isReplaced","modified_","finalize","maybeFreeze","generateReplacementPatches_","rootScope","path","childValue","finalizeProperty","scope_","finalized_","resultEach","isSet2","generatePatches_","parentState","targetObject","rootPath","targetIsSet","assigned_","res","autoFreeze_","createProxyProxy","draft_","isManual_","traps","objectTraps","arrayTraps","revoke","proxy","Proxy","revocable","source","readPropFromProto","peek","prepareCopy","createProxy","getDescriptorFromProto","current2","currentState","markChanged","isNaN","deleteProperty","getOwnPropertyDescriptor","owner","setPrototypeOf","fn","arguments","parseInt","useStrictShallowCopy_","Immer2","config","recipe","defaultBase","self","curriedProduce","base2","hasError","p","ip","produceWithPatches","patches","inversePatches","autoFreeze","setAutoFreeze","useStrictShallowCopy","setUseStrictShallowCopy","createDraft","current","finishDraft","applyPatches","patch","op","applyPatchesImpl","applyPatches_","proxyMap_","proxySet_","currentImpl","copy","enablePatches","errorOffset","REPLACE","ADD","REMOVE","basePath","generatePatchesFromAssigned","generateArrayPatches","generateSetPatches","clonePatchValueIfNeeded","assignedValue","origValue","unshift","baseValue","replacement","parentType","deepClonePatchValue","splice","k","cloned","enableMapSet","DraftMap","size","assertUnrevoked","prepareMapCopy","cb","thisArg","_value","_map","iterator","next","r","done","DraftSet","prepareSetCopy","JSON","stringify","immer","bind","castDraft","castImmutable","Immer","immerable","nothing","head","array"],"sourceRoot":"webpack:///","x_google_ignoreList":[62,63,64]}