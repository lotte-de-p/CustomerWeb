{"version":3,"file":"libs_shared_sofy_src_index_ts-_53200.js","mappings":"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","sources":["./libs/shared/sofy/src/index.ts","./libs/shared/sofy/src/lib/constants/connect-five.constants.ts","./libs/shared/sofy/src/lib/constants/sofy.constants.ts","./libs/shared/sofy/src/lib/enums/flow-type.enum.ts","./libs/shared/sofy/src/lib/enums/ocapi-move-order.enum.ts","./libs/shared/sofy/src/lib/enums/self-install-type.enum.ts","./libs/shared/sofy/src/lib/enums/service-type.enum.ts","./libs/shared/sofy/src/lib/interfaces/index.ts","./libs/shared/sofy/src/lib/mappers/cost.mapper.ts","./libs/shared/sofy/src/lib/mappers/index.ts","./libs/shared/sofy/src/lib/mappers/install-type.mapper.ts","./libs/shared/sofy/src/lib/mappers/option.mapper.ts","./libs/shared/sofy/src/lib/mappers/product.mapper.ts","./libs/shared/sofy/src/lib/mappers/promo.mapper.ts","./libs/shared/sofy/src/lib/mappers/sales-offer.mapper.ts","./libs/shared/sofy/src/lib/mappers/sofy-customer-product-holding-product.mapper.ts","./libs/shared/sofy/src/lib/mappers/sofy-modem-details.mapper.ts","./libs/shared/sofy/src/lib/mappers/sofy-product.mapper.ts","./libs/shared/sofy/src/lib/models/address.model.ts","./libs/shared/sofy/src/lib/models/cafe-modem-detail.model.ts","./libs/shared/sofy/src/lib/models/cafe-modem-details.model.ts","./libs/shared/sofy/src/lib/models/cafe-raw-customerproductholding-option.model.ts","./libs/shared/sofy/src/lib/models/cafe-raw-customerproductholding.model.ts","./libs/shared/sofy/src/lib/models/index.ts","./libs/shared/sofy/src/lib/models/install-type.model.ts","./libs/shared/sofy/src/lib/models/option.model.ts","./libs/shared/sofy/src/lib/models/period.model.ts","./libs/shared/sofy/src/lib/models/product.model.ts","./libs/shared/sofy/src/lib/models/promo.model.testfactory.ts","./libs/shared/sofy/src/lib/models/promo.model.ts","./libs/shared/sofy/src/lib/models/promotion.model.ts","./libs/shared/sofy/src/lib/models/request/index.ts","./libs/shared/sofy/src/lib/models/request/sofy-request-product.testfactory.ts","./libs/shared/sofy/src/lib/models/response/index.ts","./libs/shared/sofy/src/lib/models/response/sales-offer-product.model.ts","./libs/shared/sofy/src/lib/models/response/sales-offer.testfactory.ts","./libs/shared/sofy/src/lib/models/sales-offer.model.ts","./libs/shared/sofy/src/lib/models/salesOfferCost.ts","./libs/shared/sofy/src/lib/models/sofy-address.ts","./libs/shared/sofy/src/lib/models/sofy-customer-product-holding-product.testfactory.ts","./libs/shared/sofy/src/lib/models/sofy-customer-product-holding-product.ts","./libs/shared/sofy/src/lib/models/sofy-modem-details.ts","./libs/shared/sofy/src/lib/models/sofy-product.ts","./libs/shared/sofy/src/lib/services/sofy.service.ts","./libs/shared/sofy/src/lib/utils/connect-five-price-from-flow-type.util.ts","./libs/shared/sofy/src/lib/utils/index.ts","./libs/shared/sofy/src/lib/utils/sales-offer-install-type.util.ts","./libs/shared/sofy/src/lib/utils/sales-offer-product-optin.util.ts","./libs/shared/sofy/src/lib/utils/sales-offer-product.util.ts","./libs/shared/sofy/src/lib/utils/sales-offer-promo.util.ts","./libs/shared/sofy/src/lib/utils/sales-offer.util.ts","./node_modules/lodash-es/_arrayAggregator.js","./node_modules/lodash-es/_arrayIncludes.js","./node_modules/lodash-es/_arrayIncludesWith.js","./node_modules/lodash-es/_baseAggregator.js","./node_modules/lodash-es/_baseAssignValue.js","./node_modules/lodash-es/_baseExtremum.js","./node_modules/lodash-es/_baseFilter.js","./node_modules/lodash-es/_baseFindIndex.js","./node_modules/lodash-es/_baseFlatten.js","./node_modules/lodash-es/_baseIndexOf.js","./node_modules/lodash-es/_baseIsNaN.js","./node_modules/lodash-es/_baseLt.js","./node_modules/lodash-es/_baseSum.js","./node_modules/lodash-es/_baseUniq.js","./node_modules/lodash-es/_copyArray.js","./node_modules/lodash-es/_createAggregator.js","./node_modules/lodash-es/_createSet.js","./node_modules/lodash-es/_defineProperty.js","./node_modules/lodash-es/_isFlattenable.js","./node_modules/lodash-es/_strictIndexOf.js","./node_modules/lodash-es/concat.js","./node_modules/lodash-es/filter.js","./node_modules/lodash-es/flatMap.js","./node_modules/lodash-es/flatten.js","./node_modules/lodash-es/groupBy.js","./node_modules/lodash-es/isNil.js","./node_modules/lodash-es/isUndefined.js","./node_modules/lodash-es/min.js","./node_modules/lodash-es/minBy.js","./node_modules/lodash-es/noop.js","./node_modules/lodash-es/sum.js","./node_modules/lodash-es/sumBy.js","./node_modules/lodash-es/uniqBy.js"],"sourcesContent":["export * from './lib/constants/sofy.constants';\nexport * from './lib/constants/connect-five.constants';\nexport * from './lib/enums/ocapi-move-order.enum';\nexport * from './lib/enums/flow-type.enum';\nexport * from './lib/enums/self-install-type.enum';\nexport * from './lib/enums/service-type.enum';\nexport * from './lib/mappers';\nexport * from './lib/models';\nexport * from './lib/services';\nexport * from './lib/interfaces';\nexport * from './lib/utils';\n","export class ConnectFiveConstants {\n  static MESSAGE_GROUP = 'c5-checkout';\n  static SOHO_LABEL_APPENDIX = 'tbf';\n  static MODULE_NAME = 'CONNECT_FIVE';\n  static BIRTH_DATE_MASK = '90/00/0000';\n  static ID_CARD_MASK = '900-0000000-00';\n  static MINIMUM_SOHO_SIM_TRANSFERS = 1;\n}\n","export enum SofyPromoType {\n  PROMO_MOBILE = 'promo_mobile',\n  PROMO_INTERNET = 'promo_internet',\n}\n\nexport const SAFE_SPOT_PRO = '36738';\n","export enum FlowTypeEnum {\n  SOHO = 'soho',\n  RES = 'res',\n}\n","export enum InstallTypeEnum {\n  SELF_INSTALL = 'selfinstall',\n  PRE_INSTALL = 'preinstall',\n  COMFORT_INSTALL = 'comfortinstall',\n  BUSINESS_INSTALL = 'businessinstall',\n  BUSINESS_INSTALL_SWAP = 'businessinstall_swap',\n}\n","export enum SelfInstallTypeEnum {\n  PICKUP = 'pick_up',\n  HOME_DELIVERY = 'home_delivery',\n}\n","export enum ServiceTypeEnum {\n  MOBILE_INTERNET = 'MOBILE_INTERNET',\n  FIXED_CALLING = 'FIXED_CALLING',\n}\n","export * from './cost.interface';\nexport * from './delivery-option.interface';\nexport * from './install-type.interface';\nexport * from './option.interface';\nexport * from './period.interface';\nexport * from './product.interface';\nexport * from './sales-offer.interface';\nexport * from './installation-details-response.interface';\n","import { Injectable } from '@angular/core';\nimport { PromoMapper } from './promo.mapper';\nimport { CostInterface } from '../interfaces/cost.interface';\nimport { SalesOfferCost } from '../models/salesOfferCost';\nimport { SalesOfferPromo } from '../models/response';\nimport { PromoModel } from '../models/promo.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CostMapper {\n  constructor(private readonly promoMapper: PromoMapper) {}\n\n  public map(rawCost: CostInterface): SalesOfferCost {\n    const cost: SalesOfferCost = new SalesOfferCost();\n\n    cost.name = rawCost.name;\n    cost.price = rawCost.price;\n    cost.priceexclvat = rawCost.priceexclvat;\n    cost.recurring = rawCost.recurring;\n    cost.promotions = this.mapPromotions(rawCost.promotions);\n\n    return cost;\n  }\n\n  private mapPromotions(rawPromotions: SalesOfferPromo[]) {\n    const promotions: PromoModel[] = [];\n\n    if (rawPromotions) {\n      rawPromotions.forEach((rawPromo) => promotions.push(this.promoMapper.map(rawPromo)));\n    }\n\n    return promotions;\n  }\n}\n","export * from './cost.mapper';\nexport * from './install-type.mapper';\nexport * from './option.mapper';\nexport * from './promo.mapper';\nexport * from './product.mapper';\nexport * from './sales-offer.mapper';\nexport * from './sofy-customer-product-holding-product.mapper';\nexport * from './sofy-modem-details.mapper';\nexport * from './sofy-product.mapper';\n","import { Injectable } from '@angular/core';\nimport { PromoMapper } from './promo.mapper';\nimport { InstallTypeInterface } from '../interfaces/install-type.interface';\nimport { InstallTypeModel } from '../models/install-type.model';\nimport { SalesOfferPromo } from '../models/response';\nimport { PromoModel } from '../models/promo.model';\n@Injectable({\n  providedIn: 'root',\n})\nexport class InstallTypeMapper {\n  constructor(private readonly promoMapper: PromoMapper) {}\n\n  public map(rawInstallType: InstallTypeInterface): InstallTypeModel {\n    const installType: InstallTypeModel = new InstallTypeModel();\n\n    installType.description = rawInstallType.description;\n    installType.mutuallyexclusive = rawInstallType.mutuallyexclusive;\n    installType.price = rawInstallType.price;\n    installType.priceexclvat = rawInstallType.priceexclvat;\n    installType.selected = rawInstallType.selected;\n\n    installType.promos = this.mapPromos(rawInstallType.promos);\n    return installType;\n  }\n\n  private mapPromos(rawPromos: SalesOfferPromo[]) {\n    const promos: PromoModel[] = [];\n\n    if (rawPromos) {\n      rawPromos.forEach((rawPromo) => promos.push(this.promoMapper.map(rawPromo)));\n    }\n\n    return promos;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { PromoMapper } from './promo.mapper';\nimport { OptionInterface } from '../interfaces/option.interface';\nimport { OptionModel } from '../models/option.model';\nimport { SalesOfferPromo } from '../models/response';\nimport { PromoModel } from '../models/promo.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class OptionMapper {\n  constructor(private readonly promoMapper: PromoMapper) {}\n\n  public map(rawOption: OptionInterface): OptionModel {\n    const option: OptionModel = new OptionModel();\n\n    option.description = rawOption.description;\n    option.mutuallyExclusive = rawOption.mutuallyExclusive;\n    option.omapiId = rawOption.omapiId;\n    option.originalprice = rawOption.originalprice;\n    option.price = rawOption.price;\n    option.priceexclvat = rawOption.priceexclvat;\n    option.selected = rawOption.selected;\n    option.specUrl = rawOption.specUrl;\n\n    option.promos = this.mapPromos(rawOption.promos);\n\n    return option;\n  }\n\n  private mapPromos(rawPromos: SalesOfferPromo[]) {\n    const promos: PromoModel[] = [];\n\n    if (rawPromos) {\n      rawPromos.forEach((rawPromo) => promos.push(this.promoMapper.map(rawPromo)));\n    }\n\n    return promos;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CostMapper } from './cost.mapper';\nimport { InstallTypeMapper } from './install-type.mapper';\nimport { OptionMapper } from './option.mapper';\nimport { PromoMapper } from './promo.mapper';\nimport { ProductInterface } from '../interfaces/product.interface';\nimport { ProductModel } from '../models/product.model';\nimport { InstallTypeInterface } from '../interfaces/install-type.interface';\nimport { InstallTypeModel } from '../models/install-type.model';\nimport { OptionInterface } from '../interfaces/option.interface';\nimport { OptionModel } from '../models/option.model';\nimport { SalesOfferPromo } from '../models/response';\nimport { PromoModel } from '../models/promo.model';\nimport { CostInterface } from '../interfaces/cost.interface';\nimport { SalesOfferCost } from '../models/salesOfferCost';\n@Injectable({\n  providedIn: 'root',\n})\nexport class ProductMapper {\n  constructor(\n    private readonly costMapper: CostMapper,\n    private readonly installTypeMapper: InstallTypeMapper,\n    private readonly optionMapper: OptionMapper,\n    private readonly promoMapper: PromoMapper\n  ) {}\n\n  public map(rawProduct: ProductInterface): ProductModel {\n    const product: ProductModel = new ProductModel();\n\n    product.correlationId = rawProduct.correlationId;\n    product.description = rawProduct.description;\n    product.omapiId = rawProduct.omapiid;\n    product.price = rawProduct.price;\n    product.priceexclvat = rawProduct.priceexclvat;\n    product.specUrl = rawProduct.specUrl;\n\n    product.costs = this.mapCosts(rawProduct.costs);\n    product.installtypes = this.mapInstallTypes(rawProduct.installtypes);\n    product.options = this.mapOptions(rawProduct.options);\n    product.promos = this.mapPromos(rawProduct.promos);\n\n    return product;\n  }\n\n  private mapCosts(rawCosts: CostInterface[]) {\n    const costs: SalesOfferCost[] = [];\n\n    if (rawCosts) {\n      rawCosts.forEach((rawCost) => costs.push(this.costMapper.map(rawCost)));\n    }\n\n    return costs;\n  }\n\n  private mapInstallTypes(rawInstallTypes: InstallTypeInterface[]) {\n    const installTypes: InstallTypeModel[] = [];\n\n    if (rawInstallTypes) {\n      rawInstallTypes.forEach((rawInstallType) => installTypes.push(this.installTypeMapper.map(rawInstallType)));\n    }\n\n    return installTypes;\n  }\n\n  private mapOptions(rawOptions: OptionInterface[]) {\n    const options: OptionModel[] = [];\n\n    if (rawOptions) {\n      rawOptions.forEach((rawOption) => options.push(this.optionMapper.map(rawOption)));\n    }\n\n    return options;\n  }\n\n  private mapPromos(rawPromos: SalesOfferPromo[]) {\n    const promos: PromoModel[] = [];\n\n    if (rawPromos) {\n      rawPromos.forEach((rawPromo) => promos.push(this.promoMapper.map(rawPromo)));\n    }\n\n    return promos;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { SalesOfferPromo } from '../models/response';\nimport { PromoModel } from '../models/promo.model';\nimport { PeriodModel } from '../models/period.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PromoMapper {\n  public map(rawPromo: SalesOfferPromo): PromoModel {\n    const promo: PromoModel = new PromoModel();\n\n    promo.backendid = rawPromo.backendid;\n    promo.duration = rawPromo.duration;\n    promo.legalid = rawPromo.legalid;\n    promo.name = rawPromo.name;\n    promo.price = rawPromo.price;\n    promo.priceexclvat = rawPromo.priceexclvat;\n    promo.puk = rawPromo.puk;\n    promo.period = Object.assign(new PeriodModel(), rawPromo.period);\n    promo.tags = rawPromo.tags;\n\n    return promo;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ProductMapper } from './product.mapper';\nimport { SalesOfferInterface } from '../interfaces/sales-offer.interface';\nimport { SalesOfferModel } from '../models/sales-offer.model';\nimport { ProductInterface } from '../interfaces/product.interface';\nimport { ProductModel } from '../models/product.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SalesOfferMapper {\n  constructor(private readonly productMapper: ProductMapper) {}\n\n  public map(rawSalesOffer: SalesOfferInterface): SalesOfferModel {\n    const salesOffer: SalesOfferModel = new SalesOfferModel();\n\n    salesOffer.products = this.mapProducts(rawSalesOffer.products);\n    salesOffer.ownedProducts = this.mapProducts(rawSalesOffer.ownedProducts);\n    salesOffer.standaloneOptions = this.mapProducts(rawSalesOffer.standaloneOptions);\n\n    return salesOffer;\n  }\n\n  private mapProducts(rawProducts: ProductInterface[]) {\n    const products: ProductModel[] = [];\n\n    if (rawProducts) {\n      rawProducts.forEach((rawProduct) => products.push(this.productMapper.map(rawProduct)));\n    }\n\n    return products;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { SofyCustomerProductHoldingProduct } from '../models/sofy-customer-product-holding-product';\nimport { CafeRawCustomerproductholdingModel } from '../models/cafe-raw-customerproductholding.model';\nimport { map } from 'lodash-es';\nimport { CafeRawCustomerproductholdingOptionModel } from '../models/cafe-raw-customerproductholding-option.model';\nimport { SofyAddress } from '../models/sofy-address';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SofyCustomerProductHoldingProductMapper {\n  public mapToSofyCustomerProductHoldingProduct(\n    rawProductHoldings: CafeRawCustomerproductholdingModel[]\n  ): SofyCustomerProductHoldingProduct[] {\n    return map(rawProductHoldings, (rawProductHolding) => {\n      const sofyCustomerProductHoldingProduct = new SofyCustomerProductHoldingProduct();\n      sofyCustomerProductHoldingProduct.identifier = rawProductHolding.identifier;\n      sofyCustomerProductHoldingProduct.specurl = rawProductHolding.specurl;\n      sofyCustomerProductHoldingProduct.address = rawProductHolding.address as SofyAddress;\n      sofyCustomerProductHoldingProduct.products = this.mapToSofyCustomerProductHoldingProduct(\n        rawProductHolding.products\n      );\n      sofyCustomerProductHoldingProduct.options = this.mapOptions(rawProductHolding.options);\n\n      return sofyCustomerProductHoldingProduct;\n    });\n  }\n\n  private mapOptions(options: CafeRawCustomerproductholdingOptionModel[]): SofyCustomerProductHoldingProduct[] {\n    return map(options, (rawProductHoldingOption) => {\n      const sofyCustomerProductHoldingOption = new SofyCustomerProductHoldingProduct();\n      sofyCustomerProductHoldingOption.specurl = rawProductHoldingOption.specurl;\n      return sofyCustomerProductHoldingOption;\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { SofyModemDetails } from '../models/sofy-modem-details';\nimport { SofyAddress } from '../models/sofy-address';\nimport { CafeModemDetailsModel } from '../models/cafe-modem-details.model';\nimport { Address } from '../models/address.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SofyModemDetailsMapper {\n  public mapSofyModemDetails(modemDetails: CafeModemDetailsModel): SofyModemDetails[] {\n    const sofyModemDetails: SofyModemDetails[] = [];\n    if (modemDetails) {\n      modemDetails.modemDetails.forEach((modemDetail) => {\n        const sofyModemDetail = new SofyModemDetails();\n\n        sofyModemDetail.macaddress = modemDetail.macAddress;\n        sofyModemDetail.cableroutername = modemDetail.cableRouterName;\n        sofyModemDetail.hardware = modemDetail.hardwareType;\n        sofyModemDetail.installationaddress = this.mapInstallationAddress(modemDetail.installationAddress);\n        sofyModemDetail.internetlineidentifier = modemDetail.internetLineIdentifier;\n        sofyModemDetail.modemtype = modemDetail.modemType;\n\n        sofyModemDetails.push(sofyModemDetail);\n      });\n    }\n    return sofyModemDetails;\n  }\n\n  private mapInstallationAddress(address: Address): SofyAddress {\n    const sofyAddress = new SofyAddress();\n\n    sofyAddress.housenr = address.houseNumber;\n    sofyAddress.street = address.street;\n    sofyAddress.postalcode = address.postalCode;\n    sofyAddress.municipality = address.municipality;\n    sofyAddress.addressid = address.addressId;\n    sofyAddress.country = address.country;\n\n    return sofyAddress;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { OmapiProduct } from '@telenet/ng-lib-omapi';\nimport { SofyProduct } from '../models/sofy-product';\nimport { SofyAddress } from '../models/sofy-address';\nimport { Address } from '../models/address.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SofyProductMapper {\n  public mapSelectedProductToSofyProduct(omapiProduct: OmapiProduct, address: Address, installType: string) {\n    const sofyProducts: SofyProduct[] = [];\n    const sofyProduct = new SofyProduct();\n\n    sofyProduct.omapiid = omapiProduct?.productId;\n    sofyProduct.options = [];\n    sofyProduct.needscableinstallation = !!installType;\n    sofyProduct.installtype = installType;\n    sofyProduct.installationaddress = this.mapAddress(address);\n    sofyProduct.isnewline = false;\n    sofyProduct.move = false;\n\n    sofyProducts.push(sofyProduct);\n    return sofyProducts;\n  }\n\n  private mapAddress(address: Address): SofyAddress {\n    const sofyAddress = new SofyAddress();\n\n    if (address) {\n      sofyAddress.addressid = address.addressId;\n      sofyAddress.municipality = address.municipality;\n      sofyAddress.postalcode = address.postalCode;\n      sofyAddress.street = address.street;\n      sofyAddress.housenr = address.houseNumber;\n    }\n\n    return sofyAddress;\n  }\n}\n","export class Address {\n  addressId: string;\n  type: string;\n  houseNumber: string;\n  boxNumber: string;\n  subHouseNumber: string;\n  street: string;\n  streetId: string;\n  postalCode: string;\n  municipality: string;\n  country?: string;\n  countryCode?: string;\n  floorNumber?: string;\n  addressType?: string;\n  tinaLocationId?: string;\n  plannedMaintenance?: unknown[];\n}\n","import { Address } from './address.model';\n\nexport class CafeModemDetailModel {\n  macAddress: string;\n  modemType: string;\n  hardwareType: string;\n  cableRouterName: string;\n  internetLineIdentifier: string;\n  installationAddress: Address;\n}\n","import { CafeModemDetailModel } from './cafe-modem-detail.model';\n\nexport class CafeModemDetailsModel {\n  modemDetails: CafeModemDetailModel[];\n\n  public withModemDetails(modemDetails: CafeModemDetailModel[]): CafeModemDetailsModel {\n    this.modemDetails = modemDetails;\n    return this;\n  }\n}\n","export class CafeRawCustomerproductholdingOptionModel {\n  specurl: string;\n  label: string;\n  rawOmapi: unknown;\n}\n","import { OmapiProductType } from '@telenet/ng-lib-omapi';\nimport { SofyAddress } from './sofy-address';\nimport { CafeRawCustomerproductholdingOptionModel } from './cafe-raw-customerproductholding-option.model';\n\nexport class CafeRawCustomerproductholdingModel {\n  identifier: string;\n  customerproductid: string;\n  accountnumber: string;\n  label: string;\n  rateclassid: string;\n  rateclassdescription: string;\n  specurl: string;\n  products: CafeRawCustomerproductholdingModel[];\n  options: CafeRawCustomerproductholdingOptionModel[];\n  address: unknown | SofyAddress;\n  rawOmapi: CafeRawCustomerproductholdingRawomapiProductModel;\n\n  isProductTypeBundle(): boolean {\n    return OmapiProductType.BUNDLE === this.rawOmapi?.product?.producttype;\n  }\n}\n\nexport class CafeRawCustomerproductholdingRawomapiProductModel {\n  product: CafeRawCustomerproductholdingRawomapiModel;\n}\n\nexport class CafeRawCustomerproductholdingRawomapiModel {\n  productid: string;\n  externalProductCode: string;\n  labelkey: string;\n  visible: boolean;\n  family: string;\n  salesofferingid: string;\n  producttype: string;\n  weight: number;\n  apps: unknown[];\n  services: unknown[];\n  characteristics: unknown;\n  customercategories: string[];\n  category: string[];\n  subcategory: unknown;\n  localizedcontent: unknown[];\n  shortdescription: unknown;\n  rates: unknown[];\n  visibilityrules: unknown;\n  unlimited: boolean;\n  priceType: string;\n}\n","export * from './request';\nexport * from './response';\nexport * from './install-type.model';\nexport * from './option.model';\nexport * from './period.model';\nexport * from './product.model';\nexport * from './promo.model';\nexport * from './promo.model.testfactory';\nexport * from './sales-offer.model';\nexport * from './salesOfferCost';\nexport * from './sofy-address';\nexport * from './sofy-customer-product-holding-product.testfactory';\nexport * from './sofy-customer-product-holding-product';\nexport * from './sofy-modem-details';\nexport * from './sofy-product';\nexport * from './promotion.model';\nexport * from './address.model';\nexport * from './cafe-raw-customerproductholding.model';\nexport * from './cafe-raw-customerproductholding-option.model';\nexport * from './cafe-modem-details.model';\nexport * from './cafe-modem-detail.model';\n","import { InstallTypeInterface } from '../interfaces/install-type.interface';\nimport { PromoModel } from './promo.model';\nimport { DeliveryOptionInterface } from '../interfaces/delivery-option.interface';\n\nexport class InstallTypeModel implements InstallTypeInterface {\n  description: string;\n  mutuallyexclusive: string;\n  price: number;\n  priceexclvat: number;\n  promos: PromoModel[];\n  selected: boolean;\n  options?: DeliveryOptionInterface[];\n\n  withSelected(): InstallTypeModel {\n    this.selected = true;\n    return this;\n  }\n\n  withDescription(description: string): InstallTypeModel {\n    this.description = description;\n    return this;\n  }\n\n  withPrice(price: number): InstallTypeModel {\n    this.price = price;\n    return this;\n  }\n\n  isPreInstall(): boolean {\n    return this.description === 'preinstall';\n  }\n\n  isComfortInstall(): boolean {\n    return this.description === 'comfortinstall';\n  }\n\n  isSelfInstall(): boolean {\n    return this.description === 'selfinstall';\n  }\n\n  isModemSwap(): boolean {\n    return !this.description.includes('_swap');\n  }\n}\n","import { OptionInterface } from '../interfaces/option.interface';\nimport { PromoModel } from './promo.model';\n\nexport class OptionModel implements OptionInterface {\n  description: string;\n  mutuallyExclusive: string;\n  omapiId: string;\n  originalprice: number;\n  price: number;\n  priceexclvat: number;\n  promos: PromoModel[];\n  selected: boolean;\n  specUrl: string;\n}\n","import { PeriodInterface } from '../interfaces/period.interface';\n\nexport class PeriodModel implements PeriodInterface {\n  endDate: string;\n  startDate: string;\n}\n","import { SalesOfferCost } from './salesOfferCost';\nimport { OptionModel } from './option.model';\nimport { InstallTypeModel } from './install-type.model';\nimport { PromoModel } from './promo.model';\n\nexport class ProductModel {\n  correlationId: string;\n  costs: SalesOfferCost[];\n  description: string;\n  installtypes: InstallTypeModel[];\n  omapiId: string;\n  options: OptionModel[];\n  price: number;\n  priceexclvat: number;\n  promos: PromoModel[];\n  specUrl: string;\n\n  getMonthlyTotalCost(): number {\n    return this.price;\n  }\n\n  hasCompatibleModem(): boolean {\n    return this.installtypes.length > 0 ? this.installtypes[0].isModemSwap() : true;\n  }\n}\n","import { PromoModel } from './promo.model';\nimport { PeriodModel } from './period.model';\nimport { KeyValuePair } from '../interfaces/key-value.interface';\n\nexport class PromoModelTestfactory {\n  static build(properties?: KeyValuePair): PromoModel {\n    const promo = new PromoModel();\n    promo.backendid = 1;\n    promo.duration = 1;\n    promo.legalid = 'test-promo';\n    promo.name = 'test-promo';\n    promo.period = new PeriodModel();\n    promo.period.startDate = '2020-01-01';\n    promo.period.endDate = '2050-01-01';\n    promo.price = 50;\n    promo.priceexclvat = 40;\n    promo.puk = '123456';\n\n    if (properties) {\n      Object.keys(properties).forEach((key) => {\n        if (properties[key] === null) {\n          delete (promo as unknown as KeyValuePair)[key];\n        } else {\n          (promo as unknown as KeyValuePair)[key] = properties[key];\n        }\n      });\n    }\n    return promo;\n  }\n}\n","import { SalesOfferPromo, SalesOfferPromoPeriod } from './response';\n\nexport class PromoModel implements SalesOfferPromo {\n  backendid: number;\n  duration: number;\n  legalid: string;\n  name: string;\n  period: SalesOfferPromoPeriod;\n  price: number;\n  priceexclvat: number;\n  puk: string;\n  tags: string[];\n\n  getNormalizedName(): string {\n    if (this.name) {\n      return this.name\n        .replace(/ /g, '-')\n        .replace(/\\./g, '-')\n        .replace(/[^0-9a-zA-Z_-]/g, '')\n        .toLowerCase();\n    }\n    return '';\n  }\n\n  getAbsoluteAmount(): number {\n    return Math.abs(this.price);\n  }\n}\n","export class Promotion {\n  description: string;\n  startdate: string;\n  enddate: string;\n}\n","export * from './sofy-request-address';\nexport * from './sofy-request-basket';\nexport * from './sofy-request-product.testfactory';\nexport * from './sofy-request-product';\n","import * as Factory from 'factory.ts';\nimport { SofyRequestAddress } from './sofy-request-address';\nimport { SofyRequestProduct } from './sofy-request-product';\n\nexport const sofyRequestAddressBuilder = Factory.Sync.makeFactory<SofyRequestAddress>({\n  addressid: 'adress-id',\n  municipality: 'Merksplas',\n  postalcode: '2330',\n  street: 'Steenweg op Beerse',\n  housenr: '123',\n  country: 'Belgie',\n});\n\nexport const sofyRequestProductFactory = Factory.Sync.makeFactory<SofyRequestProduct>({\n  correlationid: '1',\n  omapiid: '568',\n  options: [],\n  streamingservices: [],\n  optinproducts: [],\n  installationaddress: sofyRequestAddressBuilder.build(),\n});\n","export * from './sales-offer.model';\nexport * from './sales-offer-product.model';\nexport * from './sales-offer-product-option.model';\nexport * from './sales-offer.testfactory';\nexport * from './sales-offer-product-install-type';\nexport * from './sales-offer-priced-item.model';\nexport * from './sales-offer-product-optin.model';\nexport * from './sales-offer-promo-duration-group.model';\nexport * from './sales-offer-promo.model';\nexport * from './sales-offer-setup.model';\nexport * from './sales-offer-promo-period.model';\n","import { OmapiProduct } from '@telenet/ng-lib-omapi';\nimport { SalesOfferProductOption } from './sales-offer-product-option.model';\nimport { SalesOfferCost } from '../salesOfferCost';\nimport { SalesOfferProductInstallType } from './sales-offer-product-install-type';\nimport { SalesOfferPromo } from './sales-offer-promo.model';\nimport { SalesOfferProductOptin } from './sales-offer-product-optin.model';\nimport { SalesOfferPricedItem } from './sales-offer-priced-item.model';\nimport { SalesOfferProductStreamingService } from './sales-offer-product-streaming-service.model';\n\nexport enum SalesOfferProductType {\n  OPTIONS = 'options',\n  OPTINS = 'optinproducts',\n  STREAMING_SERVICES = 'streamingservices',\n}\n\nexport interface SalesOfferProduct extends SalesOfferPricedItem {\n  omapiid: string;\n  correlationid: string;\n  specurl: string;\n  productInfo?: OmapiProduct;\n  description: string;\n  options: SalesOfferProductOption[];\n  streamingservices: SalesOfferProductStreamingService[];\n  optinproducts: SalesOfferProductOptin[];\n  promos: SalesOfferPromo[];\n  installtypes: SalesOfferProductInstallType[];\n  costs?: SalesOfferCost[];\n}\n","import * as Factory from 'factory.ts';\nimport { OmapiProduct } from '@telenet/ng-lib-omapi';\nimport { SalesOfferPromoPeriod } from './sales-offer-promo-period.model';\nimport { SalesOfferPromo } from './sales-offer-promo.model';\nimport { SalesOfferProductOption } from './sales-offer-product-option.model';\nimport { SalesOfferProductOptin } from './sales-offer-product-optin.model';\nimport { SalesOfferSetupModel } from './sales-offer-setup.model';\nimport { SalesOfferProductInstallType } from './sales-offer-product-install-type';\nimport { SalesOfferCost } from '../salesOfferCost';\nimport { SalesOfferProduct } from './sales-offer-product.model';\nimport { SalesOffer } from './sales-offer.model';\nimport { InstallTypeEnum } from '../../enums/ocapi-move-order.enum';\nimport { SalesOfferProductStreamingService } from './sales-offer-product-streaming-service.model';\n\nexport const salesOfferPromoPeriodFactory = Factory.Sync.makeFactory<SalesOfferPromoPeriod>({\n  startDate: '12/01/2020',\n  endDate: '12/03/2020',\n});\n\nexport const salesOfferPromoFactory = Factory.Sync.makeFactory<SalesOfferPromo>({\n  backendid: 123,\n  duration: 3,\n  legalid: 'legal-id',\n  name: 'promo-one',\n  period: salesOfferPromoPeriodFactory.build(),\n  price: -5,\n  priceexclvat: -3,\n  puk: '1234',\n  tags: [],\n  legalInformation: undefined,\n});\n\nexport const salesOfferProductOptionFactory = Factory.Sync.makeFactory<SalesOfferProductOption>({\n  specurl: 'url/100',\n  omapiid: '100',\n  mutuallyexclusive: 'none',\n  mutuallyexclusivelist: [],\n  selected: true,\n  description: 'description',\n  price: 20,\n  priceexclvat: 18,\n  originalprice: 15,\n  productInfo: {} as OmapiProduct,\n  promos: [salesOfferPromoFactory.build()],\n});\nexport const salesOfferProductStreamingServiceFactory = Factory.Sync.makeFactory<SalesOfferProductStreamingService>({\n  options: [salesOfferProductOptionFactory.build()],\n  specurl: 'url/100',\n  omapiid: '100',\n  mutuallyexclusive: 'none',\n  mutuallyexclusivelist: [],\n  selected: true,\n  description: 'description',\n  price: 20,\n  priceexclvat: 18,\n  originalprice: 15,\n  productInfo: {} as OmapiProduct,\n  promos: [salesOfferPromoFactory.build()],\n});\nexport const salesOfferProductOptinFactory = Factory.Sync.makeFactory<SalesOfferProductOptin>({\n  specurl: 'url/100',\n  omapiid: '100',\n  mutuallyexclusive: 'none',\n  selected: true,\n  description: 'description',\n  price: 0,\n  priceexclvat: 0,\n  originalprice: 15,\n  productInfo: {\n    hasServiceType(_: string): boolean {\n      return false;\n    },\n  } as OmapiProduct,\n  promos: [],\n});\nexport const SalesOfferSetupModelFactory = Factory.Sync.makeFactory<SalesOfferSetupModel>({\n  easyswitcheligible: true,\n});\n\nexport const salesOfferProductPreInstallTypeFactory = Factory.Sync.makeFactory<SalesOfferProductInstallType>({\n  description: InstallTypeEnum.PRE_INSTALL,\n  price: 0,\n  mutuallyexclusive: '',\n  priceexclvat: 0,\n  selected: false,\n  promos: [],\n});\n\nexport const salesOfferProductComfortInstallTypeFactory = Factory.Sync.makeFactory<SalesOfferProductInstallType>({\n  description: InstallTypeEnum.COMFORT_INSTALL,\n  price: 85,\n  mutuallyexclusive: '',\n  priceexclvat: 70.25,\n  selected: false,\n  promos: [],\n});\n\nexport const salesOfferProductSelfInstallTypeFactory = Factory.Sync.makeFactory<SalesOfferProductInstallType>({\n  description: InstallTypeEnum.SELF_INSTALL,\n  price: 0,\n  mutuallyexclusive: '',\n  priceexclvat: 0,\n  selected: false,\n  promos: [],\n});\n\nexport const salesOfferCostFactory = Factory.Sync.makeFactory<SalesOfferCost>({\n  name: 'cable-installation',\n  price: 50,\n  priceexclvat: 45,\n  promotions: [],\n  recurring: 0,\n});\n\nexport const salesOfferProductFactory = Factory.Sync.makeFactory<SalesOfferProduct>({\n  omapiid: '87',\n  correlationid: 'id',\n  specurl: 'url/123',\n  description: 'description',\n  price: 100,\n  priceexclvat: 89,\n  options: [salesOfferProductOptionFactory.build()],\n  optinproducts: [salesOfferProductOptinFactory.build()],\n  productInfo: {} as OmapiProduct,\n  promos: [],\n  installtypes: [salesOfferProductComfortInstallTypeFactory.build(), salesOfferProductSelfInstallTypeFactory.build()],\n  costs: [salesOfferCostFactory.build()],\n  streamingservices: [],\n});\n\nexport const salesOfferStandaloneOptionsFactory = Factory.Sync.makeFactory<SalesOfferProduct>({\n  omapiid: '100',\n  correlationid: 'id',\n  specurl: 'url/100',\n  description: 'description',\n  price: 100,\n  priceexclvat: 89,\n  options: [],\n  optinproducts: [salesOfferProductOptinFactory.build()],\n  productInfo: {} as OmapiProduct,\n  promos: [salesOfferPromoFactory.build()],\n  installtypes: [salesOfferProductComfortInstallTypeFactory.build(), salesOfferProductSelfInstallTypeFactory.build()],\n  costs: [salesOfferCostFactory.build()],\n  streamingservices: [],\n});\n\nexport const salesOfferTestFactory = Factory.Sync.makeFactory<SalesOffer>({\n  products: [salesOfferProductFactory.build()],\n  setup: SalesOfferSetupModelFactory.build(),\n  standaloneoptions: [],\n});\n\nexport const salesOfferTestStandaloneOptionsFactory = Factory.Sync.makeFactory<SalesOffer>({\n  products: [],\n  setup: SalesOfferSetupModelFactory.build(),\n  standaloneoptions: [salesOfferStandaloneOptionsFactory.build()],\n});\n\nexport const salesOfferError = { error: { type: 'error' } };\n","import { ProductModel } from './product.model';\n\nexport class SalesOfferModel {\n  public products: ProductModel[];\n  public standaloneOptions: ProductModel[];\n  public ownedProducts: ProductModel[];\n}\n","import { CostInterface } from '../interfaces/cost.interface';\nimport { PromoModel } from './promo.model';\n\nexport class SalesOfferCost implements CostInterface {\n  name: string;\n  price: number;\n  priceexclvat: number;\n  promotions: PromoModel[];\n  recurring: number;\n}\n","export class SofyAddress {\n  addressid: string;\n  municipality: string;\n  postalcode: string;\n  street: string;\n  housenr: string;\n  country?: string;\n}\n","import * as Factory from 'factory.ts';\nimport { SofyAddress } from './sofy-address';\nimport { SofyCustomerProductHoldingProduct } from './sofy-customer-product-holding-product';\n\nexport const sofyAddressFactory = Factory.Sync.makeFactory<SofyAddress>({\n  addressid: 'adress-id',\n  municipality: 'Merksplas',\n  postalcode: '2330',\n  street: 'Steenweg op Beerse',\n  housenr: '123',\n  country: 'Belgie',\n});\n\nexport const sofyCustomerProductHoldingProductFactory = Factory.Sync.makeFactory<SofyCustomerProductHoldingProduct>({\n  specurl: '568',\n  address: sofyAddressFactory.build(),\n  identifier: '123',\n  products: [],\n  options: [],\n});\n","import { SofyAddress } from './sofy-address';\n\nexport class SofyCustomerProductHoldingProduct {\n  specurl: string;\n  address: SofyAddress;\n  identifier: string;\n  products: SofyCustomerProductHoldingProduct[];\n  options: SofyCustomerProductHoldingProduct[];\n}\n","import { SofyAddress } from './sofy-address';\n\nexport class SofyModemDetails {\n  macaddress: string;\n  modemtype: string;\n  hardware: string;\n  cableroutername: string;\n  internetlineidentifier: string;\n  installationaddress: SofyAddress;\n}\n","import { OptionInterface } from '../interfaces/option.interface';\nimport { SofyAddress } from './sofy-address';\n\nexport class SofyProduct {\n  omapiid?: string;\n  options: OptionInterface[];\n  isnewline: boolean;\n  installationaddress: SofyAddress;\n  move: boolean;\n  needscableinstallation: boolean;\n  installtype: string;\n}\n","import { Observable, of } from 'rxjs';\nimport { catchError, take } from 'rxjs/operators';\nimport { HttpClient } from '@angular/common/http';\nimport { CustomerBrandEnum, PathCategorisationService, UrlService } from '@telenet/ng-lib-page';\nimport { ConfigConstants, ConfigService } from '@telenet/ng-lib-config';\nimport { Injectable } from '@angular/core';\nimport { SofyProduct } from '../models/sofy-product';\nimport { SofyCustomerProductHoldingProduct } from '../models/sofy-customer-product-holding-product';\nimport { SofyModemDetails } from '../models/sofy-modem-details';\nimport { SofyRequestProduct } from '../models/request';\nimport { SalesOfferData } from '../interfaces/sales-offer.interface';\nimport { CustomerInstallationDetailsInterface } from '../interfaces/installation-details-response.interface';\nimport { isEmpty } from 'lodash-es';\nimport { Promotion } from '../models/promotion.model';\nimport { KeyValuePair } from '../interfaces/key-value.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SofyService {\n  private readonly PARAM_DATE = 'date';\n\n  constructor(\n    private readonly http: HttpClient,\n    private readonly urlService: UrlService,\n    private readonly configService: ConfigService,\n    private readonly pathCategorisationService: PathCategorisationService\n  ) {}\n\n  // Deprecated,\n  // products model is the same as the one used in the response\n  // makes no sense to have the exact same model as it's just not the same\n  // Use getSalesOffer instead\n  public sofyProducts(\n    products: SofyProduct[],\n    rawCustomerProductHolding: SofyCustomerProductHoldingProduct[],\n\n    targetGroups: Promotion[],\n    rawModemDetails: SofyModemDetails[],\n    voucherPromo: string,\n    campaignCode: string,\n    messageGroup: string\n  ) {\n    const data: SalesOfferData = {\n      products: products,\n      promotions: targetGroups,\n      customerproductholding: rawCustomerProductHolding,\n      modemdetails: rawModemDetails,\n      voucherpromo: voucherPromo,\n      campaigncode: campaignCode,\n    };\n    return this.doPost(data, messageGroup);\n  }\n\n  public getSalesOfferWithOmapiId(products: SofyRequestProduct[] | SofyProduct[], messageGroup: string) {\n    const data: SalesOfferData = {\n      products: products,\n      promotions: [],\n      customerproductholding: [],\n      modemdetails: [],\n    };\n    return this.doPost(data, messageGroup);\n  }\n\n  public getSalesOffer(\n    products: SofyRequestProduct[],\n    promotions: Promotion[],\n    rawModemDetails: SofyModemDetails[],\n    rawCustomerProductHolding: SofyCustomerProductHoldingProduct[],\n    voucherPromo: string,\n    campaignCode: string,\n    messageGroup: string,\n    installationDetails?: CustomerInstallationDetailsInterface,\n    standaloneOptions?: SofyRequestProduct[]\n  ) {\n    const data: SalesOfferData = {\n      promotions: promotions,\n      customerproductholding: rawCustomerProductHolding,\n      modemdetails: rawModemDetails,\n      voucherpromo: voucherPromo,\n      campaigncode: campaignCode,\n      customerinstallationdetails: installationDetails,\n      products: products,\n      standaloneoptions: standaloneOptions,\n    };\n\n    if (!isEmpty(this.getDateFromUrl())) {\n      (data as unknown as KeyValuePair)['salesofferdate'] = this.getDateFromUrl();\n    }\n\n    return this.doPost(data, messageGroup);\n  }\n\n  private doPost(data: SalesOfferData, _: string): Observable<unknown> {\n    const options = this.getHttpOptions();\n    return this.http.post(this.getSofyUrl(), data, options).pipe(\n      take(1),\n      catchError((error: unknown) => {\n        return of(error);\n      })\n    );\n  }\n\n  private getHttpOptions() {\n    return {\n      headers: this.createHttpHeaders(),\n      timeout: 10000,\n      cache: true,\n    };\n  }\n\n  private createHttpHeaders() {\n    return {\n      'x-alt-referer': this.urlService.getCurrentUrl(),\n      'X-Requested-With': 'XMLHttpRequest',\n    };\n  }\n\n  private getSofyUrl(): string {\n    if (this.isBaseCustomer()) {\n      return this.configService.getConfig(ConfigConstants.SOFY_URL) + '/sofy/base/public/';\n    }\n    return this.configService.getConfig(ConfigConstants.SOFY_URL) + '/sofy/public/';\n  }\n\n  isBaseCustomer(): boolean {\n    return this.pathCategorisationService.getCustomerBrand() === CustomerBrandEnum.BRAND_BASE;\n  }\n\n  private getDateFromUrl(): string {\n    return this.urlService.getRequestParamValue(this.PARAM_DATE, '');\n  }\n}\n","import { FlowTypeEnum } from '../enums/flow-type.enum';\nimport { SalesOfferPricedItem } from '../models/response';\n\nexport class ConnectFivePriceFromFlowTypeUtil {\n  static connectFivePriceWithFlowTypeConsidered<T extends SalesOfferPricedItem>(\n    flowType: FlowTypeEnum,\n    objectContainingPriceWithVatAndPriceWithoutVat: T\n  ): number {\n    if (flowType === FlowTypeEnum.SOHO) {\n      return objectContainingPriceWithVatAndPriceWithoutVat.priceexclvat;\n    } else {\n      return objectContainingPriceWithVatAndPriceWithoutVat.price;\n    }\n  }\n}\n","export * from './sales-offer.util';\nexport * from './sales-offer-install-type.util';\nexport * from './sales-offer-product-optin.util';\nexport * from './sales-offer-product.util';\nexport * from './sales-offer-promo.util';\n","import { SalesOfferProductInstallType, SalesOfferPromo } from '../models/response';\nimport { SelfInstallTypeEnum } from '../enums/self-install-type.enum';\nimport { DeliveryOptionInterface } from '../interfaces/delivery-option.interface';\nimport { InstallTypeEnum } from '../enums/ocapi-move-order.enum';\nimport { FlowTypeEnum } from '../enums/flow-type.enum';\nimport { ConnectFivePriceFromFlowTypeUtil } from './connect-five-price-from-flow-type.util';\n\nexport class SalesOfferInstallTypeUtil {\n  public static getInstallType(\n    type: InstallTypeEnum,\n    installTypes: SalesOfferProductInstallType[]\n  ): SalesOfferProductInstallType | undefined {\n    return installTypes.find((installType) => installType.description === type);\n  }\n\n  public static getInstallTypeForFlowType(\n    type: InstallTypeEnum,\n    installTypes: SalesOfferProductInstallType[],\n    flowType: FlowTypeEnum\n  ): SalesOfferProductInstallType | undefined {\n    const foundInstallType = this.getInstallType(type, installTypes);\n    if (typeof foundInstallType === 'undefined') {\n      return undefined;\n    }\n    const installType: SalesOfferProductInstallType = JSON.parse(JSON.stringify(foundInstallType));\n    installType.price = ConnectFivePriceFromFlowTypeUtil.connectFivePriceWithFlowTypeConsidered(flowType, installType);\n    installType.promos.forEach(\n      (promo: SalesOfferPromo) =>\n        (promo.price = ConnectFivePriceFromFlowTypeUtil.connectFivePriceWithFlowTypeConsidered(flowType, promo))\n    );\n    return installType;\n  }\n\n  public static getDeliveryOption(\n    type: SelfInstallTypeEnum,\n    installType: SalesOfferProductInstallType\n  ): DeliveryOptionInterface | undefined {\n    return installType?.options\n      ? installType.options.find(\n          (installTypeOption: DeliveryOptionInterface) => installTypeOption?.description === type\n        )\n      : undefined;\n  }\n\n  public static hasHomeDelivery(installType: SalesOfferProductInstallType): boolean {\n    return !!installType.options?.some(\n      (installTypeOption) => installTypeOption?.description === SelfInstallTypeEnum.HOME_DELIVERY\n    );\n  }\n\n  public static hasPickup(installType: SalesOfferProductInstallType): boolean {\n    return !!installType.options?.some(\n      (installTypeOption) => installTypeOption?.description === SelfInstallTypeEnum.PICKUP\n    );\n  }\n}\n","import { SalesOfferProductOptin } from '../models';\nimport { ServiceTypeEnum } from '../enums/service-type.enum';\n\nexport class SalesOfferProductOptinUtil {\n  public static hasMobileInternetOptin(optins: SalesOfferProductOptin[]): boolean {\n    return SalesOfferProductOptinUtil.hasOptinWithServiceType(optins, ServiceTypeEnum.MOBILE_INTERNET);\n  }\n\n  public static hasOptinWithServiceType(optins: SalesOfferProductOptin[], serviceType: ServiceTypeEnum): boolean {\n    return optins && optins.some((optin) => optin.productInfo && optin.productInfo.hasServiceType(serviceType));\n  }\n}\n","import { SalesOfferProduct } from '../models/response';\n\nexport class SalesOfferProductUtil {\n  static RMD_PRODUCT = 'RMD';\n  static SOHO_PRODUCT = 'TB';\n\n  public static isResidentialProduct(product: SalesOfferProduct) {\n    return product.productInfo?.getCharacteristic('productSegment') === SalesOfferProductUtil.RMD_PRODUCT;\n  }\n\n  public static isSohoProduct(product: SalesOfferProduct) {\n    return product.productInfo?.getCharacteristic('productSegment') === SalesOfferProductUtil.SOHO_PRODUCT;\n  }\n\n  public static hasAnyInstallTypes(product: SalesOfferProduct): boolean {\n    return product.installtypes && product.installtypes.length > 0;\n  }\n}\n","import { TranslateService } from '@ngx-translate/core';\nimport { SalesOfferPromo } from '../models/response';\nimport { isNil } from 'lodash-es';\nimport { ConnectFiveConstants } from '../constants/connect-five.constants';\nimport { LabelUtil } from '@telenet/ng-lib-page';\n\nexport class SalesOfferPromoUtil {\n  private static readonly PROMOTION_DICTIONARY = 'promotions';\n  private static readonly DEFAULT_LABEL = 'default';\n  private static readonly DEFAULT_PERMANENT_LABEL = 'default-permanent';\n\n  public static containsTag(promo: SalesOfferPromo[], tag: string): boolean {\n    return promo.some((promo: SalesOfferPromo) => promo.tags.some((promoTag: string) => promoTag === tag));\n  }\n\n  public static hasDiscount(promo: SalesOfferPromo): boolean {\n    return promo && promo.duration > 0 && promo.price < 0;\n  }\n\n  public static getShortestPromoExcludingZeroDurations(promos: SalesOfferPromo[]): SalesOfferPromo | undefined {\n    const nonZeroDurationPromos = promos.filter((promo: SalesOfferPromo) => promo.duration > 0);\n\n    return nonZeroDurationPromos.length === 0\n      ? undefined\n      : nonZeroDurationPromos.reduce((prev, curr) => (prev.duration < curr.duration ? prev : curr));\n  }\n\n  public static getPromoWithZeroDurationAndZeroDiscount(promos: SalesOfferPromo[]): SalesOfferPromo | undefined {\n    return promos.find((promo: SalesOfferPromo) => promo.duration === 0 && promo.price === 0);\n  }\n\n  public static getTotalDiscountWithZeroDuration(promos: SalesOfferPromo[], sohoFlow: boolean): number {\n    return promos\n      .filter((promo: SalesOfferPromo) => promo.duration === 0)\n      .map((promo) => (sohoFlow ? promo.priceexclvat : promo.price))\n      .reduce((curr: number, prev: number) => curr + prev, 0);\n  }\n\n  static getOverviewLabel(\n    promo: SalesOfferPromo,\n    product: string,\n    translateService: TranslateService,\n    isSoho: boolean,\n    discount: number\n  ): string {\n    const labelKey = SalesOfferPromoUtil.getLabelKey(\n      [SalesOfferPromoUtil.PROMOTION_DICTIONARY, LabelUtil.normalizeKey(promo.name)],\n      isSoho\n    );\n    const params = { amount: this.transformPrice(discount), product: product, duration: promo.duration };\n\n    let copy = translateService.instant(labelKey, params);\n    if (copy === undefined || copy === null || copy === '' || copy === labelKey) {\n      copy = this.getDefaultCopy(promo, isSoho, translateService, params, labelKey);\n    }\n    return copy;\n  }\n\n  private static getDefaultCopy<T extends object>(\n    promo: SalesOfferPromo,\n    isSoho: boolean,\n    translateService: TranslateService,\n    params: T,\n    labelKey: string\n  ) {\n    const defaultKeyWord = SalesOfferPromoUtil.isPermanentPromotion(promo)\n      ? SalesOfferPromoUtil.DEFAULT_PERMANENT_LABEL\n      : SalesOfferPromoUtil.DEFAULT_LABEL;\n    const defaultLabelKey = SalesOfferPromoUtil.getLabelKey(\n      [SalesOfferPromoUtil.PROMOTION_DICTIONARY, defaultKeyWord],\n      isSoho\n    );\n    let copy = translateService.instant(defaultLabelKey, params);\n\n    if (copy === undefined || copy === null || copy === '' || copy === defaultLabelKey) {\n      copy = labelKey;\n    }\n    return copy;\n  }\n\n  private static getLabelKey(keyWords: string[], isSoho: boolean): string {\n    if (isSoho) {\n      keyWords.push(ConnectFiveConstants.SOHO_LABEL_APPENDIX);\n    }\n    return LabelUtil.getLabelKeyWithTypeText(keyWords.join('.'));\n  }\n\n  private static isPermanentPromotion(promo: SalesOfferPromo): boolean {\n    return promo.duration === 0 && promo.price < 0;\n  }\n\n  private static transformPrice(price: number): string {\n    return !isNil(price) ? price.toFixed(2).replace('.', ',') : '';\n  }\n}\n","import { SalesOfferProductUtil } from './sales-offer-product.util';\nimport { SAFE_SPOT_PRO } from '../constants/sofy.constants';\nimport {\n  SalesOffer,\n  SalesOfferPricedItem,\n  SalesOfferProduct,\n  SalesOfferProductInstallType,\n  SalesOfferProductOptin,\n  SalesOfferProductOption,\n  SalesOfferProductType,\n  SalesOfferPromo,\n  SalesOfferPromoDurationGroup,\n} from '../models/response';\nimport { SalesOfferCost } from '../models/salesOfferCost';\nimport { concat, filter, flatMap, flatten, groupBy, isUndefined, map, min, minBy, sum, sumBy, uniqBy } from 'lodash-es';\nimport { SalesOfferProductStreamingService } from '../models/response/sales-offer-product-streaming-service.model';\nimport { SalesOfferPromoUtil } from './sales-offer-promo.util';\n\nexport class SalesOfferUtil {\n  public static getTotalMonthlyPrice(offer: SalesOffer, exclusiveVat?: boolean): number {\n    return sum([\n      SalesOfferUtil.getMonthlyPriceForProducts(offer, exclusiveVat),\n      SalesOfferUtil.getMonthlyPriceForSelectedProductOptions(offer, exclusiveVat),\n      SalesOfferUtil.getMonthlyPriceForStandaloneOptions(offer, exclusiveVat),\n    ]);\n  }\n\n  public static getTotalMonthlyPriceInclPromos(offer: SalesOffer, exclusiveVat?: boolean): number {\n    return sum([this.getTotalMonthlyPrice(offer, exclusiveVat), this.getTotalMonthlyPromoPrice(offer, exclusiveVat)]);\n  }\n\n  public static getSafeSpotProOption(offer: SalesOffer): SalesOfferProductOption | undefined {\n    const allSelectedProductOptions = SalesOfferUtil.getAllSelectedProductOptions(offer);\n    return allSelectedProductOptions.find((option) => option.omapiid === SAFE_SPOT_PRO);\n  }\n\n  public static getAllSelectedProductOptions(offer?: SalesOffer): SalesOfferProductOption[] {\n    return filter(this.getAllProductOptions(offer), (o) => o.selected);\n  }\n\n  public static getAllProductOptions(offer?: SalesOffer): SalesOfferProductOption[] {\n    if (offer === undefined) {\n      return [];\n    }\n    return SalesOfferUtil.getAllProductItemsByType(offer, SalesOfferProductType.OPTIONS);\n  }\n\n  public static getAllSelectedProductStreamingServices(offer?: SalesOffer): SalesOfferProductStreamingService[] {\n    return filter(this.getAllProductStreamingServices(offer), (o) => o.selected);\n  }\n\n  public static getAllProductStreamingServices(offer?: SalesOffer): SalesOfferProductStreamingService[] {\n    if (offer === undefined) {\n      return [];\n    }\n    return SalesOfferUtil.getAllProductItemsByType(\n      offer,\n      SalesOfferProductType.STREAMING_SERVICES\n    ) as SalesOfferProductStreamingService[];\n  }\n\n  public static getAllSelectedProductOptins(offer?: SalesOffer): SalesOfferProductOptin[] {\n    return filter(this.getAllProductOptins(offer), (o) => o.selected);\n  }\n\n  public static getAllProductOptins(offer?: SalesOffer): SalesOfferProductOptin[] {\n    if (offer === undefined) {\n      return [];\n    }\n    return SalesOfferUtil.getAllProductItemsByType(offer, SalesOfferProductType.OPTINS);\n  }\n\n  private static getAllProductItemsByType(\n    offer: SalesOffer,\n    type: SalesOfferProductType\n  ): SalesOfferProductOption[] | SalesOfferProductOptin[] | SalesOfferProductStreamingService[] {\n    return uniqBy(flatten(map(offer.products, (product) => product[type])), (o) => o.omapiid);\n  }\n\n  public static getMonthlyPriceForSelectedProductOptions(offer: SalesOffer, exclusiveVat?: boolean): number {\n    const allSelectedProductOptions = SalesOfferUtil.getAllSelectedProductOptions(offer);\n    return (\n      SalesOfferUtil.getMonthlyPriceForItems(allSelectedProductOptions, !!exclusiveVat) +\n      SalesOfferUtil.getMonthlyPermanentPromoDiscountForItems(allSelectedProductOptions, !!exclusiveVat)\n    );\n  }\n\n  public static getMonthlyPriceForProducts(offer: SalesOffer, exclusiveVat?: boolean): number {\n    return (\n      SalesOfferUtil.getMonthlyPriceForItems(offer.products, !!exclusiveVat) +\n      SalesOfferUtil.getMonthlyPermanentPromoDiscountForItems(offer.products, !!exclusiveVat)\n    );\n  }\n\n  public static getMonthlyPriceForStandaloneOptions(offer: SalesOffer, exclusiveVat?: boolean): number {\n    return (\n      SalesOfferUtil.getMonthlyPriceForItems(offer.standaloneoptions, !!exclusiveVat) +\n      SalesOfferUtil.getMonthlyPermanentPromoDiscountForItems(offer.standaloneoptions, !!exclusiveVat)\n    );\n  }\n\n  public static getMonthlyPromosForSelectedProductOptions(offer: SalesOffer, exclusiveVat?: boolean): number {\n    return sum(\n      map(\n        SalesOfferUtil.getMonthlyPromotions(SalesOfferUtil.getAllSelectedProductOptions(offer)),\n        (p: SalesOfferPromo) => (exclusiveVat ? p.priceexclvat : p.price)\n      )\n    );\n  }\n\n  public static getMonthlyPromosForProducts(offer: SalesOffer, exclusiveVat?: boolean): number {\n    return sum(\n      map(SalesOfferUtil.getMonthlyPromotions(offer.products), (p: SalesOfferPromo) =>\n        exclusiveVat ? p.priceexclvat : p.price\n      )\n    );\n  }\n\n  public static getMonthlyPromosForStandaloneOptions(offer: SalesOffer, exclusiveVat?: boolean): number {\n    return sum(\n      map(SalesOfferUtil.getMonthlyPromotions(offer.standaloneoptions), (p: SalesOfferPromo) =>\n        exclusiveVat ? p.priceexclvat : p.price\n      )\n    );\n  }\n\n  public static getMonthlyPromos(offer: SalesOffer): SalesOfferPromo[] {\n    return flatMap(offer.products, (product) => SalesOfferUtil.getMonthlyProductPromos(product));\n  }\n\n  public static getAllPromos(offer: SalesOffer): SalesOfferPromo[] {\n    return concat(\n      SalesOfferUtil.getMonthlyPromos(offer),\n      flatMap(offer.products, (product) => SalesOfferUtil.getCostPromos(product)),\n      flatMap(offer.products, (product) => SalesOfferUtil.getInstallPromos(product))\n    );\n  }\n\n  public static findProduct(offer: SalesOffer, omapiId: string): SalesOfferProduct | undefined {\n    return offer && offer.products ? offer.products.find((product) => product.omapiid === omapiId) : undefined;\n  }\n\n  private static getCostPromos(product: SalesOfferProduct): SalesOfferPromo[] {\n    return flatMap(product.costs, (cost) => cost.promotions);\n  }\n\n  private static getInstallPromos(product: SalesOfferProduct): SalesOfferPromo[] {\n    return flatMap(\n      product.installtypes.filter((installType) => installType.selected),\n      (installType) => installType.promos\n    );\n  }\n\n  private static getMonthlyProductPromos(product: SalesOfferProduct): SalesOfferPromo[] {\n    return concat(\n      product.promos,\n      flatMap(product.optinproducts, (optin) => optin.promos),\n      flatMap(\n        product.options.filter((option) => option.selected),\n        (option) => option.promos\n      )\n    );\n  }\n\n  public static getMonthlyPromosGroupedByDuration(offer: SalesOffer): SalesOfferPromoDurationGroup[] {\n    return map(\n      groupBy(\n        SalesOfferUtil.getMonthlyPromos(offer).filter((promo) => promo.duration > 0),\n        (promo: SalesOfferPromo) => promo.duration\n      ),\n      (promos: SalesOfferPromo[], key: string) => {\n        return {\n          duration: Number(key),\n          promos: promos,\n        } as SalesOfferPromoDurationGroup;\n      }\n    );\n  }\n\n  public static getPromoDurationGroupsTotal(\n    salesOfferPromoGroups: SalesOfferPromoDurationGroup[],\n    exclusiveVat?: boolean\n  ): number {\n    return sum(\n      map(\n        flatMap(salesOfferPromoGroups, (group: SalesOfferPromoDurationGroup) => group.promos),\n        (promo: SalesOfferPromo) => (exclusiveVat ? promo.priceexclvat : promo.price)\n      )\n    );\n  }\n\n  public static getBundle(offer: SalesOffer): SalesOfferProduct {\n    const bundle = offer.products.find((product) => {\n      return product.productInfo && product.productInfo.isBundle();\n    });\n\n    if (!bundle) {\n      throw new Error('Salesoffer does not contain a bundle');\n    }\n\n    return bundle;\n  }\n\n  public static containsResidentialProduct(offer: SalesOffer): boolean {\n    return offer.products.some((product) => SalesOfferProductUtil.isResidentialProduct(product));\n  }\n\n  public static containsSohoProduct(offer: SalesOffer): boolean {\n    return offer.products.some((product) => SalesOfferProductUtil.isSohoProduct(product));\n  }\n\n  public static containsPromoTag(offer: SalesOfferProduct, tag: string): boolean {\n    return SalesOfferPromoUtil.containsTag(offer.promos, tag);\n  }\n\n  private static getMonthlyPriceForItems(items: SalesOfferPricedItem[], exclusiveVat: boolean): number {\n    return sum(map(items, (p) => (exclusiveVat ? p.priceexclvat : p.price)));\n  }\n\n  private static getMonthlyPermanentPromoDiscountForItems(\n    items: SalesOfferProduct[] | SalesOfferProductOption[],\n    exclusiveVat: boolean\n  ): number {\n    return SalesOfferUtil.getPermanentPromotions(items)\n      .map((promo) => SalesOfferUtil.getPrice(promo, exclusiveVat))\n      .reduce((curr, previous) => curr + previous, 0);\n  }\n\n  private static getPermanentPromotions(items: SalesOfferProduct[] | SalesOfferProductOption[]): SalesOfferPromo[] {\n    return SalesOfferUtil.getPromotionsWithDuration(items, (promo: SalesOfferPromo): boolean => promo?.duration === 0);\n  }\n\n  private static getMonthlyPromotions(items: SalesOfferProduct[] | SalesOfferProductOption[]): SalesOfferPromo[] {\n    return SalesOfferUtil.getPromotionsWithDuration(items, (promo: SalesOfferPromo): boolean => promo?.duration > 0);\n  }\n\n  private static getPromotionsWithDuration(\n    items: SalesOfferProduct[] | SalesOfferProductOption[],\n    durationFilter: (promo: SalesOfferPromo) => boolean\n  ): SalesOfferPromo[] {\n    return (items || [])\n      .map((item: SalesOfferProductOption | SalesOfferProduct) => item.promos)\n      .reduce((accumulator, value) => accumulator.concat(value), [])\n      .filter(durationFilter);\n  }\n\n  public static getShortestDurationOfAllPromos(salesOffer: SalesOffer): number {\n    return min([\n      this.getShortestPromoDurationOfProducts(salesOffer),\n      this.getShortestPromoDurationOfProductOptions(salesOffer),\n      this.getShortestPromoDurationOfStandaloneOptions(salesOffer),\n    ]) as number;\n  }\n\n  public static getPriceInclPromo(\n    salesOfferProduct: SalesOfferProduct | SalesOfferProductOption | SalesOfferProductOptin,\n    business: boolean\n  ): number {\n    return this.getPrice(salesOfferProduct, business) + sumBy(salesOfferProduct.promos, this.getPriceTag(business));\n  }\n\n  public static getTotalTemporaryDiscount(salesOfferProduct: SalesOfferProduct, business: boolean): number {\n    const temporaryPromos = salesOfferProduct.promos.filter((promo) => promo.duration !== 0);\n    return sumBy(temporaryPromos, this.getPriceTag(business));\n  }\n\n  public static getShortestPromoDuration(\n    salesOfferProduct: SalesOfferProduct | SalesOfferProductOption | SalesOfferProductOptin\n  ): number {\n    return this.calculateShortestPromoDuration(salesOfferProduct.promos);\n  }\n\n  private static getTotalMonthlyPromoPrice(offer: SalesOffer, exclusiveVat?: boolean): number {\n    return sum([\n      SalesOfferUtil.getMonthlyPromosForProducts(offer, exclusiveVat),\n      SalesOfferUtil.getMonthlyPromosForSelectedProductOptions(offer, exclusiveVat),\n      SalesOfferUtil.getMonthlyPromosForStandaloneOptions(offer, exclusiveVat),\n    ]);\n  }\n\n  public static getPrice(\n    salesOfferProduct: SalesOfferProduct | SalesOfferProductOption | SalesOfferProductOptin | SalesOfferPromo,\n    business: boolean\n  ): number {\n    return business ? salesOfferProduct.priceexclvat : salesOfferProduct.price;\n  }\n\n  private static getPriceTag(business: boolean): string {\n    return business ? 'priceexclvat' : 'price';\n  }\n\n  private static calculateShortestPromoDuration(salesOfferPromos: SalesOfferPromo[]): number {\n    const shortestDurationPromo = minBy(salesOfferPromos, 'duration');\n\n    return !isUndefined(shortestDurationPromo) ? shortestDurationPromo.duration : 0;\n  }\n\n  private static getShortestPromoDurationOfProducts(salesOffer: SalesOffer): number {\n    return min(map(SalesOfferUtil.getMonthlyPromotions(salesOffer.products), (promo) => promo.duration)) as number;\n  }\n\n  private static getShortestPromoDurationOfStandaloneOptions(salesOffer: SalesOffer): number {\n    return min(\n      map(SalesOfferUtil.getMonthlyPromotions(salesOffer.standaloneoptions), (promo) => promo.duration)\n    ) as number;\n  }\n\n  private static getShortestPromoDurationOfProductOptions(salesOffer: SalesOffer): number {\n    return min(\n      map(SalesOfferUtil.getMonthlyPromotions(this.getAllSelectedProductOptions(salesOffer)), (promo) => promo.duration)\n    ) as number;\n  }\n\n  public static getCosts(salesOffer: SalesOffer, nameFilter: string | null = null): SalesOfferCost[] {\n    const flat = (someFunction: (product: SalesOfferProduct) => SalesOfferCost[], arr: SalesOfferProduct[]) =>\n      arr.reduce(\n        (salesOfferCosts: SalesOfferCost[], salesOfferProduct: SalesOfferProduct) => [\n          ...salesOfferCosts,\n          ...someFunction(salesOfferProduct),\n        ],\n        []\n      );\n    const costs = flat((product: SalesOfferProduct) => {\n      if (product.costs) {\n        return product.costs;\n      } else {\n        return [];\n      }\n    }, salesOffer.products);\n    if (nameFilter) {\n      return costs.filter((cost) => cost.name === nameFilter);\n    }\n    return costs;\n  }\n\n  public static getInstallTypes(salesOffer: SalesOffer): SalesOfferProductInstallType[] {\n    return flatMap(salesOffer.products, (product) => product.installtypes);\n  }\n\n  public static isOrderingHighTier(salesOffer: SalesOffer): boolean {\n    return salesOffer.products.some((product) => {\n      return product.productInfo && product.productInfo.isHighTier();\n    });\n  }\n\n  static containsAll(offer: SalesOffer, omapiIds: string[]): boolean {\n    return omapiIds.every((omapiId) => this.contains(offer, omapiId));\n  }\n\n  static containsAny(offer: SalesOffer, omapiIds: string[]): boolean {\n    return omapiIds.some((omapiId) => this.contains(offer, omapiId));\n  }\n\n  static contains(offer: SalesOffer, omapiId: string): boolean {\n    return offer.products.some((product) => product.omapiid === omapiId);\n  }\n}\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nexport default arrayAggregator;\n","import baseIndexOf from './_baseIndexOf.js';\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nexport default arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arrayIncludesWith;\n","import baseEach from './_baseEach.js';\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nexport default baseAggregator;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","import isSymbol from './isSymbol.js';\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nexport default baseExtremum;\n","import baseEach from './_baseEach.js';\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nexport default baseFilter;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseFindIndex;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import baseFindIndex from './_baseFindIndex.js';\nimport baseIsNaN from './_baseIsNaN.js';\nimport strictIndexOf from './_strictIndexOf.js';\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nexport default baseIndexOf;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nexport default baseIsNaN;\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nexport default baseLt;\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nexport default baseSum;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport cacheHas from './_cacheHas.js';\nimport createSet from './_createSet.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseUniq;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","import arrayAggregator from './_arrayAggregator.js';\nimport baseAggregator from './_baseAggregator.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nexport default createAggregator;\n","import Set from './_Set.js';\nimport noop from './noop.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nexport default createSet;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default strictIndexOf;\n","import arrayPush from './_arrayPush.js';\nimport baseFlatten from './_baseFlatten.js';\nimport copyArray from './_copyArray.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates a new array concatenating `array` with any additional arrays\n * and/or values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to concatenate.\n * @param {...*} [values] The values to concatenate.\n * @returns {Array} Returns the new concatenated array.\n * @example\n *\n * var array = [1];\n * var other = _.concat(array, 2, [3], [[4]]);\n *\n * console.log(other);\n * // => [1, 2, 3, [4]]\n *\n * console.log(array);\n * // => [1]\n */\nfunction concat() {\n  var length = arguments.length;\n  if (!length) {\n    return [];\n  }\n  var args = Array(length - 1),\n      array = arguments[0],\n      index = length;\n\n  while (index--) {\n    args[index - 1] = arguments[index];\n  }\n  return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n}\n\nexport default concat;\n","import arrayFilter from './_arrayFilter.js';\nimport baseFilter from './_baseFilter.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n *\n * // Combining several predicates using `_.overEvery` or `_.overSome`.\n * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n * // => objects for ['fred', 'barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nexport default filter;\n","import baseFlatten from './_baseFlatten.js';\nimport map from './map.js';\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nexport default flatMap;\n","import baseFlatten from './_baseFlatten.js';\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nexport default flatten;\n","import baseAssignValue from './_baseAssignValue.js';\nimport createAggregator from './_createAggregator.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nexport default groupBy;\n","/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * _.isNil(null);\n * // => true\n *\n * _.isNil(void 0);\n * // => true\n *\n * _.isNil(NaN);\n * // => false\n */\nfunction isNil(value) {\n  return value == null;\n}\n\nexport default isNil;\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nexport default isUndefined;\n","import baseExtremum from './_baseExtremum.js';\nimport baseLt from './_baseLt.js';\nimport identity from './identity.js';\n\n/**\n * Computes the minimum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * _.min([4, 2, 8, 6]);\n * // => 2\n *\n * _.min([]);\n * // => undefined\n */\nfunction min(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseLt)\n    : undefined;\n}\n\nexport default min;\n","import baseExtremum from './_baseExtremum.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseLt from './_baseLt.js';\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n    : undefined;\n}\n\nexport default minBy;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nexport default noop;\n","import baseSum from './_baseSum.js';\nimport identity from './identity.js';\n\n/**\n * Computes the sum of the values in `array`.\n *\n * @static\n * @memberOf _\n * @since 3.4.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 2, 8, 6]);\n * // => 20\n */\nfunction sum(array) {\n  return (array && array.length)\n    ? baseSum(array, identity)\n    : 0;\n}\n\nexport default sum;\n","import baseIteratee from './_baseIteratee.js';\nimport baseSum from './_baseSum.js';\n\n/**\n * This method is like `_.sum` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the value to be summed.\n * The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {number} Returns the sum.\n * @example\n *\n * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n *\n * _.sumBy(objects, function(o) { return o.n; });\n * // => 20\n *\n * // The `_.property` iteratee shorthand.\n * _.sumBy(objects, 'n');\n * // => 20\n */\nfunction sumBy(array, iteratee) {\n  return (array && array.length)\n    ? baseSum(array, baseIteratee(iteratee, 2))\n    : 0;\n}\n\nexport default sumBy;\n","import baseIteratee from './_baseIteratee.js';\nimport baseUniq from './_baseUniq.js';\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nexport default uniqBy;\n"],"names":["ConnectFiveConstants","MESSAGE_GROUP","SOHO_LABEL_APPENDIX","MODULE_NAME","BIRTH_DATE_MASK","ID_CARD_MASK","MINIMUM_SOHO_SIM_TRANSFERS","SofyPromoType","SAFE_SPOT_PRO","FlowTypeEnum","InstallTypeEnum","SelfInstallTypeEnum","ServiceTypeEnum","PromoMapper","SalesOfferCost","CostMapper","promoMapper","constructor","map","rawCost","cost","name","price","priceexclvat","recurring","promotions","mapPromotions","rawPromotions","forEach","rawPromo","push","i0","ɵɵinject","i1","factory","ɵfac","providedIn","InstallTypeModel","InstallTypeMapper","rawInstallType","installType","description","mutuallyexclusive","selected","promos","mapPromos","rawPromos","OptionModel","OptionMapper","rawOption","option","mutuallyExclusive","omapiId","originalprice","specUrl","ProductModel","ProductMapper","costMapper","installTypeMapper","optionMapper","rawProduct","product","correlationId","omapiid","costs","mapCosts","installtypes","mapInstallTypes","options","mapOptions","rawCosts","rawInstallTypes","installTypes","rawOptions","i2","i3","i4","PromoModel","PeriodModel","promo","backendid","duration","legalid","puk","period","Object","assign","tags","SalesOfferModel","SalesOfferMapper","productMapper","rawSalesOffer","salesOffer","products","mapProducts","ownedProducts","standaloneOptions","rawProducts","SofyCustomerProductHoldingProduct","SofyCustomerProductHoldingProductMapper","mapToSofyCustomerProductHoldingProduct","rawProductHoldings","rawProductHolding","sofyCustomerProductHoldingProduct","identifier","specurl","address","rawProductHoldingOption","sofyCustomerProductHoldingOption","SofyModemDetails","SofyAddress","SofyModemDetailsMapper","mapSofyModemDetails","modemDetails","sofyModemDetails","modemDetail","sofyModemDetail","macaddress","macAddress","cableroutername","cableRouterName","hardware","hardwareType","installationaddress","mapInstallationAddress","installationAddress","internetlineidentifier","internetLineIdentifier","modemtype","modemType","sofyAddress","housenr","houseNumber","street","postalcode","postalCode","municipality","addressid","addressId","country","SofyProduct","SofyProductMapper","mapSelectedProductToSofyProduct","omapiProduct","sofyProducts","sofyProduct","productId","needscableinstallation","installtype","mapAddress","isnewline","move","Address","type","boxNumber","subHouseNumber","streetId","countryCode","floorNumber","addressType","tinaLocationId","plannedMaintenance","CafeModemDetailModel","CafeModemDetailsModel","withModemDetails","CafeRawCustomerproductholdingOptionModel","label","rawOmapi","OmapiProductType","CafeRawCustomerproductholdingModel","customerproductid","accountnumber","rateclassid","rateclassdescription","isProductTypeBundle","BUNDLE","producttype","CafeRawCustomerproductholdingRawomapiProductModel","CafeRawCustomerproductholdingRawomapiModel","productid","externalProductCode","labelkey","visible","family","salesofferingid","weight","apps","services","characteristics","customercategories","category","subcategory","localizedcontent","shortdescription","rates","visibilityrules","unlimited","priceType","withSelected","withDescription","withPrice","isPreInstall","isComfortInstall","isSelfInstall","isModemSwap","includes","endDate","startDate","getMonthlyTotalCost","hasCompatibleModem","length","PromoModelTestfactory","build","properties","keys","key","getNormalizedName","replace","toLowerCase","getAbsoluteAmount","Math","abs","Promotion","startdate","enddate","Factory","sofyRequestAddressBuilder","Sync","makeFactory","sofyRequestProductFactory","correlationid","streamingservices","optinproducts","SalesOfferProductType","salesOfferPromoPeriodFactory","salesOfferPromoFactory","legalInformation","undefined","salesOfferProductOptionFactory","mutuallyexclusivelist","productInfo","salesOfferProductStreamingServiceFactory","salesOfferProductOptinFactory","hasServiceType","_","SalesOfferSetupModelFactory","easyswitcheligible","salesOfferProductPreInstallTypeFactory","PRE_INSTALL","salesOfferProductComfortInstallTypeFactory","COMFORT_INSTALL","salesOfferProductSelfInstallTypeFactory","SELF_INSTALL","salesOfferCostFactory","salesOfferProductFactory","salesOfferStandaloneOptionsFactory","salesOfferTestFactory","setup","standaloneoptions","salesOfferTestStandaloneOptionsFactory","salesOfferError","error","sofyAddressFactory","sofyCustomerProductHoldingProductFactory","of","catchError","take","HttpClient","CustomerBrandEnum","PathCategorisationService","UrlService","ConfigConstants","ConfigService","isEmpty","SofyService","http","urlService","configService","pathCategorisationService","PARAM_DATE","rawCustomerProductHolding","targetGroups","rawModemDetails","voucherPromo","campaignCode","messageGroup","data","customerproductholding","modemdetails","voucherpromo","campaigncode","doPost","getSalesOfferWithOmapiId","getSalesOffer","installationDetails","customerinstallationdetails","getDateFromUrl","getHttpOptions","post","getSofyUrl","pipe","headers","createHttpHeaders","timeout","cache","getCurrentUrl","isBaseCustomer","getConfig","SOFY_URL","getCustomerBrand","BRAND_BASE","getRequestParamValue","ConnectFivePriceFromFlowTypeUtil","connectFivePriceWithFlowTypeConsidered","flowType","objectContainingPriceWithVatAndPriceWithoutVat","SOHO","SalesOfferInstallTypeUtil","getInstallType","find","getInstallTypeForFlowType","foundInstallType","JSON","parse","stringify","getDeliveryOption","installTypeOption","hasHomeDelivery","some","HOME_DELIVERY","hasPickup","PICKUP","SalesOfferProductOptinUtil","hasMobileInternetOptin","optins","hasOptinWithServiceType","MOBILE_INTERNET","serviceType","optin","SalesOfferProductUtil","RMD_PRODUCT","SOHO_PRODUCT","isResidentialProduct","getCharacteristic","isSohoProduct","hasAnyInstallTypes","isNil","LabelUtil","SalesOfferPromoUtil","PROMOTION_DICTIONARY","DEFAULT_LABEL","DEFAULT_PERMANENT_LABEL","containsTag","tag","promoTag","hasDiscount","getShortestPromoExcludingZeroDurations","nonZeroDurationPromos","filter","reduce","prev","curr","getPromoWithZeroDurationAndZeroDiscount","getTotalDiscountWithZeroDuration","sohoFlow","getOverviewLabel","translateService","isSoho","discount","labelKey","getLabelKey","normalizeKey","params","amount","transformPrice","copy","instant","getDefaultCopy","defaultKeyWord","isPermanentPromotion","defaultLabelKey","keyWords","getLabelKeyWithTypeText","join","toFixed","concat","flatMap","flatten","groupBy","isUndefined","min","minBy","sum","sumBy","uniqBy","SalesOfferUtil","getTotalMonthlyPrice","offer","exclusiveVat","getMonthlyPriceForProducts","getMonthlyPriceForSelectedProductOptions","getMonthlyPriceForStandaloneOptions","getTotalMonthlyPriceInclPromos","getTotalMonthlyPromoPrice","getSafeSpotProOption","allSelectedProductOptions","getAllSelectedProductOptions","getAllProductOptions","o","getAllProductItemsByType","OPTIONS","getAllSelectedProductStreamingServices","getAllProductStreamingServices","STREAMING_SERVICES","getAllSelectedProductOptins","getAllProductOptins","OPTINS","getMonthlyPriceForItems","getMonthlyPermanentPromoDiscountForItems","getMonthlyPromosForSelectedProductOptions","getMonthlyPromotions","p","getMonthlyPromosForProducts","getMonthlyPromosForStandaloneOptions","getMonthlyPromos","getMonthlyProductPromos","getAllPromos","getCostPromos","getInstallPromos","findProduct","getMonthlyPromosGroupedByDuration","Number","getPromoDurationGroupsTotal","salesOfferPromoGroups","group","getBundle","bundle","isBundle","Error","containsResidentialProduct","containsSohoProduct","containsPromoTag","items","getPermanentPromotions","getPrice","previous","getPromotionsWithDuration","durationFilter","item","accumulator","value","getShortestDurationOfAllPromos","getShortestPromoDurationOfProducts","getShortestPromoDurationOfProductOptions","getShortestPromoDurationOfStandaloneOptions","getPriceInclPromo","salesOfferProduct","business","getPriceTag","getTotalTemporaryDiscount","temporaryPromos","getShortestPromoDuration","calculateShortestPromoDuration","salesOfferPromos","shortestDurationPromo","getCosts","nameFilter","flat","someFunction","arr","salesOfferCosts","getInstallTypes","isOrderingHighTier","isHighTier","containsAll","omapiIds","every","contains","containsAny","arrayAggregator","array","setter","iteratee","index","baseIndexOf","arrayIncludes","arrayIncludesWith","comparator","baseEach","baseAggregator","collection","defineProperty","baseAssignValue","object","isSymbol","baseExtremum","current","computed","result","baseFilter","predicate","baseFindIndex","fromIndex","fromRight","arrayPush","isFlattenable","baseFlatten","depth","isStrict","baseIsNaN","strictIndexOf","baseLt","other","baseSum","SetCache","cacheHas","createSet","setToArray","LARGE_ARRAY_SIZE","baseUniq","isCommon","seen","set","outer","seenIndex","copyArray","source","Array","baseIteratee","isArray","createAggregator","initializer","func","Set","noop","INFINITY","values","getNative","e","Symbol","isArguments","spreadableSymbol","isConcatSpreadable","arguments","args","arrayFilter","objectProto","prototype","hasOwnProperty","call","identity"],"sourceRoot":"webpack:///","x_google_ignoreList":[51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83]}