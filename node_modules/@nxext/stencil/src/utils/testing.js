"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fileListForAppType = exports.createTestUILib = void 0;
const tslib_1 = require("tslib");
const stencil_core_utils_1 = require("../stencil-core-utils");
const devkit_1 = require("@nx/devkit");
const testing_1 = require("@nx/devkit/testing");
const generator_1 = require("../generators/library/generator");
/**
 * The value of `npmScope` in an nx.json file
 */
function createTestUILib(libName, style = stencil_core_utils_1.SupportedStyles.css, buildable = true) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        const host = (0, testing_1.createTreeWithEmptyWorkspace)({ layout: 'apps-libs' });
        (0, devkit_1.updateJson)(host, '/package.json', (json) => {
            json.devDependencies = {
                '@nx/workspace': '17.0.0',
            };
            return json;
        });
        yield (0, generator_1.libraryGenerator)(host, {
            name: libName,
            style: style,
            buildable,
            publishable: false,
        });
        return host;
    });
}
exports.createTestUILib = createTestUILib;
function fileListForAppType(projectName, style, projectType, subDirectory) {
    if (!subDirectory) {
        if (projectType == 'application') {
            return [
                `apps/${projectName}/src/global/app.${style}`,
                `apps/${projectName}/src/global/app.ts`,
                `apps/${projectName}/stencil.config.ts`,
                `apps/${projectName}/tsconfig.json`,
                `apps/${projectName}/src/components/app-home/app-home.e2e.ts`,
                `apps/${projectName}/src/components/app-home/app-home.tsx`,
                `apps/${projectName}/src/components/app-home/app-home.${style}`,
                `apps/${projectName}/src/components/app-profile/app-profile.e2e.ts`,
                `apps/${projectName}/src/components/app-profile/app-profile.tsx`,
                `apps/${projectName}/src/components/app-profile/app-profile.spec.ts`,
                `apps/${projectName}/src/components/app-profile/app-profile.${style}`,
                `apps/${projectName}/src/components/app-root/app-root.e2e.ts`,
                `apps/${projectName}/src/components/app-root/app-root.tsx`,
                `apps/${projectName}/src/components/app-root/app-root.${style}`,
            ];
        }
        if (projectType == 'library') {
            return [
                `libs/${projectName}/stencil.config.ts`,
                `libs/${projectName}/tsconfig.json`,
                `libs/${projectName}/src/components/my-component/my-component.e2e.ts`,
                `libs/${projectName}/src/components/my-component/my-component.spec.ts`,
                `libs/${projectName}/src/components/my-component/my-component.tsx`,
                `libs/${projectName}/src/components/my-component/my-component.${style}`,
                `libs/${projectName}/src/utils/utils.spec.ts`,
                `libs/${projectName}/src/utils/utils.ts`,
            ];
        }
    }
    else {
        if (projectType == 'application') {
            return [
                `apps/${subDirectory}/${projectName}/src/global/app.${style}`,
                `apps/${subDirectory}/${projectName}/src/global/app.ts`,
                `apps/${subDirectory}/${projectName}/stencil.config.ts`,
                `apps/${subDirectory}/${projectName}/tsconfig.json`,
                `apps/${subDirectory}/${projectName}/src/components/app-home/app-home.e2e.ts`,
                `apps/${subDirectory}/${projectName}/src/components/app-home/app-home.tsx`,
                `apps/${subDirectory}/${projectName}/src/components/app-home/app-home.${style}`,
                `apps/${subDirectory}/${projectName}/src/components/app-profile/app-profile.e2e.ts`,
                `apps/${subDirectory}/${projectName}/src/components/app-profile/app-profile.tsx`,
                `apps/${subDirectory}/${projectName}/src/components/app-profile/app-profile.spec.ts`,
                `apps/${subDirectory}/${projectName}/src/components/app-profile/app-profile.${style}`,
                `apps/${subDirectory}/${projectName}/src/components/app-root/app-root.e2e.ts`,
                `apps/${subDirectory}/${projectName}/src/components/app-root/app-root.tsx`,
                `apps/${subDirectory}/${projectName}/src/components/app-root/app-root.${style}`,
            ];
        }
        if (projectType == 'library') {
            return [
                `libs/${subDirectory}/${projectName}/stencil.config.ts`,
                `libs/${subDirectory}/${projectName}/tsconfig.json`,
                `libs/${subDirectory}/${projectName}/src/components/my-component/my-component.e2e.ts`,
                `libs/${subDirectory}/${projectName}/src/components/my-component/my-component.spec.ts`,
                `libs/${subDirectory}/${projectName}/src/components/my-component/my-component.tsx`,
                `libs/${subDirectory}/${projectName}/src/components/my-component/my-component.${style}`,
                `libs/${subDirectory}/${projectName}/src/utils/utils.spec.ts`,
                `libs/${subDirectory}/${projectName}/src/utils/utils.ts`,
            ];
        }
    }
}
exports.fileListForAppType = fileListForAppType;
//# sourceMappingURL=testing.js.map